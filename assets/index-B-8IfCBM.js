(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Nw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ad={exports:{}},ka={},ld={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Dw(){if(rg)return Pe;rg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function F(O,W,fe){this.props=O,this.context=W,this.refs=$,this.updater=fe||x}F.prototype.isReactComponent={},F.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function Z(O,W,fe){this.props=O,this.context=W,this.refs=$,this.updater=fe||x}var J=Z.prototype=new Y;J.constructor=Z,j(J,F.prototype),J.isPureReactComponent=!0;var ce=Array.isArray,Se=Object.prototype.hasOwnProperty,Ie={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(O,W,fe){var Ae,Re={},De=null,be=null;if(W!=null)for(Ae in W.ref!==void 0&&(be=W.ref),W.key!==void 0&&(De=""+W.key),W)Se.call(W,Ae)&&!N.hasOwnProperty(Ae)&&(Re[Ae]=W[Ae]);var Fe=arguments.length-2;if(Fe===1)Re.children=fe;else if(1<Fe){for(var $e=Array(Fe),yt=0;yt<Fe;yt++)$e[yt]=arguments[yt+2];Re.children=$e}if(O&&O.defaultProps)for(Ae in Fe=O.defaultProps,Fe)Re[Ae]===void 0&&(Re[Ae]=Fe[Ae]);return{$$typeof:r,type:O,key:De,ref:be,props:Re,_owner:Ie.current}}function C(O,W){return{$$typeof:r,type:O.type,key:W,ref:O.ref,props:O.props,_owner:O._owner}}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function V(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return W[fe]})}var M=/\/+/g;function R(O,W){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):W.toString(36)}function rt(O,W,fe,Ae,Re){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(De){case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case r:case e:be=!0}}if(be)return be=O,Re=Re(be),O=Ae===""?"."+R(be,0):Ae,ce(Re)?(fe="",O!=null&&(fe=O.replace(M,"$&/")+"/"),rt(Re,W,fe,"",function(yt){return yt})):Re!=null&&(k(Re)&&(Re=C(Re,fe+(!Re.key||be&&be.key===Re.key?"":(""+Re.key).replace(M,"$&/")+"/")+O)),W.push(Re)),1;if(be=0,Ae=Ae===""?".":Ae+":",ce(O))for(var Fe=0;Fe<O.length;Fe++){De=O[Fe];var $e=Ae+R(De,Fe);be+=rt(De,W,fe,$e,Re)}else if($e=A(O),typeof $e=="function")for(O=$e.call(O),Fe=0;!(De=O.next()).done;)De=De.value,$e=Ae+R(De,Fe++),be+=rt(De,W,fe,$e,Re);else if(De==="object")throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return be}function Dt(O,W,fe){if(O==null)return O;var Ae=[],Re=0;return rt(O,Ae,"","",function(De){return W.call(fe,De,Re++)}),Ae}function Vt(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var je={current:null},ne={transition:null},pe={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Ie};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Dt,forEach:function(O,W,fe){Dt(O,function(){W.apply(this,arguments)},fe)},count:function(O){var W=0;return Dt(O,function(){W++}),W},toArray:function(O){return Dt(O,function(W){return W})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Pe.Component=F,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=Z,Pe.StrictMode=s,Pe.Suspense=g,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Pe.act=oe,Pe.cloneElement=function(O,W,fe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ae=j({},O.props),Re=O.key,De=O.ref,be=O._owner;if(W!=null){if(W.ref!==void 0&&(De=W.ref,be=Ie.current),W.key!==void 0&&(Re=""+W.key),O.type&&O.type.defaultProps)var Fe=O.type.defaultProps;for($e in W)Se.call(W,$e)&&!N.hasOwnProperty($e)&&(Ae[$e]=W[$e]===void 0&&Fe!==void 0?Fe[$e]:W[$e])}var $e=arguments.length-2;if($e===1)Ae.children=fe;else if(1<$e){Fe=Array($e);for(var yt=0;yt<$e;yt++)Fe[yt]=arguments[yt+2];Ae.children=Fe}return{$$typeof:r,type:O.type,key:Re,ref:De,props:Ae,_owner:be}},Pe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Pe.createElement=I,Pe.createFactory=function(O){var W=I.bind(null,O);return W.type=O,W},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(O){return{$$typeof:f,render:O}},Pe.isValidElement=k,Pe.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:Vt}},Pe.memo=function(O,W){return{$$typeof:y,type:O,compare:W===void 0?null:W}},Pe.startTransition=function(O){var W=ne.transition;ne.transition={};try{O()}finally{ne.transition=W}},Pe.unstable_act=oe,Pe.useCallback=function(O,W){return je.current.useCallback(O,W)},Pe.useContext=function(O){return je.current.useContext(O)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(O){return je.current.useDeferredValue(O)},Pe.useEffect=function(O,W){return je.current.useEffect(O,W)},Pe.useId=function(){return je.current.useId()},Pe.useImperativeHandle=function(O,W,fe){return je.current.useImperativeHandle(O,W,fe)},Pe.useInsertionEffect=function(O,W){return je.current.useInsertionEffect(O,W)},Pe.useLayoutEffect=function(O,W){return je.current.useLayoutEffect(O,W)},Pe.useMemo=function(O,W){return je.current.useMemo(O,W)},Pe.useReducer=function(O,W,fe){return je.current.useReducer(O,W,fe)},Pe.useRef=function(O){return je.current.useRef(O)},Pe.useState=function(O){return je.current.useState(O)},Pe.useSyncExternalStore=function(O,W,fe){return je.current.useSyncExternalStore(O,W,fe)},Pe.useTransition=function(){return je.current.useTransition()},Pe.version="18.3.1",Pe}var ig;function Xd(){return ig||(ig=1,ld.exports=Dw()),ld.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function Vw(){if(sg)return ka;sg=1;var r=Xd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,g,y){var w,T={},A=null,x=null;y!==void 0&&(A=""+y),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(x=g.ref);for(w in g)s.call(g,w)&&!l.hasOwnProperty(w)&&(T[w]=g[w]);if(f&&f.defaultProps)for(w in g=f.defaultProps,g)T[w]===void 0&&(T[w]=g[w]);return{$$typeof:e,type:f,key:A,ref:x,props:T,_owner:o.current}}return ka.Fragment=t,ka.jsx=h,ka.jsxs=h,ka}var og;function Ow(){return og||(og=1,ad.exports=Vw()),ad.exports}var re=Ow(),G=Xd();const Mw=Nw(G);var Ru={},ud={exports:{}},Zt={},cd={exports:{}},hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function Lw(){return ag||(ag=1,(function(r){function e(ne,pe){var oe=ne.length;ne.push(pe);e:for(;0<oe;){var O=oe-1>>>1,W=ne[O];if(0<o(W,pe))ne[O]=pe,ne[oe]=W,oe=O;else break e}}function t(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var pe=ne[0],oe=ne.pop();if(oe!==pe){ne[0]=oe;e:for(var O=0,W=ne.length,fe=W>>>1;O<fe;){var Ae=2*(O+1)-1,Re=ne[Ae],De=Ae+1,be=ne[De];if(0>o(Re,oe))De<W&&0>o(be,Re)?(ne[O]=be,ne[De]=oe,O=De):(ne[O]=Re,ne[Ae]=oe,O=Ae);else if(De<W&&0>o(be,oe))ne[O]=be,ne[De]=oe,O=De;else break e}}return pe}function o(ne,pe){var oe=ne.sortIndex-pe.sortIndex;return oe!==0?oe:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var g=[],y=[],w=1,T=null,A=3,x=!1,j=!1,$=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ne){for(var pe=t(y);pe!==null;){if(pe.callback===null)s(y);else if(pe.startTime<=ne)s(y),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=t(y)}}function ce(ne){if($=!1,J(ne),!j)if(t(g)!==null)j=!0,Vt(Se);else{var pe=t(y);pe!==null&&je(ce,pe.startTime-ne)}}function Se(ne,pe){j=!1,$&&($=!1,Y(I),I=-1),x=!0;var oe=A;try{for(J(pe),T=t(g);T!==null&&(!(T.expirationTime>pe)||ne&&!V());){var O=T.callback;if(typeof O=="function"){T.callback=null,A=T.priorityLevel;var W=O(T.expirationTime<=pe);pe=r.unstable_now(),typeof W=="function"?T.callback=W:T===t(g)&&s(g),J(pe)}else s(g);T=t(g)}if(T!==null)var fe=!0;else{var Ae=t(y);Ae!==null&&je(ce,Ae.startTime-pe),fe=!1}return fe}finally{T=null,A=oe,x=!1}}var Ie=!1,N=null,I=-1,C=5,k=-1;function V(){return!(r.unstable_now()-k<C)}function M(){if(N!==null){var ne=r.unstable_now();k=ne;var pe=!0;try{pe=N(!0,ne)}finally{pe?R():(Ie=!1,N=null)}}else Ie=!1}var R;if(typeof Z=="function")R=function(){Z(M)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,Dt=rt.port2;rt.port1.onmessage=M,R=function(){Dt.postMessage(null)}}else R=function(){F(M,0)};function Vt(ne){N=ne,Ie||(Ie=!0,R())}function je(ne,pe){I=F(function(){ne(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){j||x||(j=!0,Vt(Se))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var pe=3;break;default:pe=A}var oe=A;A=pe;try{return ne()}finally{A=oe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=A;A=ne;try{return pe()}finally{A=oe}},r.unstable_scheduleCallback=function(ne,pe,oe){var O=r.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,ne){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=oe+W,ne={id:w++,callback:pe,priorityLevel:ne,startTime:oe,expirationTime:W,sortIndex:-1},oe>O?(ne.sortIndex=oe,e(y,ne),t(g)===null&&ne===t(y)&&($?(Y(I),I=-1):$=!0,je(ce,oe-O))):(ne.sortIndex=W,e(g,ne),j||x||(j=!0,Vt(Se))),ne},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(ne){var pe=A;return function(){var oe=A;A=pe;try{return ne.apply(this,arguments)}finally{A=oe}}}})(hd)),hd}var lg;function bw(){return lg||(lg=1,cd.exports=Lw()),cd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ug;function Fw(){if(ug)return Zt;ug=1;var r=Xd(),e=bw();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function A(n){return g.call(T,n)?!0:g.call(w,n)?!1:y.test(n)?T[n]=!0:(w[n]=!0,!1)}function x(n,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function j(n,i,a,c){if(i===null||typeof i>"u"||x(n,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function $(n,i,a,c,d,m,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=i,this.sanitizeURL=m,this.removeEmptyString=v}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){F[n]=new $(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];F[i]=new $(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){F[n]=new $(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){F[n]=new $(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){F[n]=new $(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){F[n]=new $(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){F[n]=new $(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){F[n]=new $(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){F[n]=new $(n,5,!1,n.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function Z(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(Y,Z);F[i]=new $(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(Y,Z);F[i]=new $(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(Y,Z);F[i]=new $(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){F[n]=new $(n,1,!1,n.toLowerCase(),null,!1,!1)}),F.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){F[n]=new $(n,1,!1,n.toLowerCase(),null,!0,!0)});function J(n,i,a,c){var d=F.hasOwnProperty(i)?F[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(j(i,a,d,c)&&(a=null),c||d===null?A(i)&&(a===null?n.removeAttribute(i):n.setAttribute(i,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,i,a):n.setAttribute(i,a))))}var ce=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),Ie=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ne=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,O;function W(n){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+n}var fe=!1;function Ae(n,i){if(!n||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var c=U}Reflect.construct(n,[],i)}else{try{i.call()}catch(U){c=U}n.call(i.prototype)}else{try{throw Error()}catch(U){c=U}n()}}catch(U){if(U&&c&&typeof U.stack=="string"){for(var d=U.stack.split(`
`),m=c.stack.split(`
`),v=d.length-1,S=m.length-1;1<=v&&0<=S&&d[v]!==m[S];)S--;for(;1<=v&&0<=S;v--,S--)if(d[v]!==m[S]){if(v!==1||S!==1)do if(v--,S--,0>S||d[v]!==m[S]){var P=`
`+d[v].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=v&&0<=S);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?W(n):""}function Re(n){switch(n.tag){case 5:return W(n.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return n=Ae(n.type,!1),n;case 11:return n=Ae(n.type.render,!1),n;case 1:return n=Ae(n.type,!0),n;default:return""}}function De(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case Ie:return"Portal";case C:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case rt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case V:return(n.displayName||"Context")+".Consumer";case k:return(n._context.displayName||"Context")+".Provider";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Dt:return i=n.displayName||null,i!==null?i:De(n.type)||"Memo";case Vt:i=n._payload,n=n._init;try{return De(n(i))}catch{}}return null}function be(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Fe(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $e(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yt(n){var i=$e(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ur(n){n._valueTracker||(n._valueTracker=yt(n))}function _s(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=$e(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function zr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ri(n,i){var a=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function ys(n,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Fe(i.value!=null?i.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Mo(n,i){i=i.checked,i!=null&&J(n,"checked",i,!1)}function Lo(n,i){Mo(n,i);var a=Fe(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?vs(n,i.type,a):i.hasOwnProperty("defaultValue")&&vs(n,i.type,Fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function dl(n,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,a||i===n.value||(n.value=i),n.defaultValue=i}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function vs(n,i,a){(i!=="number"||zr(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var cr=Array.isArray;function hr(n,i,a,c){if(n=n.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=i.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Fe(a),i=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function bo(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ws(n,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(cr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}n._wrapperState={initialValue:Fe(a)}}function Es(n,i){var a=Fe(i.value),c=Fe(i.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),i.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function Fo(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function ht(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?ht(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var dr,zo=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(i,a,c,d)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(dr=dr||document.createElement("div"),dr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=dr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Ur(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ki=["Webkit","ms","Moz","O"];Object.keys(Pi).forEach(function(n){ki.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Pi[i]=Pi[n]})});function Uo(n,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Pi.hasOwnProperty(n)&&Pi[n]?(""+i).trim():i+"px"}function jo(n,i){n=n.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=Uo(a,i[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var Bo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $o(n,i){if(i){if(Bo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Go(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xi=null;function Ts(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Is=null,cn=null,jn=null;function Ss(n){if(n=pa(n)){if(typeof Is!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Bl(i),Is(n.stateNode,n.type,i))}}function Bn(n){cn?jn?jn.push(n):jn=[n]:cn=n}function Ho(){if(cn){var n=cn,i=jn;if(jn=cn=null,Ss(n),i)for(n=0;n<i.length;n++)Ss(i[n])}}function Ni(n,i){return n(i)}function Wo(){}var fr=!1;function qo(n,i,a){if(fr)return n(i,a);fr=!0;try{return Ni(n,i,a)}finally{fr=!1,(cn!==null||jn!==null)&&(Wo(),Ho())}}function it(n,i){var a=n.stateNode;if(a===null)return null;var c=Bl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var As=!1;if(f)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){As=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{As=!1}function Di(n,i,a,c,d,m,v,S,P){var U=Array.prototype.slice.call(arguments,3);try{i.apply(a,U)}catch(Q){this.onError(Q)}}var Vi=!1,Cs=null,In=!1,Ko=null,Mc={onError:function(n){Vi=!0,Cs=n}};function Rs(n,i,a,c,d,m,v,S,P){Vi=!1,Cs=null,Di.apply(Mc,arguments)}function fl(n,i,a,c,d,m,v,S,P){if(Rs.apply(this,arguments),Vi){if(Vi){var U=Cs;Vi=!1,Cs=null}else throw Error(t(198));In||(In=!0,Ko=U)}}function Sn(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function Oi(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function An(n){if(Sn(n)!==n)throw Error(t(188))}function pl(n){var i=n.alternate;if(!i){if(i=Sn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var a=n,c=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return An(d),n;if(m===c)return An(d),i;m=m.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=m;else{for(var v=!1,S=d.child;S;){if(S===a){v=!0,a=d,c=m;break}if(S===c){v=!0,c=d,a=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===a){v=!0,a=m,c=d;break}if(S===c){v=!0,c=m,a=d;break}S=S.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:i}function Qo(n){return n=pl(n),n!==null?Ps(n):null}function Ps(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=Ps(n);if(i!==null)return i;n=n.sibling}return null}var ks=e.unstable_scheduleCallback,Jo=e.unstable_cancelCallback,ml=e.unstable_shouldYield,Lc=e.unstable_requestPaint,Ge=e.unstable_now,gl=e.unstable_getCurrentPriorityLevel,Mi=e.unstable_ImmediatePriority,jr=e.unstable_UserBlockingPriority,hn=e.unstable_NormalPriority,Xo=e.unstable_LowPriority,_l=e.unstable_IdlePriority,Li=null,nn=null;function yl(n){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Li,n,void 0,(n.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:wl,Yo=Math.log,vl=Math.LN2;function wl(n){return n>>>=0,n===0?32:31-(Yo(n)/vl|0)|0}var xs=64,Ns=4194304;function Br(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function bi(n,i){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,m=n.pingedLanes,v=a&268435455;if(v!==0){var S=v&~d;S!==0?c=Br(S):(m&=v,m!==0&&(c=Br(m)))}else v=a&~d,v!==0?c=Br(v):m!==0&&(c=Br(m));if(c===0)return 0;if(i!==0&&i!==c&&(i&d)===0&&(d=c&-c,m=i&-i,d>=m||d===16&&(m&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)a=31-Bt(i),d=1<<a,c|=n[a],i&=~d;return c}function bc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pr(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes;0<m;){var v=31-Bt(m),S=1<<v,P=d[v];P===-1?((S&a)===0||(S&c)!==0)&&(d[v]=bc(S,i)):P<=i&&(n.expiredLanes|=S),m&=~S}}function rn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Fi(){var n=xs;return xs<<=1,(xs&4194240)===0&&(xs=64),n}function $r(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Gr(n,i,a){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Bt(i),n[i]=a}function Be(n,i){var a=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Bt(a),m=1<<d;i[d]=0,c[d]=-1,n[d]=-1,a&=~m}}function Hr(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Bt(a),d=1<<c;d&i|n[c]&i&&(n[c]|=i),a&=~d}}var Ne=0;function Wr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var El,Ds,Tl,Il,Sl,Zo=!1,$n=[],At=null,Cn=null,Rn=null,qr=new Map,dn=new Map,Gn=[],Fc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Al(n,i){switch(n){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":qr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":dn.delete(i.pointerId)}}function Wt(n,i,a,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=pa(i),i!==null&&Ds(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function zc(n,i,a,c,d){switch(i){case"focusin":return At=Wt(At,n,i,a,c,d),!0;case"dragenter":return Cn=Wt(Cn,n,i,a,c,d),!0;case"mouseover":return Rn=Wt(Rn,n,i,a,c,d),!0;case"pointerover":var m=d.pointerId;return qr.set(m,Wt(qr.get(m)||null,n,i,a,c,d)),!0;case"gotpointercapture":return m=d.pointerId,dn.set(m,Wt(dn.get(m)||null,n,i,a,c,d)),!0}return!1}function Cl(n){var i=$i(n.target);if(i!==null){var a=Sn(i);if(a!==null){if(i=a.tag,i===13){if(i=Oi(a),i!==null){n.blockedOn=i,Sl(n.priority,function(){Tl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Vs(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);xi=c,a.target.dispatchEvent(c),xi=null}else return i=pa(a),i!==null&&Ds(i),n.blockedOn=a,!1;i.shift()}return!0}function zi(n,i,a){mr(n)&&a.delete(i)}function Rl(){Zo=!1,At!==null&&mr(At)&&(At=null),Cn!==null&&mr(Cn)&&(Cn=null),Rn!==null&&mr(Rn)&&(Rn=null),qr.forEach(zi),dn.forEach(zi)}function Pn(n,i){n.blockedOn===i&&(n.blockedOn=null,Zo||(Zo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Rl)))}function kn(n){function i(d){return Pn(d,n)}if(0<$n.length){Pn($n[0],n);for(var a=1;a<$n.length;a++){var c=$n[a];c.blockedOn===n&&(c.blockedOn=null)}}for(At!==null&&Pn(At,n),Cn!==null&&Pn(Cn,n),Rn!==null&&Pn(Rn,n),qr.forEach(i),dn.forEach(i),a=0;a<Gn.length;a++)c=Gn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Gn.length&&(a=Gn[0],a.blockedOn===null);)Cl(a),a.blockedOn===null&&Gn.shift()}var gr=ce.ReactCurrentBatchConfig,Kr=!0;function Je(n,i,a,c){var d=Ne,m=gr.transition;gr.transition=null;try{Ne=1,ea(n,i,a,c)}finally{Ne=d,gr.transition=m}}function Uc(n,i,a,c){var d=Ne,m=gr.transition;gr.transition=null;try{Ne=4,ea(n,i,a,c)}finally{Ne=d,gr.transition=m}}function ea(n,i,a,c){if(Kr){var d=Vs(n,i,a,c);if(d===null)Xc(n,i,c,Ui,a),Al(n,c);else if(zc(d,n,i,a,c))c.stopPropagation();else if(Al(n,c),i&4&&-1<Fc.indexOf(n)){for(;d!==null;){var m=pa(d);if(m!==null&&El(m),m=Vs(n,i,a,c),m===null&&Xc(n,i,c,Ui,a),m===d)break;d=m}d!==null&&c.stopPropagation()}else Xc(n,i,c,null,a)}}var Ui=null;function Vs(n,i,a,c){if(Ui=null,n=Ts(c),n=$i(n),n!==null)if(i=Sn(n),i===null)n=null;else if(a=i.tag,a===13){if(n=Oi(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ui=n,null}function ta(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gl()){case Mi:return 1;case jr:return 4;case hn:case Xo:return 16;case _l:return 536870912;default:return 16}default:return 16}}var sn=null,Os=null,qt=null;function na(){if(qt)return qt;var n,i=Os,a=i.length,c,d="value"in sn?sn.value:sn.textContent,m=d.length;for(n=0;n<a&&i[n]===d[n];n++);var v=a-n;for(c=1;c<=v&&i[a-c]===d[m-c];c++);return qt=d.slice(n,1<c?1-c:void 0)}function Ms(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Hn(){return!0}function ra(){return!1}function Ct(n){function i(a,c,d,m,v){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Hn:ra,this.isPropagationStopped=ra,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),i}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Ct(xn),Wn=oe({},xn,{view:0,detail:0}),jc=Ct(Wn),bs,_r,Qr,ji=oe({},Wn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qn,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qr&&(Qr&&n.type==="mousemove"?(bs=n.screenX-Qr.screenX,_r=n.screenY-Qr.screenY):_r=bs=0,Qr=n),bs)},movementY:function(n){return"movementY"in n?n.movementY:_r}}),Fs=Ct(ji),ia=oe({},ji,{dataTransfer:0}),Pl=Ct(ia),zs=oe({},Wn,{relatedTarget:0}),Us=Ct(zs),kl=oe({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),yr=Ct(kl),xl=oe({},xn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Nl=Ct(xl),Dl=oe({},xn,{data:0}),sa=Ct(Dl),js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$t={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ol(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Vl[n])?!!i[n]:!1}function qn(){return Ol}var u=oe({},Wn,{key:function(n){if(n.key){var i=js[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ms(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$t[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qn,charCode:function(n){return n.type==="keypress"?Ms(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ms(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),p=Ct(u),_=oe({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Ct(_),L=oe({},Wn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qn}),B=Ct(L),te=oe({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=Ct(te),ft=oe({},ji,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=Ct(ft),vt=[9,13,27,32],at=f&&"CompositionEvent"in window,fn=null;f&&"documentMode"in document&&(fn=document.documentMode);var on=f&&"TextEvent"in window&&!fn,Bi=f&&(!at||fn&&8<fn&&11>=fn),Bs=" ",Xf=!1;function Yf(n,i){switch(n){case"keyup":return vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $s=!1;function P0(n,i){switch(n){case"compositionend":return Zf(i);case"keypress":return i.which!==32?null:(Xf=!0,Bs);case"textInput":return n=i.data,n===Bs&&Xf?null:n;default:return null}}function k0(n,i){if($s)return n==="compositionend"||!at&&Yf(n,i)?(n=na(),qt=Os=sn=null,$s=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Bi&&i.locale!=="ko"?null:i.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!x0[n.type]:i==="textarea"}function tp(n,i,a,c){Bn(c),i=zl(i,"onChange"),0<i.length&&(a=new Ls("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var oa=null,aa=null;function N0(n){vp(n,0)}function Ml(n){var i=Ks(n);if(_s(i))return n}function D0(n,i){if(n==="change")return i}var np=!1;if(f){var Bc;if(f){var $c="oninput"in document;if(!$c){var rp=document.createElement("div");rp.setAttribute("oninput","return;"),$c=typeof rp.oninput=="function"}Bc=$c}else Bc=!1;np=Bc&&(!document.documentMode||9<document.documentMode)}function ip(){oa&&(oa.detachEvent("onpropertychange",sp),aa=oa=null)}function sp(n){if(n.propertyName==="value"&&Ml(aa)){var i=[];tp(i,aa,n,Ts(n)),qo(N0,i)}}function V0(n,i,a){n==="focusin"?(ip(),oa=i,aa=a,oa.attachEvent("onpropertychange",sp)):n==="focusout"&&ip()}function O0(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ml(aa)}function M0(n,i){if(n==="click")return Ml(i)}function L0(n,i){if(n==="input"||n==="change")return Ml(i)}function b0(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Nn=typeof Object.is=="function"?Object.is:b0;function la(n,i){if(Nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!g.call(i,d)||!Nn(n[d],i[d]))return!1}return!0}function op(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ap(n,i){var a=op(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=op(a)}}function lp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?lp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function up(){for(var n=window,i=zr();i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=zr(n.document)}return i}function Gc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function F0(n){var i=up(),a=n.focusedElem,c=n.selectionRange;if(i!==a&&a&&a.ownerDocument&&lp(a.ownerDocument.documentElement,a)){if(c!==null&&Gc(a)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(n,a.value.length);else if(n=(i=a.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,m=Math.min(c.start,d);c=c.end===void 0?m:Math.min(c.end,d),!n.extend&&m>c&&(d=c,c=m,m=d),d=ap(a,m);var v=ap(a,c);d&&v&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),n.removeAllRanges(),m>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=a;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)n=i[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var z0=f&&"documentMode"in document&&11>=document.documentMode,Gs=null,Hc=null,ua=null,Wc=!1;function cp(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wc||Gs==null||Gs!==zr(c)||(c=Gs,"selectionStart"in c&&Gc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ua&&la(ua,c)||(ua=c,c=zl(Hc,"onSelect"),0<c.length&&(i=new Ls("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=Gs)))}function Ll(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Hs={animationend:Ll("Animation","AnimationEnd"),animationiteration:Ll("Animation","AnimationIteration"),animationstart:Ll("Animation","AnimationStart"),transitionend:Ll("Transition","TransitionEnd")},qc={},hp={};f&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function bl(n){if(qc[n])return qc[n];if(!Hs[n])return n;var i=Hs[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in hp)return qc[n]=i[a];return n}var dp=bl("animationend"),fp=bl("animationiteration"),pp=bl("animationstart"),mp=bl("transitionend"),gp=new Map,_p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(n,i){gp.set(n,i),l(i,[n])}for(var Kc=0;Kc<_p.length;Kc++){var Qc=_p[Kc],U0=Qc.toLowerCase(),j0=Qc[0].toUpperCase()+Qc.slice(1);Jr(U0,"on"+j0)}Jr(dp,"onAnimationEnd"),Jr(fp,"onAnimationIteration"),Jr(pp,"onAnimationStart"),Jr("dblclick","onDoubleClick"),Jr("focusin","onFocus"),Jr("focusout","onBlur"),Jr(mp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function yp(n,i,a){var c=n.type||"unknown-event";n.currentTarget=a,fl(c,i,void 0,n),n.currentTarget=null}function vp(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var v=c.length-1;0<=v;v--){var S=c[v],P=S.instance,U=S.currentTarget;if(S=S.listener,P!==m&&d.isPropagationStopped())break e;yp(d,S,U),m=P}else for(v=0;v<c.length;v++){if(S=c[v],P=S.instance,U=S.currentTarget,S=S.listener,P!==m&&d.isPropagationStopped())break e;yp(d,S,U),m=P}}}if(In)throw n=Ko,In=!1,Ko=null,n}function We(n,i){var a=i[rh];a===void 0&&(a=i[rh]=new Set);var c=n+"__bubble";a.has(c)||(wp(i,n,2,!1),a.add(c))}function Jc(n,i,a){var c=0;i&&(c|=4),wp(a,n,c,i)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function ha(n){if(!n[Fl]){n[Fl]=!0,s.forEach(function(a){a!=="selectionchange"&&(B0.has(a)||Jc(a,!1,n),Jc(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Fl]||(i[Fl]=!0,Jc("selectionchange",!1,i))}}function wp(n,i,a,c){switch(ta(i)){case 1:var d=Je;break;case 4:d=Uc;break;default:d=ea}a=d.bind(null,i,a,n),d=void 0,!As||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,a,{capture:!0,passive:d}):n.addEventListener(i,a,!0):d!==void 0?n.addEventListener(i,a,{passive:d}):n.addEventListener(i,a,!1)}function Xc(n,i,a,c,d){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(v===4)for(v=c.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;v=v.return}for(;S!==null;){if(v=$i(S),v===null)return;if(P=v.tag,P===5||P===6){c=m=v;continue e}S=S.parentNode}}c=c.return}qo(function(){var U=m,Q=Ts(a),X=[];e:{var q=gp.get(n);if(q!==void 0){var ie=Ls,le=n;switch(n){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":ie=p;break;case"focusin":le="focus",ie=Us;break;case"focusout":le="blur",ie=Us;break;case"beforeblur":case"afterblur":ie=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Pl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=B;break;case dp:case fp:case pp:ie=yr;break;case mp:ie=Ue;break;case"scroll":ie=jc;break;case"wheel":ie=Ve;break;case"copy":case"cut":case"paste":ie=Nl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=E}var ue=(i&4)!==0,st=!ue&&n==="scroll",b=ue?q!==null?q+"Capture":null:q;ue=[];for(var D=U,z;D!==null;){z=D;var ee=z.stateNode;if(z.tag===5&&ee!==null&&(z=ee,b!==null&&(ee=it(D,b),ee!=null&&ue.push(da(D,ee,z)))),st)break;D=D.return}0<ue.length&&(q=new ie(q,le,null,a,Q),X.push({event:q,listeners:ue}))}}if((i&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",ie=n==="mouseout"||n==="pointerout",q&&a!==xi&&(le=a.relatedTarget||a.fromElement)&&($i(le)||le[vr]))break e;if((ie||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,ie?(le=a.relatedTarget||a.toElement,ie=U,le=le?$i(le):null,le!==null&&(st=Sn(le),le!==st||le.tag!==5&&le.tag!==6)&&(le=null)):(ie=null,le=U),ie!==le)){if(ue=Fs,ee="onMouseLeave",b="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(ue=E,ee="onPointerLeave",b="onPointerEnter",D="pointer"),st=ie==null?q:Ks(ie),z=le==null?q:Ks(le),q=new ue(ee,D+"leave",ie,a,Q),q.target=st,q.relatedTarget=z,ee=null,$i(Q)===U&&(ue=new ue(b,D+"enter",le,a,Q),ue.target=z,ue.relatedTarget=st,ee=ue),st=ee,ie&&le)t:{for(ue=ie,b=le,D=0,z=ue;z;z=Ws(z))D++;for(z=0,ee=b;ee;ee=Ws(ee))z++;for(;0<D-z;)ue=Ws(ue),D--;for(;0<z-D;)b=Ws(b),z--;for(;D--;){if(ue===b||b!==null&&ue===b.alternate)break t;ue=Ws(ue),b=Ws(b)}ue=null}else ue=null;ie!==null&&Ep(X,q,ie,ue,!1),le!==null&&st!==null&&Ep(X,st,le,ue,!0)}}e:{if(q=U?Ks(U):window,ie=q.nodeName&&q.nodeName.toLowerCase(),ie==="select"||ie==="input"&&q.type==="file")var he=D0;else if(ep(q))if(np)he=L0;else{he=O0;var ge=V0}else(ie=q.nodeName)&&ie.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(he=M0);if(he&&(he=he(n,U))){tp(X,he,a,Q);break e}ge&&ge(n,q,U),n==="focusout"&&(ge=q._wrapperState)&&ge.controlled&&q.type==="number"&&vs(q,"number",q.value)}switch(ge=U?Ks(U):window,n){case"focusin":(ep(ge)||ge.contentEditable==="true")&&(Gs=ge,Hc=U,ua=null);break;case"focusout":ua=Hc=Gs=null;break;case"mousedown":Wc=!0;break;case"contextmenu":case"mouseup":case"dragend":Wc=!1,cp(X,a,Q);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":cp(X,a,Q)}var _e;if(at)e:{switch(n){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else $s?Yf(n,a)&&(ve="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(Bi&&a.locale!=="ko"&&($s||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&$s&&(_e=na()):(sn=Q,Os="value"in sn?sn.value:sn.textContent,$s=!0)),ge=zl(U,ve),0<ge.length&&(ve=new sa(ve,n,null,a,Q),X.push({event:ve,listeners:ge}),_e?ve.data=_e:(_e=Zf(a),_e!==null&&(ve.data=_e)))),(_e=on?P0(n,a):k0(n,a))&&(U=zl(U,"onBeforeInput"),0<U.length&&(Q=new sa("onBeforeInput","beforeinput",null,a,Q),X.push({event:Q,listeners:U}),Q.data=_e))}vp(X,i)})}function da(n,i,a){return{instance:n,listener:i,currentTarget:a}}function zl(n,i){for(var a=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;d.tag===5&&m!==null&&(d=m,m=it(n,a),m!=null&&c.unshift(da(n,m,d)),m=it(n,i),m!=null&&c.push(da(n,m,d))),n=n.return}return c}function Ws(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ep(n,i,a,c,d){for(var m=i._reactName,v=[];a!==null&&a!==c;){var S=a,P=S.alternate,U=S.stateNode;if(P!==null&&P===c)break;S.tag===5&&U!==null&&(S=U,d?(P=it(a,m),P!=null&&v.unshift(da(a,P,S))):d||(P=it(a,m),P!=null&&v.push(da(a,P,S)))),a=a.return}v.length!==0&&n.push({event:i,listeners:v})}var $0=/\r\n?/g,G0=/\u0000|\uFFFD/g;function Tp(n){return(typeof n=="string"?n:""+n).replace($0,`
`).replace(G0,"")}function Ul(n,i,a){if(i=Tp(i),Tp(n)!==i&&a)throw Error(t(425))}function jl(){}var Yc=null,Zc=null;function eh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var th=typeof setTimeout=="function"?setTimeout:void 0,H0=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,W0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(n){return Ip.resolve(null).then(n).catch(q0)}:th;function q0(n){setTimeout(function(){throw n})}function nh(n,i){var a=i,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),kn(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);kn(i)}function Xr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Sp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Kn="__reactFiber$"+qs,fa="__reactProps$"+qs,vr="__reactContainer$"+qs,rh="__reactEvents$"+qs,K0="__reactListeners$"+qs,Q0="__reactHandles$"+qs;function $i(n){var i=n[Kn];if(i)return i;for(var a=n.parentNode;a;){if(i=a[vr]||a[Kn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=Sp(n);n!==null;){if(a=n[Kn])return a;n=Sp(n)}return i}n=a,a=n.parentNode}return null}function pa(n){return n=n[Kn]||n[vr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ks(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Bl(n){return n[fa]||null}var ih=[],Qs=-1;function Yr(n){return{current:n}}function qe(n){0>Qs||(n.current=ih[Qs],ih[Qs]=null,Qs--)}function He(n,i){Qs++,ih[Qs]=n.current,n.current=i}var Zr={},Ot=Yr(Zr),Kt=Yr(!1),Gi=Zr;function Js(n,i){var a=n.type.contextTypes;if(!a)return Zr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},m;for(m in a)d[m]=i[m];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=d),d}function Qt(n){return n=n.childContextTypes,n!=null}function $l(){qe(Kt),qe(Ot)}function Ap(n,i,a){if(Ot.current!==Zr)throw Error(t(168));He(Ot,i),He(Kt,a)}function Cp(n,i,a){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,be(n)||"Unknown",d));return oe({},a,c)}function Gl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Zr,Gi=Ot.current,He(Ot,n),He(Kt,Kt.current),!0}function Rp(n,i,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=Cp(n,i,Gi),c.__reactInternalMemoizedMergedChildContext=n,qe(Kt),qe(Ot),He(Ot,n)):qe(Kt),He(Kt,a)}var wr=null,Hl=!1,sh=!1;function Pp(n){wr===null?wr=[n]:wr.push(n)}function J0(n){Hl=!0,Pp(n)}function ei(){if(!sh&&wr!==null){sh=!0;var n=0,i=Ne;try{var a=wr;for(Ne=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}wr=null,Hl=!1}catch(d){throw wr!==null&&(wr=wr.slice(n+1)),ks(Mi,ei),d}finally{Ne=i,sh=!1}}return null}var Xs=[],Ys=0,Wl=null,ql=0,pn=[],mn=0,Hi=null,Er=1,Tr="";function Wi(n,i){Xs[Ys++]=ql,Xs[Ys++]=Wl,Wl=n,ql=i}function kp(n,i,a){pn[mn++]=Er,pn[mn++]=Tr,pn[mn++]=Hi,Hi=n;var c=Er;n=Tr;var d=32-Bt(c)-1;c&=~(1<<d),a+=1;var m=32-Bt(i)+d;if(30<m){var v=d-d%5;m=(c&(1<<v)-1).toString(32),c>>=v,d-=v,Er=1<<32-Bt(i)+d|a<<d|c,Tr=m+n}else Er=1<<m|a<<d|c,Tr=n}function oh(n){n.return!==null&&(Wi(n,1),kp(n,1,0))}function ah(n){for(;n===Wl;)Wl=Xs[--Ys],Xs[Ys]=null,ql=Xs[--Ys],Xs[Ys]=null;for(;n===Hi;)Hi=pn[--mn],pn[mn]=null,Tr=pn[--mn],pn[mn]=null,Er=pn[--mn],pn[mn]=null}var an=null,ln=null,Xe=!1,Dn=null;function xp(n,i){var a=vn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=n,i=n.deletions,i===null?(n.deletions=[a],n.flags|=16):i.push(a)}function Np(n,i){switch(n.tag){case 5:var a=n.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,an=n,ln=Xr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,an=n,ln=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Hi!==null?{id:Er,overflow:Tr}:null,n.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=vn(18,null,null,0),a.stateNode=i,a.return=n,n.child=a,an=n,ln=null,!0):!1;default:return!1}}function lh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function uh(n){if(Xe){var i=ln;if(i){var a=i;if(!Np(n,i)){if(lh(n))throw Error(t(418));i=Xr(a.nextSibling);var c=an;i&&Np(n,i)?xp(c,a):(n.flags=n.flags&-4097|2,Xe=!1,an=n)}}else{if(lh(n))throw Error(t(418));n.flags=n.flags&-4097|2,Xe=!1,an=n}}}function Dp(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;an=n}function Kl(n){if(n!==an)return!1;if(!Xe)return Dp(n),Xe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!eh(n.type,n.memoizedProps)),i&&(i=ln)){if(lh(n))throw Vp(),Error(t(418));for(;i;)xp(n,i),i=Xr(i.nextSibling)}if(Dp(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(i===0){ln=Xr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}n=n.nextSibling}ln=null}}else ln=an?Xr(n.stateNode.nextSibling):null;return!0}function Vp(){for(var n=ln;n;)n=Xr(n.nextSibling)}function Zs(){ln=an=null,Xe=!1}function ch(n){Dn===null?Dn=[n]:Dn.push(n)}var X0=ce.ReactCurrentBatchConfig;function ma(n,i,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,m=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(v){var S=d.refs;v===null?delete S[m]:S[m]=v},i._stringRef=m,i)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function Ql(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Op(n){var i=n._init;return i(n._payload)}function Mp(n){function i(b,D){if(n){var z=b.deletions;z===null?(b.deletions=[D],b.flags|=16):z.push(D)}}function a(b,D){if(!n)return null;for(;D!==null;)i(b,D),D=D.sibling;return null}function c(b,D){for(b=new Map;D!==null;)D.key!==null?b.set(D.key,D):b.set(D.index,D),D=D.sibling;return b}function d(b,D){return b=li(b,D),b.index=0,b.sibling=null,b}function m(b,D,z){return b.index=z,n?(z=b.alternate,z!==null?(z=z.index,z<D?(b.flags|=2,D):z):(b.flags|=2,D)):(b.flags|=1048576,D)}function v(b){return n&&b.alternate===null&&(b.flags|=2),b}function S(b,D,z,ee){return D===null||D.tag!==6?(D=td(z,b.mode,ee),D.return=b,D):(D=d(D,z),D.return=b,D)}function P(b,D,z,ee){var he=z.type;return he===N?Q(b,D,z.props.children,ee,z.key):D!==null&&(D.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Vt&&Op(he)===D.type)?(ee=d(D,z.props),ee.ref=ma(b,D,z),ee.return=b,ee):(ee=vu(z.type,z.key,z.props,null,b.mode,ee),ee.ref=ma(b,D,z),ee.return=b,ee)}function U(b,D,z,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=nd(z,b.mode,ee),D.return=b,D):(D=d(D,z.children||[]),D.return=b,D)}function Q(b,D,z,ee,he){return D===null||D.tag!==7?(D=es(z,b.mode,ee,he),D.return=b,D):(D=d(D,z),D.return=b,D)}function X(b,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=td(""+D,b.mode,z),D.return=b,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Se:return z=vu(D.type,D.key,D.props,null,b.mode,z),z.ref=ma(b,null,D),z.return=b,z;case Ie:return D=nd(D,b.mode,z),D.return=b,D;case Vt:var ee=D._init;return X(b,ee(D._payload),z)}if(cr(D)||pe(D))return D=es(D,b.mode,z,null),D.return=b,D;Ql(b,D)}return null}function q(b,D,z,ee){var he=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return he!==null?null:S(b,D,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Se:return z.key===he?P(b,D,z,ee):null;case Ie:return z.key===he?U(b,D,z,ee):null;case Vt:return he=z._init,q(b,D,he(z._payload),ee)}if(cr(z)||pe(z))return he!==null?null:Q(b,D,z,ee,null);Ql(b,z)}return null}function ie(b,D,z,ee,he){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return b=b.get(z)||null,S(D,b,""+ee,he);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Se:return b=b.get(ee.key===null?z:ee.key)||null,P(D,b,ee,he);case Ie:return b=b.get(ee.key===null?z:ee.key)||null,U(D,b,ee,he);case Vt:var ge=ee._init;return ie(b,D,z,ge(ee._payload),he)}if(cr(ee)||pe(ee))return b=b.get(z)||null,Q(D,b,ee,he,null);Ql(D,ee)}return null}function le(b,D,z,ee){for(var he=null,ge=null,_e=D,ve=D=0,Tt=null;_e!==null&&ve<z.length;ve++){_e.index>ve?(Tt=_e,_e=null):Tt=_e.sibling;var Le=q(b,_e,z[ve],ee);if(Le===null){_e===null&&(_e=Tt);break}n&&_e&&Le.alternate===null&&i(b,_e),D=m(Le,D,ve),ge===null?he=Le:ge.sibling=Le,ge=Le,_e=Tt}if(ve===z.length)return a(b,_e),Xe&&Wi(b,ve),he;if(_e===null){for(;ve<z.length;ve++)_e=X(b,z[ve],ee),_e!==null&&(D=m(_e,D,ve),ge===null?he=_e:ge.sibling=_e,ge=_e);return Xe&&Wi(b,ve),he}for(_e=c(b,_e);ve<z.length;ve++)Tt=ie(_e,b,ve,z[ve],ee),Tt!==null&&(n&&Tt.alternate!==null&&_e.delete(Tt.key===null?ve:Tt.key),D=m(Tt,D,ve),ge===null?he=Tt:ge.sibling=Tt,ge=Tt);return n&&_e.forEach(function(ui){return i(b,ui)}),Xe&&Wi(b,ve),he}function ue(b,D,z,ee){var he=pe(z);if(typeof he!="function")throw Error(t(150));if(z=he.call(z),z==null)throw Error(t(151));for(var ge=he=null,_e=D,ve=D=0,Tt=null,Le=z.next();_e!==null&&!Le.done;ve++,Le=z.next()){_e.index>ve?(Tt=_e,_e=null):Tt=_e.sibling;var ui=q(b,_e,Le.value,ee);if(ui===null){_e===null&&(_e=Tt);break}n&&_e&&ui.alternate===null&&i(b,_e),D=m(ui,D,ve),ge===null?he=ui:ge.sibling=ui,ge=ui,_e=Tt}if(Le.done)return a(b,_e),Xe&&Wi(b,ve),he;if(_e===null){for(;!Le.done;ve++,Le=z.next())Le=X(b,Le.value,ee),Le!==null&&(D=m(Le,D,ve),ge===null?he=Le:ge.sibling=Le,ge=Le);return Xe&&Wi(b,ve),he}for(_e=c(b,_e);!Le.done;ve++,Le=z.next())Le=ie(_e,b,ve,Le.value,ee),Le!==null&&(n&&Le.alternate!==null&&_e.delete(Le.key===null?ve:Le.key),D=m(Le,D,ve),ge===null?he=Le:ge.sibling=Le,ge=Le);return n&&_e.forEach(function(xw){return i(b,xw)}),Xe&&Wi(b,ve),he}function st(b,D,z,ee){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Se:e:{for(var he=z.key,ge=D;ge!==null;){if(ge.key===he){if(he=z.type,he===N){if(ge.tag===7){a(b,ge.sibling),D=d(ge,z.props.children),D.return=b,b=D;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===Vt&&Op(he)===ge.type){a(b,ge.sibling),D=d(ge,z.props),D.ref=ma(b,ge,z),D.return=b,b=D;break e}a(b,ge);break}else i(b,ge);ge=ge.sibling}z.type===N?(D=es(z.props.children,b.mode,ee,z.key),D.return=b,b=D):(ee=vu(z.type,z.key,z.props,null,b.mode,ee),ee.ref=ma(b,D,z),ee.return=b,b=ee)}return v(b);case Ie:e:{for(ge=z.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(b,D.sibling),D=d(D,z.children||[]),D.return=b,b=D;break e}else{a(b,D);break}else i(b,D);D=D.sibling}D=nd(z,b.mode,ee),D.return=b,b=D}return v(b);case Vt:return ge=z._init,st(b,D,ge(z._payload),ee)}if(cr(z))return le(b,D,z,ee);if(pe(z))return ue(b,D,z,ee);Ql(b,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(a(b,D.sibling),D=d(D,z),D.return=b,b=D):(a(b,D),D=td(z,b.mode,ee),D.return=b,b=D),v(b)):a(b,D)}return st}var eo=Mp(!0),Lp=Mp(!1),Jl=Yr(null),Xl=null,to=null,hh=null;function dh(){hh=to=Xl=null}function fh(n){var i=Jl.current;qe(Jl),n._currentValue=i}function ph(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function no(n,i){Xl=n,hh=to=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Jt=!0),n.firstContext=null)}function gn(n){var i=n._currentValue;if(hh!==n)if(n={context:n,memoizedValue:i,next:null},to===null){if(Xl===null)throw Error(t(308));to=n,Xl.dependencies={lanes:0,firstContext:n}}else to=to.next=n;return i}var qi=null;function mh(n){qi===null?qi=[n]:qi.push(n)}function bp(n,i,a,c){var d=i.interleaved;return d===null?(a.next=a,mh(i)):(a.next=d.next,d.next=a),i.interleaved=a,Ir(n,c)}function Ir(n,i){n.lanes|=i;var a=n.alternate;for(a!==null&&(a.lanes|=i),a=n,n=n.return;n!==null;)n.childLanes|=i,a=n.alternate,a!==null&&(a.childLanes|=i),a=n,n=n.return;return a.tag===3?a.stateNode:null}var ti=!1;function gh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Sr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ni(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Me&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,Ir(n,a)}return d=c.interleaved,d===null?(i.next=i,mh(c)):(i.next=d.next,d.next=i),c.interleaved=i,Ir(n,a)}function Yl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Hr(n,a)}}function zp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?d=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}function Zl(n,i,a,c){var d=n.updateQueue;ti=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,U=P.next;P.next=null,v===null?m=U:v.next=U,v=P;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==v&&(S===null?Q.firstBaseUpdate=U:S.next=U,Q.lastBaseUpdate=P))}if(m!==null){var X=d.baseState;v=0,Q=U=P=null,S=m;do{var q=S.lane,ie=S.eventTime;if((c&q)===q){Q!==null&&(Q=Q.next={eventTime:ie,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var le=n,ue=S;switch(q=i,ie=a,ue.tag){case 1:if(le=ue.payload,typeof le=="function"){X=le.call(ie,X,q);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ue.payload,q=typeof le=="function"?le.call(ie,X,q):le,q==null)break e;X=oe({},X,q);break e;case 2:ti=!0}}S.callback!==null&&S.lane!==0&&(n.flags|=64,q=d.effects,q===null?d.effects=[S]:q.push(S))}else ie={eventTime:ie,lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(U=Q=ie,P=X):Q=Q.next=ie,v|=q;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;q=S,S=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);if(Q===null&&(P=X),d.baseState=P,d.firstBaseUpdate=U,d.lastBaseUpdate=Q,i=d.shared.interleaved,i!==null){d=i;do v|=d.lane,d=d.next;while(d!==i)}else m===null&&(d.shared.lanes=0);Ji|=v,n.lanes=v,n.memoizedState=X}}function Up(n,i,a){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var ga={},Qn=Yr(ga),_a=Yr(ga),ya=Yr(ga);function Ki(n){if(n===ga)throw Error(t(174));return n}function _h(n,i){switch(He(ya,i),He(_a,n),He(Qn,ga),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:dt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=dt(i,n)}qe(Qn),He(Qn,i)}function ro(){qe(Qn),qe(_a),qe(ya)}function jp(n){Ki(ya.current);var i=Ki(Qn.current),a=dt(i,n.type);i!==a&&(He(_a,n),He(Qn,a))}function yh(n){_a.current===n&&(qe(Qn),qe(_a))}var Ye=Yr(0);function eu(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var vh=[];function wh(){for(var n=0;n<vh.length;n++)vh[n]._workInProgressVersionPrimary=null;vh.length=0}var tu=ce.ReactCurrentDispatcher,Eh=ce.ReactCurrentBatchConfig,Qi=0,Ze=null,pt=null,wt=null,nu=!1,va=!1,wa=0,Y0=0;function Mt(){throw Error(t(321))}function Th(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Nn(n[a],i[a]))return!1;return!0}function Ih(n,i,a,c,d,m){if(Qi=m,Ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,tu.current=n===null||n.memoizedState===null?nw:rw,n=a(c,d),va){m=0;do{if(va=!1,wa=0,25<=m)throw Error(t(301));m+=1,wt=pt=null,i.updateQueue=null,tu.current=iw,n=a(c,d)}while(va)}if(tu.current=su,i=pt!==null&&pt.next!==null,Qi=0,wt=pt=Ze=null,nu=!1,i)throw Error(t(300));return n}function Sh(){var n=wa!==0;return wa=0,n}function Jn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ze.memoizedState=wt=n:wt=wt.next=n,wt}function _n(){if(pt===null){var n=Ze.alternate;n=n!==null?n.memoizedState:null}else n=pt.next;var i=wt===null?Ze.memoizedState:wt.next;if(i!==null)wt=i,pt=n;else{if(n===null)throw Error(t(310));pt=n,n={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},wt===null?Ze.memoizedState=wt=n:wt=wt.next=n}return wt}function Ea(n,i){return typeof i=="function"?i(n):i}function Ah(n){var i=_n(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=pt,d=c.baseQueue,m=a.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}c.baseQueue=d=m,a.pending=null}if(d!==null){m=d.next,c=c.baseState;var S=v=null,P=null,U=m;do{var Q=U.lane;if((Qi&Q)===Q)P!==null&&(P=P.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),c=U.hasEagerState?U.eagerState:n(c,U.action);else{var X={lane:Q,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};P===null?(S=P=X,v=c):P=P.next=X,Ze.lanes|=Q,Ji|=Q}U=U.next}while(U!==null&&U!==m);P===null?v=c:P.next=S,Nn(c,i.memoizedState)||(Jt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=P,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do m=d.lane,Ze.lanes|=m,Ji|=m,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Ch(n){var i=_n(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var v=d=d.next;do m=n(m,v.action),v=v.next;while(v!==d);Nn(m,i.memoizedState)||(Jt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,c]}function Bp(){}function $p(n,i){var a=Ze,c=_n(),d=i(),m=!Nn(c.memoizedState,d);if(m&&(c.memoizedState=d,Jt=!0),c=c.queue,Rh(Wp.bind(null,a,c,n),[n]),c.getSnapshot!==i||m||wt!==null&&wt.memoizedState.tag&1){if(a.flags|=2048,Ta(9,Hp.bind(null,a,c,d,i),void 0,null),Et===null)throw Error(t(349));(Qi&30)!==0||Gp(a,i,d)}return d}function Gp(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Hp(n,i,a,c){i.value=a,i.getSnapshot=c,qp(i)&&Kp(n)}function Wp(n,i,a){return a(function(){qp(i)&&Kp(n)})}function qp(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Nn(n,a)}catch{return!0}}function Kp(n){var i=Ir(n,1);i!==null&&Ln(i,n,1,-1)}function Qp(n){var i=Jn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:n},i.queue=n,n=n.dispatch=tw.bind(null,Ze,n),[i.memoizedState,n]}function Ta(n,i,a,c){return n={tag:n,create:i,destroy:a,deps:c,next:null},i=Ze.updateQueue,i===null?(i={lastEffect:null,stores:null},Ze.updateQueue=i,i.lastEffect=n.next=n):(a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n)),n}function Jp(){return _n().memoizedState}function ru(n,i,a,c){var d=Jn();Ze.flags|=n,d.memoizedState=Ta(1|i,a,void 0,c===void 0?null:c)}function iu(n,i,a,c){var d=_n();c=c===void 0?null:c;var m=void 0;if(pt!==null){var v=pt.memoizedState;if(m=v.destroy,c!==null&&Th(c,v.deps)){d.memoizedState=Ta(i,a,m,c);return}}Ze.flags|=n,d.memoizedState=Ta(1|i,a,m,c)}function Xp(n,i){return ru(8390656,8,n,i)}function Rh(n,i){return iu(2048,8,n,i)}function Yp(n,i){return iu(4,2,n,i)}function Zp(n,i){return iu(4,4,n,i)}function em(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function tm(n,i,a){return a=a!=null?a.concat([n]):null,iu(4,4,em.bind(null,i,n),a)}function Ph(){}function nm(n,i){var a=_n();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Th(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function rm(n,i){var a=_n();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Th(i,c[1])?c[0]:(n=n(),a.memoizedState=[n,i],n)}function im(n,i,a){return(Qi&21)===0?(n.baseState&&(n.baseState=!1,Jt=!0),n.memoizedState=a):(Nn(a,i)||(a=Fi(),Ze.lanes|=a,Ji|=a,n.baseState=!0),i)}function Z0(n,i){var a=Ne;Ne=a!==0&&4>a?a:4,n(!0);var c=Eh.transition;Eh.transition={};try{n(!1),i()}finally{Ne=a,Eh.transition=c}}function sm(){return _n().memoizedState}function ew(n,i,a){var c=oi(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},om(n))am(i,a);else if(a=bp(n,i,a,c),a!==null){var d=Ht();Ln(a,n,c,d),lm(a,i,c)}}function tw(n,i,a){var c=oi(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(om(n))am(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,S=m(v,a);if(d.hasEagerState=!0,d.eagerState=S,Nn(S,v)){var P=i.interleaved;P===null?(d.next=d,mh(i)):(d.next=P.next,P.next=d),i.interleaved=d;return}}catch{}finally{}a=bp(n,i,d,c),a!==null&&(d=Ht(),Ln(a,n,c,d),lm(a,i,c))}}function om(n){var i=n.alternate;return n===Ze||i!==null&&i===Ze}function am(n,i){va=nu=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function lm(n,i,a){if((a&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,Hr(n,a)}}var su={readContext:gn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},nw={readContext:gn,useCallback:function(n,i){return Jn().memoizedState=[n,i===void 0?null:i],n},useContext:gn,useEffect:Xp,useImperativeHandle:function(n,i,a){return a=a!=null?a.concat([n]):null,ru(4194308,4,em.bind(null,i,n),a)},useLayoutEffect:function(n,i){return ru(4194308,4,n,i)},useInsertionEffect:function(n,i){return ru(4,2,n,i)},useMemo:function(n,i){var a=Jn();return i=i===void 0?null:i,n=n(),a.memoizedState=[n,i],n},useReducer:function(n,i,a){var c=Jn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=ew.bind(null,Ze,n),[c.memoizedState,n]},useRef:function(n){var i=Jn();return n={current:n},i.memoizedState=n},useState:Qp,useDebugValue:Ph,useDeferredValue:function(n){return Jn().memoizedState=n},useTransition:function(){var n=Qp(!1),i=n[0];return n=Z0.bind(null,n[1]),Jn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,a){var c=Ze,d=Jn();if(Xe){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Et===null)throw Error(t(349));(Qi&30)!==0||Gp(c,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,Xp(Wp.bind(null,c,m,n),[n]),c.flags|=2048,Ta(9,Hp.bind(null,c,m,a,i),void 0,null),a},useId:function(){var n=Jn(),i=Et.identifierPrefix;if(Xe){var a=Tr,c=Er;a=(c&~(1<<32-Bt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=wa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Y0++,i=":"+i+"r"+a.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},rw={readContext:gn,useCallback:nm,useContext:gn,useEffect:Rh,useImperativeHandle:tm,useInsertionEffect:Yp,useLayoutEffect:Zp,useMemo:rm,useReducer:Ah,useRef:Jp,useState:function(){return Ah(Ea)},useDebugValue:Ph,useDeferredValue:function(n){var i=_n();return im(i,pt.memoizedState,n)},useTransition:function(){var n=Ah(Ea)[0],i=_n().memoizedState;return[n,i]},useMutableSource:Bp,useSyncExternalStore:$p,useId:sm,unstable_isNewReconciler:!1},iw={readContext:gn,useCallback:nm,useContext:gn,useEffect:Rh,useImperativeHandle:tm,useInsertionEffect:Yp,useLayoutEffect:Zp,useMemo:rm,useReducer:Ch,useRef:Jp,useState:function(){return Ch(Ea)},useDebugValue:Ph,useDeferredValue:function(n){var i=_n();return pt===null?i.memoizedState=n:im(i,pt.memoizedState,n)},useTransition:function(){var n=Ch(Ea)[0],i=_n().memoizedState;return[n,i]},useMutableSource:Bp,useSyncExternalStore:$p,useId:sm,unstable_isNewReconciler:!1};function Vn(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var a in n)i[a]===void 0&&(i[a]=n[a]);return i}return i}function kh(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:oe({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var ou={isMounted:function(n){return(n=n._reactInternals)?Sn(n)===n:!1},enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Ht(),d=oi(n),m=Sr(c,d);m.payload=i,a!=null&&(m.callback=a),i=ni(n,m,d),i!==null&&(Ln(i,n,d,c),Yl(i,n,d))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Ht(),d=oi(n),m=Sr(c,d);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=ni(n,m,d),i!==null&&(Ln(i,n,d,c),Yl(i,n,d))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Ht(),c=oi(n),d=Sr(a,c);d.tag=2,i!=null&&(d.callback=i),i=ni(n,d,c),i!==null&&(Ln(i,n,c,a),Yl(i,n,c))}};function um(n,i,a,c,d,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,v):i.prototype&&i.prototype.isPureReactComponent?!la(a,c)||!la(d,m):!0}function cm(n,i,a){var c=!1,d=Zr,m=i.contextType;return typeof m=="object"&&m!==null?m=gn(m):(d=Qt(i)?Gi:Ot.current,c=i.contextTypes,m=(c=c!=null)?Js(n,d):Zr),i=new i(a,m),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ou,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=m),i}function hm(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&ou.enqueueReplaceState(i,i.state,null)}function xh(n,i,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},gh(n);var m=i.contextType;typeof m=="object"&&m!==null?d.context=gn(m):(m=Qt(i)?Gi:Ot.current,d.context=Js(n,m)),d.state=n.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(kh(n,i,m,a),d.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&ou.enqueueReplaceState(d,d.state,null),Zl(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function io(n,i){try{var a="",c=i;do a+=Re(c),c=c.return;while(c);var d=a}catch(m){d=`
Error generating stack: `+m.message+`
`+m.stack}return{value:n,source:i,stack:d,digest:null}}function Nh(n,i,a){return{value:n,source:null,stack:a??null,digest:i??null}}function Dh(n,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var sw=typeof WeakMap=="function"?WeakMap:Map;function dm(n,i,a){a=Sr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){fu||(fu=!0,qh=c),Dh(n,i)},a}function fm(n,i,a){a=Sr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Dh(n,i)}}var m=n.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Dh(n,i),typeof c!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),a}function pm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new sw;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),n=vw.bind(null,n,i,a),i.then(n,n))}function mm(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function gm(n,i,a,c,d){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Sr(-1,1),i.tag=2,ni(a,i,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var ow=ce.ReactCurrentOwner,Jt=!1;function Gt(n,i,a,c){i.child=n===null?Lp(i,null,a,c):eo(i,n.child,a,c)}function _m(n,i,a,c,d){a=a.render;var m=i.ref;return no(i,d),c=Ih(n,i,a,c,m,d),a=Sh(),n!==null&&!Jt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Ar(n,i,d)):(Xe&&a&&oh(i),i.flags|=1,Gt(n,i,c,d),i.child)}function ym(n,i,a,c,d){if(n===null){var m=a.type;return typeof m=="function"&&!ed(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=m,vm(n,i,m,c,d)):(n=vu(a.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,(n.lanes&d)===0){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:la,a(v,c)&&n.ref===i.ref)return Ar(n,i,d)}return i.flags|=1,n=li(m,c),n.ref=i.ref,n.return=i,i.child=n}function vm(n,i,a,c,d){if(n!==null){var m=n.memoizedProps;if(la(m,c)&&n.ref===i.ref)if(Jt=!1,i.pendingProps=c=m,(n.lanes&d)!==0)(n.flags&131072)!==0&&(Jt=!0);else return i.lanes=n.lanes,Ar(n,i,d)}return Vh(n,i,a,c,d)}function wm(n,i,a){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(oo,un),un|=a;else{if((a&1073741824)===0)return n=m!==null?m.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,He(oo,un),un|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,He(oo,un),un|=c}else m!==null?(c=m.baseLanes|a,i.memoizedState=null):c=a,He(oo,un),un|=c;return Gt(n,i,d,a),i.child}function Em(n,i){var a=i.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Vh(n,i,a,c,d){var m=Qt(a)?Gi:Ot.current;return m=Js(i,m),no(i,d),a=Ih(n,i,a,c,m,d),c=Sh(),n!==null&&!Jt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~d,Ar(n,i,d)):(Xe&&c&&oh(i),i.flags|=1,Gt(n,i,a,d),i.child)}function Tm(n,i,a,c,d){if(Qt(a)){var m=!0;Gl(i)}else m=!1;if(no(i,d),i.stateNode===null)lu(n,i),cm(i,a,c),xh(i,a,c,d),c=!0;else if(n===null){var v=i.stateNode,S=i.memoizedProps;v.props=S;var P=v.context,U=a.contextType;typeof U=="object"&&U!==null?U=gn(U):(U=Qt(a)?Gi:Ot.current,U=Js(i,U));var Q=a.getDerivedStateFromProps,X=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function";X||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==c||P!==U)&&hm(i,v,c,U),ti=!1;var q=i.memoizedState;v.state=q,Zl(i,c,v,d),P=i.memoizedState,S!==c||q!==P||Kt.current||ti?(typeof Q=="function"&&(kh(i,a,Q,c),P=i.memoizedState),(S=ti||um(i,a,S,c,q,P,U))?(X||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=P),v.props=c,v.state=P,v.context=U,c=S):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,Fp(n,i),S=i.memoizedProps,U=i.type===i.elementType?S:Vn(i.type,S),v.props=U,X=i.pendingProps,q=v.context,P=a.contextType,typeof P=="object"&&P!==null?P=gn(P):(P=Qt(a)?Gi:Ot.current,P=Js(i,P));var ie=a.getDerivedStateFromProps;(Q=typeof ie=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==X||q!==P)&&hm(i,v,c,P),ti=!1,q=i.memoizedState,v.state=q,Zl(i,c,v,d);var le=i.memoizedState;S!==X||q!==le||Kt.current||ti?(typeof ie=="function"&&(kh(i,a,ie,c),le=i.memoizedState),(U=ti||um(i,a,U,c,q,le,P)||!1)?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,le,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,le,P)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=le),v.props=c,v.state=le,v.context=P,c=U):(typeof v.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),c=!1)}return Oh(n,i,a,c,m,d)}function Oh(n,i,a,c,d,m){Em(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return d&&Rp(i,a,!1),Ar(n,i,m);c=i.stateNode,ow.current=i;var S=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=eo(i,n.child,null,m),i.child=eo(i,null,S,m)):Gt(n,i,S,m),i.memoizedState=c.state,d&&Rp(i,a,!0),i.child}function Im(n){var i=n.stateNode;i.pendingContext?Ap(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Ap(n,i.context,!1),_h(n,i.containerInfo)}function Sm(n,i,a,c,d){return Zs(),ch(d),i.flags|=256,Gt(n,i,a,c),i.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Lh(n){return{baseLanes:n,cachePool:null,transitions:null}}function Am(n,i,a){var c=i.pendingProps,d=Ye.current,m=!1,v=(i.flags&128)!==0,S;if((S=v)||(S=n!==null&&n.memoizedState===null?!1:(d&2)!==0),S?(m=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),He(Ye,d&1),n===null)return uh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=c.children,n=c.fallback,m?(c=i.mode,m=i.child,v={mode:"hidden",children:v},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=wu(v,c,0,null),n=es(n,c,a,null),m.return=i,n.return=i,m.sibling=n,i.child=m,i.child.memoizedState=Lh(a),i.memoizedState=Mh,n):bh(i,v));if(d=n.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return aw(n,i,v,c,S,d,a);if(m){m=c.fallback,v=i.mode,d=n.child,S=d.sibling;var P={mode:"hidden",children:c.children};return(v&1)===0&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=P,i.deletions=null):(c=li(d,P),c.subtreeFlags=d.subtreeFlags&14680064),S!==null?m=li(S,m):(m=es(m,v,a,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,v=n.child.memoizedState,v=v===null?Lh(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=n.childLanes&~a,i.memoizedState=Mh,c}return m=n.child,n=m.sibling,c=li(m,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,n!==null&&(a=i.deletions,a===null?(i.deletions=[n],i.flags|=16):a.push(n)),i.child=c,i.memoizedState=null,c}function bh(n,i){return i=wu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function au(n,i,a,c){return c!==null&&ch(c),eo(i,n.child,null,a),n=bh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function aw(n,i,a,c,d,m,v){if(a)return i.flags&256?(i.flags&=-257,c=Nh(Error(t(422))),au(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(m=c.fallback,d=i.mode,c=wu({mode:"visible",children:c.children},d,0,null),m=es(m,d,v,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,(i.mode&1)!==0&&eo(i,n.child,null,v),i.child.memoizedState=Lh(v),i.memoizedState=Mh,m);if((i.mode&1)===0)return au(n,i,v,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var S=c.dgst;return c=S,m=Error(t(419)),c=Nh(m,c,void 0),au(n,i,v,c)}if(S=(v&n.childLanes)!==0,Jt||S){if(c=Et,c!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|v))!==0?0:d,d!==0&&d!==m.retryLane&&(m.retryLane=d,Ir(n,d),Ln(c,n,d,-1))}return Zh(),c=Nh(Error(t(421))),au(n,i,v,c)}return d.data==="$?"?(i.flags|=128,i.child=n.child,i=ww.bind(null,n),d._reactRetry=i,null):(n=m.treeContext,ln=Xr(d.nextSibling),an=i,Xe=!0,Dn=null,n!==null&&(pn[mn++]=Er,pn[mn++]=Tr,pn[mn++]=Hi,Er=n.id,Tr=n.overflow,Hi=i),i=bh(i,c.children),i.flags|=4096,i)}function Cm(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),ph(n.return,i,a)}function Fh(n,i,a,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=d)}function Rm(n,i,a){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(Gt(n,i,c.children,a),c=Ye.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Cm(n,a,i);else if(n.tag===19)Cm(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(He(Ye,c),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)n=a.alternate,n!==null&&eu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Fh(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&eu(n)===null){i.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Fh(i,!0,a,null,m);break;case"together":Fh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function lu(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Ar(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Ji|=i.lanes,(a&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,a=li(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=li(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function lw(n,i,a){switch(i.tag){case 3:Im(i),Zs();break;case 5:jp(i);break;case 1:Qt(i.type)&&Gl(i);break;case 4:_h(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;He(Jl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(He(Ye,Ye.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Am(n,i,a):(He(Ye,Ye.current&1),n=Ar(n,i,a),n!==null?n.sibling:null);He(Ye,Ye.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Rm(n,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),He(Ye,Ye.current),c)break;return null;case 22:case 23:return i.lanes=0,wm(n,i,a)}return Ar(n,i,a)}var Pm,zh,km,xm;Pm=function(n,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},zh=function(){},km=function(n,i,a,c){var d=n.memoizedProps;if(d!==c){n=i.stateNode,Ki(Qn.current);var m=null;switch(a){case"input":d=Ri(n,d),c=Ri(n,c),m=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),m=[];break;case"textarea":d=bo(n,d),c=bo(n,c),m=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=jl)}$o(a,c);var v;a=null;for(U in d)if(!c.hasOwnProperty(U)&&d.hasOwnProperty(U)&&d[U]!=null)if(U==="style"){var S=d[U];for(v in S)S.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?m||(m=[]):(m=m||[]).push(U,null));for(U in c){var P=c[U];if(S=d!=null?d[U]:void 0,c.hasOwnProperty(U)&&P!==S&&(P!=null||S!=null))if(U==="style")if(S){for(v in S)!S.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in P)P.hasOwnProperty(v)&&S[v]!==P[v]&&(a||(a={}),a[v]=P[v])}else a||(m||(m=[]),m.push(U,a)),a=P;else U==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(m=m||[]).push(U,P)):U==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(U,""+P):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(P!=null&&U==="onScroll"&&We("scroll",n),m||S===P||(m=[])):(m=m||[]).push(U,P))}a&&(m=m||[]).push("style",a);var U=m;(i.updateQueue=U)&&(i.flags|=4)}},xm=function(n,i,a,c){a!==c&&(i.flags|=4)};function Ia(n,i){if(!Xe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Lt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function uw(n,i,a){var c=i.pendingProps;switch(ah(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(i),null;case 1:return Qt(i.type)&&$l(),Lt(i),null;case 3:return c=i.stateNode,ro(),qe(Kt),qe(Ot),wh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Kl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dn!==null&&(Jh(Dn),Dn=null))),zh(n,i),Lt(i),null;case 5:yh(i);var d=Ki(ya.current);if(a=i.type,n!==null&&i.stateNode!=null)km(n,i,a,c,d),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Lt(i),null}if(n=Ki(Qn.current),Kl(i)){c=i.stateNode,a=i.type;var m=i.memoizedProps;switch(c[Kn]=i,c[fa]=m,n=(i.mode&1)!==0,a){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(d=0;d<ca.length;d++)We(ca[d],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":ys(c,m),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},We("invalid",c);break;case"textarea":ws(c,m),We("invalid",c)}$o(a,m),d=null;for(var v in m)if(m.hasOwnProperty(v)){var S=m[v];v==="children"?typeof S=="string"?c.textContent!==S&&(m.suppressHydrationWarning!==!0&&Ul(c.textContent,S,n),d=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(m.suppressHydrationWarning!==!0&&Ul(c.textContent,S,n),d=["children",""+S]):o.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&We("scroll",c)}switch(a){case"input":ur(c),dl(c,m,!0);break;case"textarea":ur(c),Fo(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=jl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ht(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(a,{is:c.is}):(n=v.createElement(a),a==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,a),n[Kn]=i,n[fa]=c,Pm(n,i,!1,!1),i.stateNode=n;e:{switch(v=Go(a,c),a){case"dialog":We("cancel",n),We("close",n),d=c;break;case"iframe":case"object":case"embed":We("load",n),d=c;break;case"video":case"audio":for(d=0;d<ca.length;d++)We(ca[d],n);d=c;break;case"source":We("error",n),d=c;break;case"img":case"image":case"link":We("error",n),We("load",n),d=c;break;case"details":We("toggle",n),d=c;break;case"input":ys(n,c),d=Ri(n,c),We("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),We("invalid",n);break;case"textarea":ws(n,c),d=bo(n,c),We("invalid",n);break;default:d=c}$o(a,d),S=d;for(m in S)if(S.hasOwnProperty(m)){var P=S[m];m==="style"?jo(n,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&zo(n,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Ur(n,P):typeof P=="number"&&Ur(n,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&We("scroll",n):P!=null&&J(n,m,P,v))}switch(a){case"input":ur(n),dl(n,c,!1);break;case"textarea":ur(n),Fo(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Fe(c.value));break;case"select":n.multiple=!!c.multiple,m=c.value,m!=null?hr(n,!!c.multiple,m,!1):c.defaultValue!=null&&hr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=jl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Lt(i),null;case 6:if(n&&i.stateNode!=null)xm(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=Ki(ya.current),Ki(Qn.current),Kl(i)){if(c=i.stateNode,a=i.memoizedProps,c[Kn]=i,(m=c.nodeValue!==a)&&(n=an,n!==null))switch(n.tag){case 3:Ul(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ul(c.nodeValue,a,(n.mode&1)!==0)}m&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Kn]=i,i.stateNode=c}return Lt(i),null;case 13:if(qe(Ye),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Xe&&ln!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Vp(),Zs(),i.flags|=98560,m=!1;else if(m=Kl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Kn]=i}else Zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Lt(i),m=!1}else Dn!==null&&(Jh(Dn),Dn=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Ye.current&1)!==0?mt===0&&(mt=3):Zh())),i.updateQueue!==null&&(i.flags|=4),Lt(i),null);case 4:return ro(),zh(n,i),n===null&&ha(i.stateNode.containerInfo),Lt(i),null;case 10:return fh(i.type._context),Lt(i),null;case 17:return Qt(i.type)&&$l(),Lt(i),null;case 19:if(qe(Ye),m=i.memoizedState,m===null)return Lt(i),null;if(c=(i.flags&128)!==0,v=m.rendering,v===null)if(c)Ia(m,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=eu(n),v!==null){for(i.flags|=128,Ia(m,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)m=a,n=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=n,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,n=v.dependencies,m.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return He(Ye,Ye.current&1|2),i.child}n=n.sibling}m.tail!==null&&Ge()>ao&&(i.flags|=128,c=!0,Ia(m,!1),i.lanes=4194304)}else{if(!c)if(n=eu(v),n!==null){if(i.flags|=128,c=!0,a=n.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ia(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Xe)return Lt(i),null}else 2*Ge()-m.renderingStartTime>ao&&a!==1073741824&&(i.flags|=128,c=!0,Ia(m,!1),i.lanes=4194304);m.isBackwards?(v.sibling=i.child,i.child=v):(a=m.last,a!==null?a.sibling=v:i.child=v,m.last=v)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Ge(),i.sibling=null,a=Ye.current,He(Ye,c?a&1|2:a&1),i):(Lt(i),null);case 22:case 23:return Yh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(un&1073741824)!==0&&(Lt(i),i.subtreeFlags&6&&(i.flags|=8192)):Lt(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function cw(n,i){switch(ah(i),i.tag){case 1:return Qt(i.type)&&$l(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ro(),qe(Kt),qe(Ot),wh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return yh(i),null;case 13:if(qe(Ye),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Zs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return qe(Ye),null;case 4:return ro(),null;case 10:return fh(i.type._context),null;case 22:case 23:return Yh(),null;case 24:return null;default:return null}}var uu=!1,bt=!1,hw=typeof WeakSet=="function"?WeakSet:Set,ae=null;function so(n,i){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){nt(n,i,c)}else a.current=null}function Uh(n,i,a){try{a()}catch(c){nt(n,i,c)}}var Nm=!1;function dw(n,i){if(Yc=Kr,n=up(),Gc(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,S=-1,P=-1,U=0,Q=0,X=n,q=null;t:for(;;){for(var ie;X!==a||d!==0&&X.nodeType!==3||(S=v+d),X!==m||c!==0&&X.nodeType!==3||(P=v+c),X.nodeType===3&&(v+=X.nodeValue.length),(ie=X.firstChild)!==null;)q=X,X=ie;for(;;){if(X===n)break t;if(q===a&&++U===d&&(S=v),q===m&&++Q===c&&(P=v),(ie=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=ie}a=S===-1||P===-1?null:{start:S,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zc={focusedElem:n,selectionRange:a},Kr=!1,ae=i;ae!==null;)if(i=ae,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ae=n;else for(;ae!==null;){i=ae;try{var le=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ue=le.memoizedProps,st=le.memoizedState,b=i.stateNode,D=b.getSnapshotBeforeUpdate(i.elementType===i.type?ue:Vn(i.type,ue),st);b.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){nt(i,i.return,ee)}if(n=i.sibling,n!==null){n.return=i.return,ae=n;break}ae=i.return}return le=Nm,Nm=!1,le}function Sa(n,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var m=d.destroy;d.destroy=void 0,m!==void 0&&Uh(i,a,m)}d=d.next}while(d!==c)}}function cu(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function jh(n){var i=n.ref;if(i!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof i=="function"?i(n):i.current=n}}function Dm(n){var i=n.alternate;i!==null&&(n.alternate=null,Dm(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Kn],delete i[fa],delete i[rh],delete i[K0],delete i[Q0])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Vm(n){return n.tag===5||n.tag===3||n.tag===4}function Om(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Vm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bh(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(n,i):a.insertBefore(n,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(n,a)):(i=a,i.appendChild(n)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=jl));else if(c!==4&&(n=n.child,n!==null))for(Bh(n,i,a),n=n.sibling;n!==null;)Bh(n,i,a),n=n.sibling}function $h(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for($h(n,i,a),n=n.sibling;n!==null;)$h(n,i,a),n=n.sibling}var Rt=null,On=!1;function ri(n,i,a){for(a=a.child;a!==null;)Mm(n,i,a),a=a.sibling}function Mm(n,i,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Li,a)}catch{}switch(a.tag){case 5:bt||so(a,i);case 6:var c=Rt,d=On;Rt=null,ri(n,i,a),Rt=c,On=d,Rt!==null&&(On?(n=Rt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):Rt.removeChild(a.stateNode));break;case 18:Rt!==null&&(On?(n=Rt,a=a.stateNode,n.nodeType===8?nh(n.parentNode,a):n.nodeType===1&&nh(n,a),kn(n)):nh(Rt,a.stateNode));break;case 4:c=Rt,d=On,Rt=a.stateNode.containerInfo,On=!0,ri(n,i,a),Rt=c,On=d;break;case 0:case 11:case 14:case 15:if(!bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var m=d,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&Uh(a,i,v),d=d.next}while(d!==c)}ri(n,i,a);break;case 1:if(!bt&&(so(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){nt(a,i,S)}ri(n,i,a);break;case 21:ri(n,i,a);break;case 22:a.mode&1?(bt=(c=bt)||a.memoizedState!==null,ri(n,i,a),bt=c):ri(n,i,a);break;default:ri(n,i,a)}}function Lm(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new hw),i.forEach(function(c){var d=Ew.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Mn(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var m=n,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 5:Rt=S.stateNode,On=!1;break e;case 3:Rt=S.stateNode.containerInfo,On=!0;break e;case 4:Rt=S.stateNode.containerInfo,On=!0;break e}S=S.return}if(Rt===null)throw Error(t(160));Mm(m,v,d),Rt=null,On=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(U){nt(d,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)bm(i,n),i=i.sibling}function bm(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mn(i,n),Xn(n),c&4){try{Sa(3,n,n.return),cu(3,n)}catch(ue){nt(n,n.return,ue)}try{Sa(5,n,n.return)}catch(ue){nt(n,n.return,ue)}}break;case 1:Mn(i,n),Xn(n),c&512&&a!==null&&so(a,a.return);break;case 5:if(Mn(i,n),Xn(n),c&512&&a!==null&&so(a,a.return),n.flags&32){var d=n.stateNode;try{Ur(d,"")}catch(ue){nt(n,n.return,ue)}}if(c&4&&(d=n.stateNode,d!=null)){var m=n.memoizedProps,v=a!==null?a.memoizedProps:m,S=n.type,P=n.updateQueue;if(n.updateQueue=null,P!==null)try{S==="input"&&m.type==="radio"&&m.name!=null&&Mo(d,m),Go(S,v);var U=Go(S,m);for(v=0;v<P.length;v+=2){var Q=P[v],X=P[v+1];Q==="style"?jo(d,X):Q==="dangerouslySetInnerHTML"?zo(d,X):Q==="children"?Ur(d,X):J(d,Q,X,U)}switch(S){case"input":Lo(d,m);break;case"textarea":Es(d,m);break;case"select":var q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!m.multiple;var ie=m.value;ie!=null?hr(d,!!m.multiple,ie,!1):q!==!!m.multiple&&(m.defaultValue!=null?hr(d,!!m.multiple,m.defaultValue,!0):hr(d,!!m.multiple,m.multiple?[]:"",!1))}d[fa]=m}catch(ue){nt(n,n.return,ue)}}break;case 6:if(Mn(i,n),Xn(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,m=n.memoizedProps;try{d.nodeValue=m}catch(ue){nt(n,n.return,ue)}}break;case 3:if(Mn(i,n),Xn(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{kn(i.containerInfo)}catch(ue){nt(n,n.return,ue)}break;case 4:Mn(i,n),Xn(n);break;case 13:Mn(i,n),Xn(n),d=n.child,d.flags&8192&&(m=d.memoizedState!==null,d.stateNode.isHidden=m,!m||d.alternate!==null&&d.alternate.memoizedState!==null||(Wh=Ge())),c&4&&Lm(n);break;case 22:if(Q=a!==null&&a.memoizedState!==null,n.mode&1?(bt=(U=bt)||Q,Mn(i,n),bt=U):Mn(i,n),Xn(n),c&8192){if(U=n.memoizedState!==null,(n.stateNode.isHidden=U)&&!Q&&(n.mode&1)!==0)for(ae=n,Q=n.child;Q!==null;){for(X=ae=Q;ae!==null;){switch(q=ae,ie=q.child,q.tag){case 0:case 11:case 14:case 15:Sa(4,q,q.return);break;case 1:so(q,q.return);var le=q.stateNode;if(typeof le.componentWillUnmount=="function"){c=q,a=q.return;try{i=c,le.props=i.memoizedProps,le.state=i.memoizedState,le.componentWillUnmount()}catch(ue){nt(c,a,ue)}}break;case 5:so(q,q.return);break;case 22:if(q.memoizedState!==null){Um(X);continue}}ie!==null?(ie.return=q,ae=ie):Um(X)}Q=Q.sibling}e:for(Q=null,X=n;;){if(X.tag===5){if(Q===null){Q=X;try{d=X.stateNode,U?(m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(S=X.stateNode,P=X.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=Uo("display",v))}catch(ue){nt(n,n.return,ue)}}}else if(X.tag===6){if(Q===null)try{X.stateNode.nodeValue=U?"":X.memoizedProps}catch(ue){nt(n,n.return,ue)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===n)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===n)break e;for(;X.sibling===null;){if(X.return===null||X.return===n)break e;Q===X&&(Q=null),X=X.return}Q===X&&(Q=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Mn(i,n),Xn(n),c&4&&Lm(n);break;case 21:break;default:Mn(i,n),Xn(n)}}function Xn(n){var i=n.flags;if(i&2){try{e:{for(var a=n.return;a!==null;){if(Vm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Ur(d,""),c.flags&=-33);var m=Om(n);$h(n,m,d);break;case 3:case 4:var v=c.stateNode.containerInfo,S=Om(n);Bh(n,S,v);break;default:throw Error(t(161))}}catch(P){nt(n,n.return,P)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function fw(n,i,a){ae=n,Fm(n)}function Fm(n,i,a){for(var c=(n.mode&1)!==0;ae!==null;){var d=ae,m=d.child;if(d.tag===22&&c){var v=d.memoizedState!==null||uu;if(!v){var S=d.alternate,P=S!==null&&S.memoizedState!==null||bt;S=uu;var U=bt;if(uu=v,(bt=P)&&!U)for(ae=d;ae!==null;)v=ae,P=v.child,v.tag===22&&v.memoizedState!==null?jm(d):P!==null?(P.return=v,ae=P):jm(d);for(;m!==null;)ae=m,Fm(m),m=m.sibling;ae=d,uu=S,bt=U}zm(n)}else(d.subtreeFlags&8772)!==0&&m!==null?(m.return=d,ae=m):zm(n)}}function zm(n){for(;ae!==null;){var i=ae;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:bt||cu(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!bt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Vn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Up(i,m,c);break;case 3:var v=i.updateQueue;if(v!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Up(i,v,a)}break;case 5:var S=i.stateNode;if(a===null&&i.flags&4){a=S;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var Q=U.memoizedState;if(Q!==null){var X=Q.dehydrated;X!==null&&kn(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bt||i.flags&512&&jh(i)}catch(q){nt(i,i.return,q)}}if(i===n){ae=null;break}if(a=i.sibling,a!==null){a.return=i.return,ae=a;break}ae=i.return}}function Um(n){for(;ae!==null;){var i=ae;if(i===n){ae=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ae=a;break}ae=i.return}}function jm(n){for(;ae!==null;){var i=ae;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{cu(4,i)}catch(P){nt(i,a,P)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(P){nt(i,d,P)}}var m=i.return;try{jh(i)}catch(P){nt(i,m,P)}break;case 5:var v=i.return;try{jh(i)}catch(P){nt(i,v,P)}}}catch(P){nt(i,i.return,P)}if(i===n){ae=null;break}var S=i.sibling;if(S!==null){S.return=i.return,ae=S;break}ae=i.return}}var pw=Math.ceil,hu=ce.ReactCurrentDispatcher,Gh=ce.ReactCurrentOwner,yn=ce.ReactCurrentBatchConfig,Me=0,Et=null,lt=null,Pt=0,un=0,oo=Yr(0),mt=0,Aa=null,Ji=0,du=0,Hh=0,Ca=null,Xt=null,Wh=0,ao=1/0,Cr=null,fu=!1,qh=null,ii=null,pu=!1,si=null,mu=0,Ra=0,Kh=null,gu=-1,_u=0;function Ht(){return(Me&6)!==0?Ge():gu!==-1?gu:gu=Ge()}function oi(n){return(n.mode&1)===0?1:(Me&2)!==0&&Pt!==0?Pt&-Pt:X0.transition!==null?(_u===0&&(_u=Fi()),_u):(n=Ne,n!==0||(n=window.event,n=n===void 0?16:ta(n.type)),n)}function Ln(n,i,a,c){if(50<Ra)throw Ra=0,Kh=null,Error(t(185));Gr(n,a,c),((Me&2)===0||n!==Et)&&(n===Et&&((Me&2)===0&&(du|=a),mt===4&&ai(n,Pt)),Yt(n,c),a===1&&Me===0&&(i.mode&1)===0&&(ao=Ge()+500,Hl&&ei()))}function Yt(n,i){var a=n.callbackNode;pr(n,i);var c=bi(n,n===Et?Pt:0);if(c===0)a!==null&&Jo(a),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(a!=null&&Jo(a),i===1)n.tag===0?J0($m.bind(null,n)):Pp($m.bind(null,n)),W0(function(){(Me&6)===0&&ei()}),a=null;else{switch(Wr(c)){case 1:a=Mi;break;case 4:a=jr;break;case 16:a=hn;break;case 536870912:a=_l;break;default:a=hn}a=Xm(a,Bm.bind(null,n))}n.callbackPriority=i,n.callbackNode=a}}function Bm(n,i){if(gu=-1,_u=0,(Me&6)!==0)throw Error(t(327));var a=n.callbackNode;if(lo()&&n.callbackNode!==a)return null;var c=bi(n,n===Et?Pt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=yu(n,c);else{i=c;var d=Me;Me|=2;var m=Hm();(Et!==n||Pt!==i)&&(Cr=null,ao=Ge()+500,Yi(n,i));do try{_w();break}catch(S){Gm(n,S)}while(!0);dh(),hu.current=m,Me=d,lt!==null?i=0:(Et=null,Pt=0,i=mt)}if(i!==0){if(i===2&&(d=rn(n),d!==0&&(c=d,i=Qh(n,d))),i===1)throw a=Aa,Yi(n,0),ai(n,c),Yt(n,Ge()),a;if(i===6)ai(n,c);else{if(d=n.current.alternate,(c&30)===0&&!mw(d)&&(i=yu(n,c),i===2&&(m=rn(n),m!==0&&(c=m,i=Qh(n,m))),i===1))throw a=Aa,Yi(n,0),ai(n,c),Yt(n,Ge()),a;switch(n.finishedWork=d,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Zi(n,Xt,Cr);break;case 3:if(ai(n,c),(c&130023424)===c&&(i=Wh+500-Ge(),10<i)){if(bi(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Ht(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=th(Zi.bind(null,n,Xt,Cr),i);break}Zi(n,Xt,Cr);break;case 4:if(ai(n,c),(c&4194240)===c)break;for(i=n.eventTimes,d=-1;0<c;){var v=31-Bt(c);m=1<<v,v=i[v],v>d&&(d=v),c&=~m}if(c=d,c=Ge()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*pw(c/1960))-c,10<c){n.timeoutHandle=th(Zi.bind(null,n,Xt,Cr),c);break}Zi(n,Xt,Cr);break;case 5:Zi(n,Xt,Cr);break;default:throw Error(t(329))}}}return Yt(n,Ge()),n.callbackNode===a?Bm.bind(null,n):null}function Qh(n,i){var a=Ca;return n.current.memoizedState.isDehydrated&&(Yi(n,i).flags|=256),n=yu(n,i),n!==2&&(i=Xt,Xt=a,i!==null&&Jh(i)),n}function Jh(n){Xt===null?Xt=n:Xt.push.apply(Xt,n)}function mw(n){for(var i=n;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],m=d.getSnapshot;d=d.value;try{if(!Nn(m(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ai(n,i){for(i&=~Hh,i&=~du,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var a=31-Bt(i),c=1<<a;n[a]=-1,i&=~c}}function $m(n){if((Me&6)!==0)throw Error(t(327));lo();var i=bi(n,0);if((i&1)===0)return Yt(n,Ge()),null;var a=yu(n,i);if(n.tag!==0&&a===2){var c=rn(n);c!==0&&(i=c,a=Qh(n,c))}if(a===1)throw a=Aa,Yi(n,0),ai(n,i),Yt(n,Ge()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Zi(n,Xt,Cr),Yt(n,Ge()),null}function Xh(n,i){var a=Me;Me|=1;try{return n(i)}finally{Me=a,Me===0&&(ao=Ge()+500,Hl&&ei())}}function Xi(n){si!==null&&si.tag===0&&(Me&6)===0&&lo();var i=Me;Me|=1;var a=yn.transition,c=Ne;try{if(yn.transition=null,Ne=1,n)return n()}finally{Ne=c,yn.transition=a,Me=i,(Me&6)===0&&ei()}}function Yh(){un=oo.current,qe(oo)}function Yi(n,i){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,H0(a)),lt!==null)for(a=lt.return;a!==null;){var c=a;switch(ah(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$l();break;case 3:ro(),qe(Kt),qe(Ot),wh();break;case 5:yh(c);break;case 4:ro();break;case 13:qe(Ye);break;case 19:qe(Ye);break;case 10:fh(c.type._context);break;case 22:case 23:Yh()}a=a.return}if(Et=n,lt=n=li(n.current,null),Pt=un=i,mt=0,Aa=null,Hh=du=Ji=0,Xt=Ca=null,qi!==null){for(i=0;i<qi.length;i++)if(a=qi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=d,c.next=v}a.pending=c}qi=null}return n}function Gm(n,i){do{var a=lt;try{if(dh(),tu.current=su,nu){for(var c=Ze.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}nu=!1}if(Qi=0,wt=pt=Ze=null,va=!1,wa=0,Gh.current=null,a===null||a.return===null){mt=1,Aa=i,lt=null;break}e:{var m=n,v=a.return,S=a,P=i;if(i=Pt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var U=P,Q=S,X=Q.tag;if((Q.mode&1)===0&&(X===0||X===11||X===15)){var q=Q.alternate;q?(Q.updateQueue=q.updateQueue,Q.memoizedState=q.memoizedState,Q.lanes=q.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ie=mm(v);if(ie!==null){ie.flags&=-257,gm(ie,v,S,m,i),ie.mode&1&&pm(m,U,i),i=ie,P=U;var le=i.updateQueue;if(le===null){var ue=new Set;ue.add(P),i.updateQueue=ue}else le.add(P);break e}else{if((i&1)===0){pm(m,U,i),Zh();break e}P=Error(t(426))}}else if(Xe&&S.mode&1){var st=mm(v);if(st!==null){(st.flags&65536)===0&&(st.flags|=256),gm(st,v,S,m,i),ch(io(P,S));break e}}m=P=io(P,S),mt!==4&&(mt=2),Ca===null?Ca=[m]:Ca.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var b=dm(m,P,i);zp(m,b);break e;case 1:S=P;var D=m.type,z=m.stateNode;if((m.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ii===null||!ii.has(z)))){m.flags|=65536,i&=-i,m.lanes|=i;var ee=fm(m,S,i);zp(m,ee);break e}}m=m.return}while(m!==null)}qm(a)}catch(he){i=he,lt===a&&a!==null&&(lt=a=a.return);continue}break}while(!0)}function Hm(){var n=hu.current;return hu.current=su,n===null?su:n}function Zh(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||(Ji&268435455)===0&&(du&268435455)===0||ai(Et,Pt)}function yu(n,i){var a=Me;Me|=2;var c=Hm();(Et!==n||Pt!==i)&&(Cr=null,Yi(n,i));do try{gw();break}catch(d){Gm(n,d)}while(!0);if(dh(),Me=a,hu.current=c,lt!==null)throw Error(t(261));return Et=null,Pt=0,mt}function gw(){for(;lt!==null;)Wm(lt)}function _w(){for(;lt!==null&&!ml();)Wm(lt)}function Wm(n){var i=Jm(n.alternate,n,un);n.memoizedProps=n.pendingProps,i===null?qm(n):lt=i,Gh.current=null}function qm(n){var i=n;do{var a=i.alternate;if(n=i.return,(i.flags&32768)===0){if(a=uw(a,i,un),a!==null){lt=a;return}}else{if(a=cw(a,i),a!==null){a.flags&=32767,lt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{mt=6,lt=null;return}}if(i=i.sibling,i!==null){lt=i;return}lt=i=n}while(i!==null);mt===0&&(mt=5)}function Zi(n,i,a){var c=Ne,d=yn.transition;try{yn.transition=null,Ne=1,yw(n,i,a,c)}finally{yn.transition=d,Ne=c}return null}function yw(n,i,a,c){do lo();while(si!==null);if((Me&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var m=a.lanes|a.childLanes;if(Be(n,m),n===Et&&(lt=Et=null,Pt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||pu||(pu=!0,Xm(hn,function(){return lo(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=yn.transition,yn.transition=null;var v=Ne;Ne=1;var S=Me;Me|=4,Gh.current=null,dw(n,a),bm(a,n),F0(Zc),Kr=!!Yc,Zc=Yc=null,n.current=a,fw(a),Lc(),Me=S,Ne=v,yn.transition=m}else n.current=a;if(pu&&(pu=!1,si=n,mu=d),m=n.pendingLanes,m===0&&(ii=null),yl(a.stateNode),Yt(n,Ge()),i!==null)for(c=n.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(fu)throw fu=!1,n=qh,qh=null,n;return(mu&1)!==0&&n.tag!==0&&lo(),m=n.pendingLanes,(m&1)!==0?n===Kh?Ra++:(Ra=0,Kh=n):Ra=0,ei(),null}function lo(){if(si!==null){var n=Wr(mu),i=yn.transition,a=Ne;try{if(yn.transition=null,Ne=16>n?16:n,si===null)var c=!1;else{if(n=si,si=null,mu=0,(Me&6)!==0)throw Error(t(331));var d=Me;for(Me|=4,ae=n.current;ae!==null;){var m=ae,v=m.child;if((ae.flags&16)!==0){var S=m.deletions;if(S!==null){for(var P=0;P<S.length;P++){var U=S[P];for(ae=U;ae!==null;){var Q=ae;switch(Q.tag){case 0:case 11:case 15:Sa(8,Q,m)}var X=Q.child;if(X!==null)X.return=Q,ae=X;else for(;ae!==null;){Q=ae;var q=Q.sibling,ie=Q.return;if(Dm(Q),Q===U){ae=null;break}if(q!==null){q.return=ie,ae=q;break}ae=ie}}}var le=m.alternate;if(le!==null){var ue=le.child;if(ue!==null){le.child=null;do{var st=ue.sibling;ue.sibling=null,ue=st}while(ue!==null)}}ae=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,ae=v;else e:for(;ae!==null;){if(m=ae,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Sa(9,m,m.return)}var b=m.sibling;if(b!==null){b.return=m.return,ae=b;break e}ae=m.return}}var D=n.current;for(ae=D;ae!==null;){v=ae;var z=v.child;if((v.subtreeFlags&2064)!==0&&z!==null)z.return=v,ae=z;else e:for(v=D;ae!==null;){if(S=ae,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:cu(9,S)}}catch(he){nt(S,S.return,he)}if(S===v){ae=null;break e}var ee=S.sibling;if(ee!==null){ee.return=S.return,ae=ee;break e}ae=S.return}}if(Me=d,ei(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Li,n)}catch{}c=!0}return c}finally{Ne=a,yn.transition=i}}return!1}function Km(n,i,a){i=io(a,i),i=dm(n,i,1),n=ni(n,i,1),i=Ht(),n!==null&&(Gr(n,1,i),Yt(n,i))}function nt(n,i,a){if(n.tag===3)Km(n,n,a);else for(;i!==null;){if(i.tag===3){Km(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ii===null||!ii.has(c))){n=io(a,n),n=fm(i,n,1),i=ni(i,n,1),n=Ht(),i!==null&&(Gr(i,1,n),Yt(i,n));break}}i=i.return}}function vw(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),i=Ht(),n.pingedLanes|=n.suspendedLanes&a,Et===n&&(Pt&a)===a&&(mt===4||mt===3&&(Pt&130023424)===Pt&&500>Ge()-Wh?Yi(n,0):Hh|=a),Yt(n,i)}function Qm(n,i){i===0&&((n.mode&1)===0?i=1:(i=Ns,Ns<<=1,(Ns&130023424)===0&&(Ns=4194304)));var a=Ht();n=Ir(n,i),n!==null&&(Gr(n,i,a),Yt(n,a))}function ww(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Qm(n,a)}function Ew(n,i){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),Qm(n,a)}var Jm;Jm=function(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps||Kt.current)Jt=!0;else{if((n.lanes&a)===0&&(i.flags&128)===0)return Jt=!1,lw(n,i,a);Jt=(n.flags&131072)!==0}else Jt=!1,Xe&&(i.flags&1048576)!==0&&kp(i,ql,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;lu(n,i),n=i.pendingProps;var d=Js(i,Ot.current);no(i,a),d=Ih(null,i,c,n,d,a);var m=Sh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Qt(c)?(m=!0,Gl(i)):m=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,gh(i),d.updater=ou,i.stateNode=d,d._reactInternals=i,xh(i,c,n,a),i=Oh(null,i,c,!0,m,a)):(i.tag=0,Xe&&m&&oh(i),Gt(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(lu(n,i),n=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=Iw(c),n=Vn(c,n),d){case 0:i=Vh(null,i,c,n,a);break e;case 1:i=Tm(null,i,c,n,a);break e;case 11:i=_m(null,i,c,n,a);break e;case 14:i=ym(null,i,c,Vn(c.type,n),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),Vh(n,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),Tm(n,i,c,d,a);case 3:e:{if(Im(i),n===null)throw Error(t(387));c=i.pendingProps,m=i.memoizedState,d=m.element,Fp(n,i),Zl(i,c,null,a);var v=i.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){d=io(Error(t(423)),i),i=Sm(n,i,c,a,d);break e}else if(c!==d){d=io(Error(t(424)),i),i=Sm(n,i,c,a,d);break e}else for(ln=Xr(i.stateNode.containerInfo.firstChild),an=i,Xe=!0,Dn=null,a=Lp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zs(),c===d){i=Ar(n,i,a);break e}Gt(n,i,c,a)}i=i.child}return i;case 5:return jp(i),n===null&&uh(i),c=i.type,d=i.pendingProps,m=n!==null?n.memoizedProps:null,v=d.children,eh(c,d)?v=null:m!==null&&eh(c,m)&&(i.flags|=32),Em(n,i),Gt(n,i,v,a),i.child;case 6:return n===null&&uh(i),null;case 13:return Am(n,i,a);case 4:return _h(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=eo(i,null,c,a):Gt(n,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),_m(n,i,c,d,a);case 7:return Gt(n,i,i.pendingProps,a),i.child;case 8:return Gt(n,i,i.pendingProps.children,a),i.child;case 12:return Gt(n,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,m=i.memoizedProps,v=d.value,He(Jl,c._currentValue),c._currentValue=v,m!==null)if(Nn(m.value,v)){if(m.children===d.children&&!Kt.current){i=Ar(n,i,a);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var S=m.dependencies;if(S!==null){v=m.child;for(var P=S.firstContext;P!==null;){if(P.context===c){if(m.tag===1){P=Sr(-1,a&-a),P.tag=2;var U=m.updateQueue;if(U!==null){U=U.shared;var Q=U.pending;Q===null?P.next=P:(P.next=Q.next,Q.next=P),U.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),ph(m.return,a,i),S.lanes|=a;break}P=P.next}}else if(m.tag===10)v=m.type===i.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(t(341));v.lanes|=a,S=v.alternate,S!==null&&(S.lanes|=a),ph(v,a,i),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===i){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}Gt(n,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,no(i,a),d=gn(d),c=c(d),i.flags|=1,Gt(n,i,c,a),i.child;case 14:return c=i.type,d=Vn(c,i.pendingProps),d=Vn(c.type,d),ym(n,i,c,d,a);case 15:return vm(n,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Vn(c,d),lu(n,i),i.tag=1,Qt(c)?(n=!0,Gl(i)):n=!1,no(i,a),cm(i,c,d),xh(i,c,d,a),Oh(null,i,c,!0,n,a);case 19:return Rm(n,i,a);case 22:return wm(n,i,a)}throw Error(t(156,i.tag))};function Xm(n,i){return ks(n,i)}function Tw(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(n,i,a,c){return new Tw(n,i,a,c)}function ed(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Iw(n){if(typeof n=="function")return ed(n)?1:0;if(n!=null){if(n=n.$$typeof,n===M)return 11;if(n===Dt)return 14}return 2}function li(n,i){var a=n.alternate;return a===null?(a=vn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function vu(n,i,a,c,d,m){var v=2;if(c=n,typeof n=="function")ed(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case N:return es(a.children,d,m,i);case I:v=8,d|=8;break;case C:return n=vn(12,a,i,d|2),n.elementType=C,n.lanes=m,n;case R:return n=vn(13,a,i,d),n.elementType=R,n.lanes=m,n;case rt:return n=vn(19,a,i,d),n.elementType=rt,n.lanes=m,n;case je:return wu(a,d,m,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case k:v=10;break e;case V:v=9;break e;case M:v=11;break e;case Dt:v=14;break e;case Vt:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=vn(v,a,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function es(n,i,a,c){return n=vn(7,n,c,i),n.lanes=a,n}function wu(n,i,a,c){return n=vn(22,n,c,i),n.elementType=je,n.lanes=a,n.stateNode={isHidden:!1},n}function td(n,i,a){return n=vn(6,n,null,i),n.lanes=a,n}function nd(n,i,a){return i=vn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Sw(n,i,a,c,d){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$r(0),this.expirationTimes=$r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$r(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function rd(n,i,a,c,d,m,v,S,P){return n=new Sw(n,i,a,S,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=vn(3,null,null,i),n.current=m,m.stateNode=n,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(m),n}function Aw(n,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ie,key:c==null?null:""+c,children:n,containerInfo:i,implementation:a}}function Ym(n){if(!n)return Zr;n=n._reactInternals;e:{if(Sn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Qt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Qt(a))return Cp(n,a,i)}return i}function Zm(n,i,a,c,d,m,v,S,P){return n=rd(a,c,!0,n,d,m,v,S,P),n.context=Ym(null),a=n.current,c=Ht(),d=oi(a),m=Sr(c,d),m.callback=i??null,ni(a,m,d),n.current.lanes=d,Gr(n,d,c),Yt(n,c),n}function Eu(n,i,a,c){var d=i.current,m=Ht(),v=oi(d);return a=Ym(a),i.context===null?i.context=a:i.pendingContext=a,i=Sr(m,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=ni(d,i,v),n!==null&&(Ln(n,d,v,m),Yl(n,d,v)),v}function Tu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function eg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function id(n,i){eg(n,i),(n=n.alternate)&&eg(n,i)}function Cw(){return null}var tg=typeof reportError=="function"?reportError:function(n){console.error(n)};function sd(n){this._internalRoot=n}Iu.prototype.render=sd.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));Eu(n,i,null,null)},Iu.prototype.unmount=sd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Xi(function(){Eu(null,n,null,null)}),i[vr]=null}};function Iu(n){this._internalRoot=n}Iu.prototype.unstable_scheduleHydration=function(n){if(n){var i=Il();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Gn.length&&i!==0&&i<Gn[a].priority;a++);Gn.splice(a,0,n),a===0&&Cl(n)}};function od(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Su(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function ng(){}function Rw(n,i,a,c,d){if(d){if(typeof c=="function"){var m=c;c=function(){var U=Tu(v);m.call(U)}}var v=Zm(i,c,n,0,null,!1,!1,"",ng);return n._reactRootContainer=v,n[vr]=v.current,ha(n.nodeType===8?n.parentNode:n),Xi(),v}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var S=c;c=function(){var U=Tu(P);S.call(U)}}var P=rd(n,0,!1,null,null,!1,!1,"",ng);return n._reactRootContainer=P,n[vr]=P.current,ha(n.nodeType===8?n.parentNode:n),Xi(function(){Eu(i,P,a,c)}),P}function Au(n,i,a,c,d){var m=a._reactRootContainer;if(m){var v=m;if(typeof d=="function"){var S=d;d=function(){var P=Tu(v);S.call(P)}}Eu(i,v,n,d)}else v=Rw(a,i,n,d,c);return Tu(v)}El=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var a=Br(i.pendingLanes);a!==0&&(Hr(i,a|1),Yt(i,Ge()),(Me&6)===0&&(ao=Ge()+500,ei()))}break;case 13:Xi(function(){var c=Ir(n,1);if(c!==null){var d=Ht();Ln(c,n,1,d)}}),id(n,1)}},Ds=function(n){if(n.tag===13){var i=Ir(n,134217728);if(i!==null){var a=Ht();Ln(i,n,134217728,a)}id(n,134217728)}},Tl=function(n){if(n.tag===13){var i=oi(n),a=Ir(n,i);if(a!==null){var c=Ht();Ln(a,n,i,c)}id(n,i)}},Il=function(){return Ne},Sl=function(n,i){var a=Ne;try{return Ne=n,i()}finally{Ne=a}},Is=function(n,i,a){switch(i){case"input":if(Lo(n,a),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var d=Bl(c);if(!d)throw Error(t(90));_s(c),Lo(c,d)}}}break;case"textarea":Es(n,a);break;case"select":i=a.value,i!=null&&hr(n,!!a.multiple,i,!1)}},Ni=Xh,Wo=Xi;var Pw={usingClientEntryPoint:!1,Events:[pa,Ks,Bl,Bn,Ho,Xh]},Pa={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kw={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Qo(n),n===null?null:n.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||Cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{Li=Cu.inject(kw),nn=Cu}catch{}}return Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pw,Zt.createPortal=function(n,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!od(i))throw Error(t(200));return Aw(n,i,null,a)},Zt.createRoot=function(n,i){if(!od(n))throw Error(t(299));var a=!1,c="",d=tg;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=rd(n,1,!1,null,null,a,!1,c,d),n[vr]=i.current,ha(n.nodeType===8?n.parentNode:n),new sd(i)},Zt.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=Qo(i),n=n===null?null:n.stateNode,n},Zt.flushSync=function(n){return Xi(n)},Zt.hydrate=function(n,i,a){if(!Su(i))throw Error(t(200));return Au(null,n,i,!0,a)},Zt.hydrateRoot=function(n,i,a){if(!od(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,m="",v=tg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),i=Zm(i,null,n,1,a??null,d,!1,m,v),n[vr]=i.current,ha(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Iu(i)},Zt.render=function(n,i,a){if(!Su(i))throw Error(t(200));return Au(null,n,i,!1,a)},Zt.unmountComponentAtNode=function(n){if(!Su(n))throw Error(t(40));return n._reactRootContainer?(Xi(function(){Au(null,null,n,!1,function(){n._reactRootContainer=null,n[vr]=null})}),!0):!1},Zt.unstable_batchedUpdates=Xh,Zt.unstable_renderSubtreeIntoContainer=function(n,i,a,c){if(!Su(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return Au(n,i,a,!1,c)},Zt.version="18.3.1-next-f1338f8080-20240426",Zt}var cg;function zw(){if(cg)return ud.exports;cg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ud.exports=Fw(),ud.exports}var hg;function Uw(){if(hg)return Ru;hg=1;var r=zw();return Ru.createRoot=r.createRoot,Ru.hydrateRoot=r.hydrateRoot,Ru}var jw=Uw();const Bw=()=>{};var dg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},$w=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],g=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},K_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let A=(f&15)<<2|y>>6,x=y&63;g||(x=64,h||(A=64)),s.push(t[w],t[T],t[A],t[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(q_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$w(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||T==null)throw new Gw;const A=l<<2|f>>4;if(s.push(A),y!==64){const x=f<<4&240|y>>2;if(s.push(x),T!==64){const j=y<<6&192|T;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hw=function(r){const e=q_(r);return K_.encodeByteArray(e,!0)},Ku=function(r){return Hw(r).replace(/\./g,"")},Q_=function(r){try{return K_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=()=>Ww().__FIREBASE_DEFAULTS__,Kw=()=>{if(typeof process>"u"||typeof dg>"u")return;const r=dg.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Qw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Q_(r[1]);return e&&JSON.parse(e)},mc=()=>{try{return Bw()||qw()||Kw()||Qw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},J_=r=>{var e,t;return(t=(e=mc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Jw=r=>{const e=J_(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},X_=()=>{var r;return(r=mc())===null||r===void 0?void 0:r.config},Y_=r=>{var e;return(e=mc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ku(JSON.stringify(t)),Ku(JSON.stringify(h)),""].join(".")}const Ma={};function Zw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ma))Ma[e]?r.emulator.push(e):r.prod.push(e);return r}function eE(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let fg=!1;function ey(r,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Ma[r]===e||Ma[r]||fg)return;Ma[r]=e;function t(A){return`__firebase__banner__${A}`}const s="__firebase__banner",l=Zw().prod.length>0;function h(){const A=document.getElementById(s);A&&A.remove()}function f(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,x){A.setAttribute("width","24"),A.setAttribute("id",x),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{fg=!0,h()},A}function w(A,x){A.setAttribute("id",x),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=eE(s),x=t("text"),j=document.getElementById(x)||document.createElement("span"),$=t("learnmore"),F=document.getElementById($)||document.createElement("a"),Y=t("preprendIcon"),Z=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const J=A.element;f(J),w(F,$);const ce=y();g(Z,Y),J.append(Z,j,F,ce),document.body.appendChild(J)}l?(j.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function nE(){var r;const e=(r=mc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iE(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oE(){const r=jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aE(){return!nE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lE(){try{return typeof indexedDB=="object"}catch{return!1}}function uE(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="FirebaseError";class br extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=cE,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Za.prototype.create)}}class Za{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?hE(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new br(o,f,s)}}function hE(r,e){return r.replace(dE,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const dE=/\{\$([^}]+)}/g;function fE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function as(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=r[o],h=e[o];if(pg(l)&&pg(h)){if(!as(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function pg(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function pE(r,e){const t=new mE(r,e);return t.subscribe.bind(t)}class mE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");gE(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=dd),o.error===void 0&&(o.error=dd),o.complete===void 0&&(o.complete=dd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gE(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function dd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(r){return r&&r._delegate?r._delegate:r}class ls{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Xw;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vE(e))try{this.getOrInitializeService({instanceIdentifier:ts})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ts){return this.instances.has(e)}getOptions(e=ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yE(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ts){return this.component?this.component.multipleInstances?e:ts:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yE(r){return r===ts?void 0:r}function vE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _E(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const EE={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},TE=ke.INFO,IE={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},SE=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=IE[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yd{constructor(e){this.name=e,this._logLevel=TE,this._logHandler=SE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const AE=(r,e)=>e.some(t=>r instanceof t);let mg,gg;function CE(){return mg||(mg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RE(){return gg||(gg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ty=new WeakMap,Ad=new WeakMap,ny=new WeakMap,fd=new WeakMap,Zd=new WeakMap;function PE(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(mi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&ty.set(t,r)}).catch(()=>{}),Zd.set(e,r),e}function kE(r){if(Ad.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Ad.set(r,e)}let Cd={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ad.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ny.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function xE(r){Cd=r(Cd)}function NE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(pd(this),e,...t);return ny.set(s,e.sort?e.sort():[e]),mi(s)}:RE().includes(r)?function(...e){return r.apply(pd(this),e),mi(ty.get(this))}:function(...e){return mi(r.apply(pd(this),e))}}function DE(r){return typeof r=="function"?NE(r):(r instanceof IDBTransaction&&kE(r),AE(r,CE())?new Proxy(r,Cd):r)}function mi(r){if(r instanceof IDBRequest)return PE(r);if(fd.has(r))return fd.get(r);const e=DE(r);return e!==r&&(fd.set(r,e),Zd.set(e,r)),e}const pd=r=>Zd.get(r);function VE(r,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=mi(h);return s&&h.addEventListener("upgradeneeded",g=>{s(mi(h.result),g.oldVersion,g.newVersion,mi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const OE=["get","getKey","getAll","getAllKeys","count"],ME=["put","add","delete","clear"],md=new Map;function _g(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=ME.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OE.includes(t)))return;const l=async function(h,...f){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&g.done]))[0]};return md.set(e,l),l}xE(r=>({...r,get:(e,t,s)=>_g(e,t)||r.get(e,t,s),has:(e,t)=>!!_g(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bE(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function bE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rd="@firebase/app",yg="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Yd("@firebase/app"),FE="@firebase/app-compat",zE="@firebase/analytics-compat",UE="@firebase/analytics",jE="@firebase/app-check-compat",BE="@firebase/app-check",$E="@firebase/auth",GE="@firebase/auth-compat",HE="@firebase/database",WE="@firebase/data-connect",qE="@firebase/database-compat",KE="@firebase/functions",QE="@firebase/functions-compat",JE="@firebase/installations",XE="@firebase/installations-compat",YE="@firebase/messaging",ZE="@firebase/messaging-compat",eT="@firebase/performance",tT="@firebase/performance-compat",nT="@firebase/remote-config",rT="@firebase/remote-config-compat",iT="@firebase/storage",sT="@firebase/storage-compat",oT="@firebase/firestore",aT="@firebase/ai",lT="@firebase/firestore-compat",uT="firebase",cT="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="[DEFAULT]",hT={[Rd]:"fire-core",[FE]:"fire-core-compat",[UE]:"fire-analytics",[zE]:"fire-analytics-compat",[BE]:"fire-app-check",[jE]:"fire-app-check-compat",[$E]:"fire-auth",[GE]:"fire-auth-compat",[HE]:"fire-rtdb",[WE]:"fire-data-connect",[qE]:"fire-rtdb-compat",[KE]:"fire-fn",[QE]:"fire-fn-compat",[JE]:"fire-iid",[XE]:"fire-iid-compat",[YE]:"fire-fcm",[ZE]:"fire-fcm-compat",[eT]:"fire-perf",[tT]:"fire-perf-compat",[nT]:"fire-rc",[rT]:"fire-rc-compat",[iT]:"fire-gcs",[sT]:"fire-gcs-compat",[oT]:"fire-fst",[lT]:"fire-fst-compat",[aT]:"fire-vertex","fire-js":"fire-js",[uT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,dT=new Map,kd=new Map;function vg(r,e){try{r.container.addComponent(e)}catch(t){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function vo(r){const e=r.name;if(kd.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;kd.set(e,r);for(const t of Qu.values())vg(t,r);for(const t of dT.values())vg(t,r);return!0}function ef(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Za("app","Firebase",fT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=cT;function tf(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Pd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw gi.create("bad-app-name",{appName:String(o)});if(t||(t=X_()),!t)throw gi.create("no-options");const l=Qu.get(o);if(l){if(as(t,l.options)&&as(s,l.config))return l;throw gi.create("duplicate-app",{appName:o})}const h=new wE(o);for(const g of kd.values())h.addComponent(g);const f=new pT(t,s,h);return Qu.set(o,f),f}function ry(r=Pd){const e=Qu.get(r);if(!e&&r===Pd&&X_())return tf();if(!e)throw gi.create("no-app",{appName:r});return e}function _i(r,e,t){var s;let o=(s=hT[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(f.join(" "));return}vo(new ls(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="firebase-heartbeat-database",gT=1,$a="firebase-heartbeat-store";let gd=null;function iy(){return gd||(gd=VE(mT,gT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($a)}catch(t){console.warn(t)}}}}).catch(r=>{throw gi.create("idb-open",{originalErrorMessage:r.message})})),gd}async function _T(r){try{const t=(await iy()).transaction($a),s=await t.objectStore($a).get(sy(r));return await t.done,s}catch(e){if(e instanceof br)Dr.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Dr.warn(t.message)}}}async function wg(r,e){try{const s=(await iy()).transaction($a,"readwrite");await s.objectStore($a).put(e,sy(r)),await s.done}catch(t){if(t instanceof br)Dr.warn(t.message);else{const s=gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Dr.warn(s.message)}}}function sy(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=1024,vT=30;class wT{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new TT(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Eg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>vT){const h=IT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Eg(),{heartbeatsToSend:s,unsentEntries:o}=ET(this._heartbeatsCache.heartbeats),l=Ku(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Dr.warn(t),""}}}function Eg(){return new Date().toISOString().substring(0,10)}function ET(r,e=yT){const t=[];let s=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),Tg(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Tg(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class TT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lE()?uE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _T(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return wg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return wg(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Tg(r){return Ku(JSON.stringify({version:2,heartbeats:r})).length}function IT(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(r){vo(new ls("platform-logger",e=>new LE(e),"PRIVATE")),vo(new ls("heartbeat",e=>new wT(e),"PRIVATE")),_i(Rd,yg,r),_i(Rd,yg,"esm2017"),_i("fire-js","")}ST("");var AT="firebase",CT="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(AT,CT,"app");function nf(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function oy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RT=oy,ay=new Za("auth","Firebase",oy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Yd("@firebase/auth");function PT(r,...e){Ju.logLevel<=ke.WARN&&Ju.warn(`Auth (${Ro}): ${r}`,...e)}function Mu(r,...e){Ju.logLevel<=ke.ERROR&&Ju.error(`Auth (${Ro}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(r,...e){throw sf(r,...e)}function Un(r,...e){return sf(r,...e)}function rf(r,e,t){const s=Object.assign(Object.assign({},RT()),{[e]:t});return new Za("auth","Firebase",s).create(e,{appName:r.name})}function is(r){return rf(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kT(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&ir(r,"argument-error"),rf(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sf(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return ay.create(r,...e)}function we(r,e,...t){if(!r)throw sf(e,...t)}function Pr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mu(e),new Error(e)}function Vr(r,e){r||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function xT(){return Ig()==="http:"||Ig()==="https:"}function Ig(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xT()||iE()||"connection"in navigator)?navigator.onLine:!0}function DT(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vr(t>e,"Short delay should be less than long delay!"),this.isMobile=tE()||sE()}get(){return NT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(r,e){Vr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MT=new tl(3e4,6e4);function af(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Po(r,e,t,s,o={}){return uy(r,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const f=el(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},l);return rE()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Co(r.emulatorConfig.host)&&(y.credentials="include"),ly.fetch()(await cy(r,r.config.apiHost,t,f),y)})}async function uy(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},VT),e);try{const o=new bT(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Pu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[g,y]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pu(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw Pu(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw Pu(r,"user-disabled",h);const w=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw rf(r,w,y);ir(r,w)}}catch(o){if(o instanceof br)throw o;ir(r,"network-request-failed",{message:String(o)})}}async function LT(r,e,t,s,o={}){const l=await Po(r,e,t,s,o);return"mfaPendingCredential"in l&&ir(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function cy(r,e,t,s){const o=`${e}${t}?${s}`,l=r,h=l.config.emulator?of(r.config,o):`${r.config.apiScheme}://${o}`;return OT.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class bT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Un(this.auth,"network-request-failed")),MT.get())})}}function Pu(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=Un(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(r,e){return Po(r,"POST","/v1/accounts:delete",e)}async function Xu(r,e){return Po(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zT(r,e=!1){const t=tn(r),s=await t.getIdToken(e),o=lf(s);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:La(_d(o.auth_time)),issuedAtTime:La(_d(o.iat)),expirationTime:La(_d(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function _d(r){return Number(r)*1e3}function lf(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Mu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Q_(t);return o?JSON.parse(o):(Mu("Failed to decode base64 JWT payload"),null)}catch(o){return Mu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Sg(r){const e=lf(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof br&&UT(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function UT({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=La(this.lastLoginAt),this.creationTime=La(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(r){var e;const t=r.auth,s=await r.getIdToken(),o=await Ga(r,Xu(t,{idToken:s}));we(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?hy(l.providerUserInfo):[],f=$T(r.providerData,h),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),w=g?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Nd(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,T)}async function BT(r){const e=tn(r);await Yu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $T(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function hy(r){return r.map(e=>{var{providerId:t}=e,s=nf(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(r,e){const t=await uy(r,{},async()=>{const s=el({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await cy(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:s};return r.emulatorConfig&&Co(r.emulatorConfig.host)&&(g.credentials="include"),ly.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HT(r,e){return Po(r,"POST","/v2/accounts:revokeToken",af(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Sg(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await GT(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new po;return s&&(we(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(we(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Fn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=nf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Nd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ga(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return zT(this,e)}reload(){return BT(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Yu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await Ga(this,FT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,f,g,y,w;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,A=(o=t.email)!==null&&o!==void 0?o:void 0,x=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,j=(h=t.photoURL)!==null&&h!==void 0?h:void 0,$=(f=t.tenantId)!==null&&f!==void 0?f:void 0,F=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,Y=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Z=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:J,emailVerified:ce,isAnonymous:Se,providerData:Ie,stsTokenManager:N}=t;we(J&&N,e,"internal-error");const I=po.fromJSON(this.name,N);we(typeof J=="string",e,"internal-error"),ci(T,e.name),ci(A,e.name),we(typeof ce=="boolean",e,"internal-error"),we(typeof Se=="boolean",e,"internal-error"),ci(x,e.name),ci(j,e.name),ci($,e.name),ci(F,e.name),ci(Y,e.name),ci(Z,e.name);const C=new Fn({uid:J,auth:e,email:A,emailVerified:ce,displayName:T,isAnonymous:Se,photoURL:j,phoneNumber:x,tenantId:$,stsTokenManager:I,createdAt:Y,lastLoginAt:Z});return Ie&&Array.isArray(Ie)&&(C.providerData=Ie.map(k=>Object.assign({},k))),F&&(C._redirectEventId=F),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new po;o.updateFromServerResponse(t);const l=new Fn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yu(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];we(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?hy(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new po;f.updateFromIdToken(s);const g=new Fn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Nd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=new Map;function kr(r){Vr(r instanceof Function,"Expected a class definition");let e=Ag.get(r);return e?(Vr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ag.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dy.type="NONE";const Cg=dy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(r,e,t){return`firebase:${r}:${e}:${t}`}class mo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=Lu(this.userKey,o.apiKey,l),this.fullPersistenceKey=Lu("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Xu(this.auth,{idToken:e}).catch(()=>{});return t?Fn._fromGetAccountInfoResponse(this.auth,t,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new mo(kr(Cg),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||kr(Cg);const h=Lu(s,e.config.apiKey,e.name);let f=null;for(const y of t)try{const w=await y._get(h);if(w){let T;if(typeof w=="string"){const A=await Xu(e,{idToken:w}).catch(()=>{});if(!A)break;T=await Fn._fromGetAccountInfoResponse(e,A,w)}else T=Fn._fromJSON(e,w);y!==l&&(f=T),l=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new mo(l,e,s):(l=g[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new mo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yy(e))return"Blackberry";if(vy(e))return"Webos";if(py(e))return"Safari";if((e.includes("chrome/")||my(e))&&!e.includes("edge/"))return"Chrome";if(_y(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function fy(r=jt()){return/firefox\//i.test(r)}function py(r=jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function my(r=jt()){return/crios\//i.test(r)}function gy(r=jt()){return/iemobile/i.test(r)}function _y(r=jt()){return/android/i.test(r)}function yy(r=jt()){return/blackberry/i.test(r)}function vy(r=jt()){return/webos/i.test(r)}function uf(r=jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function WT(r=jt()){var e;return uf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qT(){return oE()&&document.documentMode===10}function wy(r=jt()){return uf(r)||_y(r)||vy(r)||yy(r)||/windows phone/i.test(r)||gy(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(r,e=[]){let t;switch(r){case"Browser":t=Rg(jt());break;case"Worker":t=`${Rg(jt())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,f)=>{try{const g=e(l);h(g)}catch(g){f(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(r,e={}){return Po(r,"GET","/v2/passwordPolicy",af(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=6;class XT{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:JT,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,f;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(l=g.containsUppercaseLetter)!==null&&l!==void 0?l:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(f=g.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pg(this),this.idTokenSubscription=new Pg(this),this.beforeStateQueue=new KT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ay,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=kr(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xu(this,{idToken:e}),s=await Fn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===f)&&(g!=null&&g.user)&&(o=g.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yu(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DT()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(is(this));const t=e?tn(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QT(this),t=new XT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Za("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await HT(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&kr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[kr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ey(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&PT(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function gc(r){return tn(r)}class Pg{constructor(e){this.auth=e,this.observer=null,this.addObserver=pE(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZT(r){cf=r}function eI(r){return cf.loadJS(r)}function tI(){return cf.gapiScript}function nI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(r,e){const t=ef(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(as(l,e??{}))return o;ir(o,"already-initialized")}return t.initialize({options:e})}function iI(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(kr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function sI(r,e,t){const s=gc(r);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=Ty(e),{host:h,port:f}=oI(e),g=f===null?"":`:${f}`,y={url:`${l}//${h}${g}/`},w=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(as(y,s.config.emulator)&&as(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Co(h)?(Z_(`${l}//${h}${g}`),ey("Auth",!0)):aI()}function Ty(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function oI(r){const e=Ty(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:kg(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:kg(h)}}}function kg(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function aI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,t){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r,e){return LT(r,"POST","/v1/accounts:signInWithIdp",af(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="http://localhost";class us extends Iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=nf(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new us(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return go(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,go(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,go(e,t)}buildRequest(){const e={requestUri:lI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=el(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends hf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends nl{constructor(){super("facebook.com")}static credential(e){return us._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return us._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Rr.credential(t,s)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends nl{constructor(){super("github.com")}static credential(e){return us._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends nl{constructor(){super("twitter.com")}static credential(e,t){return us._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return fi.credential(t,s)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Fn._fromIdTokenResponse(e,s,o),h=xg(s);return new wo({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=xg(s);return new wo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function xg(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends br{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Zu(e,t,s,o)}}function Sy(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Zu._fromErrorAndOperation(r,l,e,s):l})}async function uI(r,e,t=!1){const s=await Ga(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return wo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(r,e,t=!1){const{auth:s}=r;if(bn(s.app))return Promise.reject(is(s));const o="reauthenticate";try{const l=await Ga(r,Sy(s,o,e,r),t);we(l.idToken,s,"internal-error");const h=lf(l.idToken);we(h,s,"internal-error");const{sub:f}=h;return we(r.uid===f,s,"user-mismatch"),wo._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ir(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(r,e,t=!1){if(bn(r.app))return Promise.reject(is(r));const s="signIn",o=await Sy(r,s,e),l=await wo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(l.user),l}function dI(r,e,t,s){return tn(r).onIdTokenChanged(e,t,s)}function fI(r,e,t){return tn(r).beforeAuthStateChanged(e,t)}function pI(r,e,t,s){return tn(r).onAuthStateChanged(e,t,s)}function mI(r){return tn(r).signOut()}const ec="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ec,"1"),this.storage.removeItem(ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1e3,_I=10;class Cy extends Ay{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);qT()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_I):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},gI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cy.type="LOCAL";const yI=Cy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends Ay{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ry.type="SESSION";const Py=Ry;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new _c(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),g=await vI(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,g)=>{const y=df("",20);o.port1.start();const w=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(A.data.response);break;default:clearTimeout(w),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function EI(r){Zn().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function TI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function II(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function SI(){return ky()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="firebaseLocalStorageDb",AI=1,tc="firebaseLocalStorage",Ny="fbase_key";class rl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yc(r,e){return r.transaction([tc],e?"readwrite":"readonly").objectStore(tc)}function CI(){const r=indexedDB.deleteDatabase(xy);return new rl(r).toPromise()}function Dd(){const r=indexedDB.open(xy,AI);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(tc,{keyPath:Ny})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(tc)?e(s):(s.close(),await CI(),e(await Dd()))})})}async function Ng(r,e,t){const s=yc(r,!0).put({[Ny]:e,value:t});return new rl(s).toPromise()}async function RI(r,e){const t=yc(r,!1).get(e),s=await new rl(t).toPromise();return s===void 0?null:s.value}function Dg(r,e){const t=yc(r,!0).delete(e);return new rl(t).toPromise()}const PI=800,kI=3;class Dy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dd(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>kI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ky()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_c._getInstance(SI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await TI(),!this.activeServiceWorker)return;this.sender=new wI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||II()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dd();return await Ng(e,ec,"1"),await Dg(e,ec),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ng(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>RI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Dg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=yc(o,!1).getAll();return new rl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dy.type="LOCAL";const xI=Dy;new tl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(r,e){return e?kr(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends Iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NI(r){return hI(r.auth,new ff(r),r.bypassAuthState)}function DI(r){const{auth:e,user:t}=r;return we(t,e,"internal-error"),cI(t,new ff(r),r.bypassAuthState)}async function VI(r){const{auth:e,user:t}=r;return we(t,e,"internal-error"),uI(t,new ff(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NI;case"linkViaPopup":case"linkViaRedirect":return VI;case"reauthViaPopup":case"reauthViaRedirect":return DI;default:ir(this.auth,"internal-error")}}resolve(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new tl(2e3,1e4);async function MI(r,e,t){if(bn(r.app))return Promise.reject(Un(r,"operation-not-supported-in-this-environment"));const s=gc(r);kT(r,e,hf);const o=Vy(s,t);return new ns(s,"signInViaPopup",e,o).executeNotNull()}class ns extends Oy{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,ns.currentPopupAction&&ns.currentPopupAction.cancel(),ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Vr(this.filter.length===1,"Popup operations only handle one event");const e=df();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OI.get())};e()}}ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="pendingRedirect",bu=new Map;class bI extends Oy{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=bu.get(this.auth._key());if(!e){try{const s=await FI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}bu.set(this.auth._key(),e)}return this.bypassAuthState||bu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FI(r,e){const t=jI(e),s=UI(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function zI(r,e){bu.set(r._key(),e)}function UI(r){return kr(r._redirectPersistence)}function jI(r){return Lu(LI,r.config.apiKey,r.name)}async function BI(r,e,t=!1){if(bn(r.app))return Promise.reject(is(r));const s=gc(r),o=Vy(s,e),h=await new bI(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=600*1e3;class GI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!My(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Un(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$I&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vg(e))}saveEventToCache(e){this.cachedEventUids.add(Vg(e)),this.lastProcessedEventTime=Date.now()}}function Vg(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function My({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return My(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(r,e={}){return Po(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KI=/^https?/;async function QI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await WI(r);for(const t of e)try{if(JI(t))return}catch{}ir(r,"unauthorized-domain")}function JI(r){const e=xd(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!KI.test(t))return!1;if(qI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new tl(3e4,6e4);function Og(){const r=Zn().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function YI(r){return new Promise((e,t)=>{var s,o,l;function h(){Og(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Og(),t(Un(r,"network-request-failed"))},timeout:XI.get()})}if(!((o=(s=Zn().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=Zn().gapi)===null||l===void 0)&&l.load)h();else{const f=nI("iframefcb");return Zn()[f]=()=>{gapi.load?h():t(Un(r,"network-request-failed"))},eI(`${tI()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw Fu=null,e})}let Fu=null;function ZI(r){return Fu=Fu||YI(r),Fu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new tl(5e3,15e3),t1="__/auth/iframe",n1="emulator/auth/iframe",r1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s1(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?of(e,n1):`https://${r.config.authDomain}/${t1}`,s={apiKey:e.apiKey,appName:r.name,v:Ro},o=i1.get(r.config.apiHost);o&&(s.eid=o);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${el(s).slice(1)}`}async function o1(r){const e=await ZI(r),t=Zn().gapi;return we(t,r,"internal-error"),e.open({where:document.body,url:s1(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r1,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=Un(r,"network-request-failed"),f=Zn().setTimeout(()=>{l(h)},e1.get());function g(){Zn().clearTimeout(f),o(s)}s.ping(g).then(g,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l1=500,u1=600,c1="_blank",h1="http://localhost";class Mg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d1(r,e,t,s=l1,o=u1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const g=Object.assign(Object.assign({},a1),{width:s.toString(),height:o.toString(),top:l,left:h}),y=jt().toLowerCase();t&&(f=my(y)?c1:t),fy(y)&&(e=e||h1,g.scrollbars="yes");const w=Object.entries(g).reduce((A,[x,j])=>`${A}${x}=${j},`,"");if(WT(y)&&f!=="_self")return f1(e||"",f),new Mg(null);const T=window.open(e||"",f,w);we(T,r,"popup-blocked");try{T.focus()}catch{}return new Mg(T)}function f1(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="__/auth/handler",m1="emulator/auth/handler",g1=encodeURIComponent("fac");async function Lg(r,e,t,s,o,l){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:Ro,eventId:o};if(e instanceof hf){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",fE(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))h[w]=T}if(e instanceof nl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(h.scopes=w.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const g=await r._getAppCheckToken(),y=g?`#${g1}=${encodeURIComponent(g)}`:"";return`${_1(r)}?${el(f).slice(1)}${y}`}function _1({config:r}){return r.emulator?of(r,m1):`https://${r.authDomain}/${p1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="webStorageSupport";class y1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Py,this._completeRedirectFn=BI,this._overrideRedirectResult=zI}async _openPopup(e,t,s,o){var l;Vr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Lg(e,t,s,xd(),o);return d1(e,h,df())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Lg(e,t,s,xd(),o);return EI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Vr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await o1(e),s=new GI(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yd,{type:yd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[yd];h!==void 0&&t(!!h),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=QI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wy()||py()||uf()}}const v1=y1;var bg="@firebase/auth",Fg="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T1(r){vo(new ls("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ey(r)},y=new YT(s,o,l,g);return iI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),vo(new ls("auth-internal",e=>{const t=gc(e.getProvider("auth").getImmediate());return(s=>new w1(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(bg,Fg,E1(r)),_i(bg,Fg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=300,S1=Y_("authIdTokenMaxAge")||I1;let zg=null;const A1=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>S1)return;const o=t==null?void 0:t.token;zg!==o&&(zg=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function C1(r=ry()){const e=ef(r,"auth");if(e.isInitialized())return e.getImmediate();const t=rI(r,{popupRedirectResolver:v1,persistence:[xI,yI,Py]}),s=Y_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=A1(l.toString());fI(t,h,()=>h(t.currentUser)),dI(t,f=>h(f))}}const o=J_("auth");return o&&sI(t,`http://${o}`),t}function R1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}ZT({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const l=Un("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",R1().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T1("Browser");var Ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,Ly;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function C(){}C.prototype=I.prototype,N.D=I.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(k,V,M){for(var R=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)R[rt-2]=arguments[rt];return I.prototype[V].apply(k,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,I,C){C||(C=0);var k=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)k[V]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(V=0;16>V;++V)k[V]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=N.g[0],C=N.g[1],V=N.g[2];var M=N.g[3],R=I+(M^C&(V^M))+k[0]+3614090360&4294967295;I=C+(R<<7&4294967295|R>>>25),R=M+(V^I&(C^V))+k[1]+3905402710&4294967295,M=I+(R<<12&4294967295|R>>>20),R=V+(C^M&(I^C))+k[2]+606105819&4294967295,V=M+(R<<17&4294967295|R>>>15),R=C+(I^V&(M^I))+k[3]+3250441966&4294967295,C=V+(R<<22&4294967295|R>>>10),R=I+(M^C&(V^M))+k[4]+4118548399&4294967295,I=C+(R<<7&4294967295|R>>>25),R=M+(V^I&(C^V))+k[5]+1200080426&4294967295,M=I+(R<<12&4294967295|R>>>20),R=V+(C^M&(I^C))+k[6]+2821735955&4294967295,V=M+(R<<17&4294967295|R>>>15),R=C+(I^V&(M^I))+k[7]+4249261313&4294967295,C=V+(R<<22&4294967295|R>>>10),R=I+(M^C&(V^M))+k[8]+1770035416&4294967295,I=C+(R<<7&4294967295|R>>>25),R=M+(V^I&(C^V))+k[9]+2336552879&4294967295,M=I+(R<<12&4294967295|R>>>20),R=V+(C^M&(I^C))+k[10]+4294925233&4294967295,V=M+(R<<17&4294967295|R>>>15),R=C+(I^V&(M^I))+k[11]+2304563134&4294967295,C=V+(R<<22&4294967295|R>>>10),R=I+(M^C&(V^M))+k[12]+1804603682&4294967295,I=C+(R<<7&4294967295|R>>>25),R=M+(V^I&(C^V))+k[13]+4254626195&4294967295,M=I+(R<<12&4294967295|R>>>20),R=V+(C^M&(I^C))+k[14]+2792965006&4294967295,V=M+(R<<17&4294967295|R>>>15),R=C+(I^V&(M^I))+k[15]+1236535329&4294967295,C=V+(R<<22&4294967295|R>>>10),R=I+(V^M&(C^V))+k[1]+4129170786&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^V&(I^C))+k[6]+3225465664&4294967295,M=I+(R<<9&4294967295|R>>>23),R=V+(I^C&(M^I))+k[11]+643717713&4294967295,V=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(V^M))+k[0]+3921069994&4294967295,C=V+(R<<20&4294967295|R>>>12),R=I+(V^M&(C^V))+k[5]+3593408605&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^V&(I^C))+k[10]+38016083&4294967295,M=I+(R<<9&4294967295|R>>>23),R=V+(I^C&(M^I))+k[15]+3634488961&4294967295,V=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(V^M))+k[4]+3889429448&4294967295,C=V+(R<<20&4294967295|R>>>12),R=I+(V^M&(C^V))+k[9]+568446438&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^V&(I^C))+k[14]+3275163606&4294967295,M=I+(R<<9&4294967295|R>>>23),R=V+(I^C&(M^I))+k[3]+4107603335&4294967295,V=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(V^M))+k[8]+1163531501&4294967295,C=V+(R<<20&4294967295|R>>>12),R=I+(V^M&(C^V))+k[13]+2850285829&4294967295,I=C+(R<<5&4294967295|R>>>27),R=M+(C^V&(I^C))+k[2]+4243563512&4294967295,M=I+(R<<9&4294967295|R>>>23),R=V+(I^C&(M^I))+k[7]+1735328473&4294967295,V=M+(R<<14&4294967295|R>>>18),R=C+(M^I&(V^M))+k[12]+2368359562&4294967295,C=V+(R<<20&4294967295|R>>>12),R=I+(C^V^M)+k[5]+4294588738&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^V)+k[8]+2272392833&4294967295,M=I+(R<<11&4294967295|R>>>21),R=V+(M^I^C)+k[11]+1839030562&4294967295,V=M+(R<<16&4294967295|R>>>16),R=C+(V^M^I)+k[14]+4259657740&4294967295,C=V+(R<<23&4294967295|R>>>9),R=I+(C^V^M)+k[1]+2763975236&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^V)+k[4]+1272893353&4294967295,M=I+(R<<11&4294967295|R>>>21),R=V+(M^I^C)+k[7]+4139469664&4294967295,V=M+(R<<16&4294967295|R>>>16),R=C+(V^M^I)+k[10]+3200236656&4294967295,C=V+(R<<23&4294967295|R>>>9),R=I+(C^V^M)+k[13]+681279174&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^V)+k[0]+3936430074&4294967295,M=I+(R<<11&4294967295|R>>>21),R=V+(M^I^C)+k[3]+3572445317&4294967295,V=M+(R<<16&4294967295|R>>>16),R=C+(V^M^I)+k[6]+76029189&4294967295,C=V+(R<<23&4294967295|R>>>9),R=I+(C^V^M)+k[9]+3654602809&4294967295,I=C+(R<<4&4294967295|R>>>28),R=M+(I^C^V)+k[12]+3873151461&4294967295,M=I+(R<<11&4294967295|R>>>21),R=V+(M^I^C)+k[15]+530742520&4294967295,V=M+(R<<16&4294967295|R>>>16),R=C+(V^M^I)+k[2]+3299628645&4294967295,C=V+(R<<23&4294967295|R>>>9),R=I+(V^(C|~M))+k[0]+4096336452&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~V))+k[7]+1126891415&4294967295,M=I+(R<<10&4294967295|R>>>22),R=V+(I^(M|~C))+k[14]+2878612391&4294967295,V=M+(R<<15&4294967295|R>>>17),R=C+(M^(V|~I))+k[5]+4237533241&4294967295,C=V+(R<<21&4294967295|R>>>11),R=I+(V^(C|~M))+k[12]+1700485571&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~V))+k[3]+2399980690&4294967295,M=I+(R<<10&4294967295|R>>>22),R=V+(I^(M|~C))+k[10]+4293915773&4294967295,V=M+(R<<15&4294967295|R>>>17),R=C+(M^(V|~I))+k[1]+2240044497&4294967295,C=V+(R<<21&4294967295|R>>>11),R=I+(V^(C|~M))+k[8]+1873313359&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~V))+k[15]+4264355552&4294967295,M=I+(R<<10&4294967295|R>>>22),R=V+(I^(M|~C))+k[6]+2734768916&4294967295,V=M+(R<<15&4294967295|R>>>17),R=C+(M^(V|~I))+k[13]+1309151649&4294967295,C=V+(R<<21&4294967295|R>>>11),R=I+(V^(C|~M))+k[4]+4149444226&4294967295,I=C+(R<<6&4294967295|R>>>26),R=M+(C^(I|~V))+k[11]+3174756917&4294967295,M=I+(R<<10&4294967295|R>>>22),R=V+(I^(M|~C))+k[2]+718787259&4294967295,V=M+(R<<15&4294967295|R>>>17),R=C+(M^(V|~I))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+M&4294967295}s.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var C=I-this.blockSize,k=this.B,V=this.h,M=0;M<I;){if(V==0)for(;M<=C;)o(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<I;)if(k[V++]=N.charCodeAt(M++),V==this.blockSize){o(this,k),V=0;break}}else for(;M<I;)if(k[V++]=N[M++],V==this.blockSize){o(this,k),V=0;break}}this.h=V,this.o+=I},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var C=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=C&255,C/=256;for(this.u(N),N=Array(16),I=C=0;4>I;++I)for(var k=0;32>k;k+=8)N[C++]=this.g[I]>>>k&255;return N};function l(N,I){var C=f;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=I(N)}function h(N,I){this.h=I;for(var C=[],k=!0,V=N.length-1;0<=V;V--){var M=N[V]|0;k&&M==I||(C[V]=M,k=!1)}this.g=C}var f={};function g(N){return-128<=N&&128>N?l(N,function(I){return new h([I|0],0>I?-1:0)}):new h([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(0>N)return F(y(-N));for(var I=[],C=1,k=0;N>=C;k++)I[k]=N/C|0,C*=4294967296;return new h(I,0)}function w(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return F(w(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(I,8)),k=T,V=0;V<N.length;V+=8){var M=Math.min(8,N.length-V),R=parseInt(N.substring(V,V+M),I);8>M?(M=y(Math.pow(I,M)),k=k.j(M).add(y(R))):(k=k.j(C),k=k.add(y(R)))}return k}var T=g(0),A=g(1),x=g(16777216);r=h.prototype,r.m=function(){if($(this))return-F(this).m();for(var N=0,I=1,C=0;C<this.g.length;C++){var k=this.i(C);N+=(0<=k?k:4294967296+k)*I,I*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if($(this))return"-"+F(this).toString(N);for(var I=y(Math.pow(N,6)),C=this,k="";;){var V=ce(C,I).g;C=Y(C,V.j(I));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=V,j(C))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function $(N){return N.h==-1}r.l=function(N){return N=Y(this,N),$(N)?-1:j(N)?0:1};function F(N){for(var I=N.g.length,C=[],k=0;k<I;k++)C[k]=~N.g[k];return new h(C,~N.h).add(A)}r.abs=function(){return $(this)?F(this):this},r.add=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],k=0,V=0;V<=I;V++){var M=k+(this.i(V)&65535)+(N.i(V)&65535),R=(M>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);k=R>>>16,M&=65535,R&=65535,C[V]=R<<16|M}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Y(N,I){return N.add(F(I))}r.j=function(N){if(j(this)||j(N))return T;if($(this))return $(N)?F(this).j(F(N)):F(F(this).j(N));if($(N))return F(this.j(F(N)));if(0>this.l(x)&&0>N.l(x))return y(this.m()*N.m());for(var I=this.g.length+N.g.length,C=[],k=0;k<2*I;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var V=0;V<N.g.length;V++){var M=this.i(k)>>>16,R=this.i(k)&65535,rt=N.i(V)>>>16,Dt=N.i(V)&65535;C[2*k+2*V]+=R*Dt,Z(C,2*k+2*V),C[2*k+2*V+1]+=M*Dt,Z(C,2*k+2*V+1),C[2*k+2*V+1]+=R*rt,Z(C,2*k+2*V+1),C[2*k+2*V+2]+=M*rt,Z(C,2*k+2*V+2)}for(k=0;k<I;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=I;k<2*I;k++)C[k]=0;return new h(C,0)};function Z(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function J(N,I){this.g=N,this.h=I}function ce(N,I){if(j(I))throw Error("division by zero");if(j(N))return new J(T,T);if($(N))return I=ce(F(N),I),new J(F(I.g),F(I.h));if($(I))return I=ce(N,F(I)),new J(F(I.g),I.h);if(30<N.g.length){if($(N)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var C=A,k=I;0>=k.l(N);)C=Se(C),k=Se(k);var V=Ie(C,1),M=Ie(k,1);for(k=Ie(k,2),C=Ie(C,2);!j(k);){var R=M.add(k);0>=R.l(N)&&(V=V.add(C),M=R),k=Ie(k,1),C=Ie(C,1)}return I=Y(N,V.j(I)),new J(V,I)}for(V=T;0<=N.l(I);){for(C=Math.max(1,Math.floor(N.m()/I.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=y(C),R=M.j(I);$(R)||0<R.l(N);)C-=k,M=y(C),R=M.j(I);j(M)&&(M=A),V=V.add(M),N=Y(N,R)}return new J(V,N)}r.A=function(N){return ce(this,N).h},r.and=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)&N.i(k);return new h(C,this.h&N.h)},r.or=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)|N.i(k);return new h(C,this.h|N.h)},r.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)^N.i(k);return new h(C,this.h^N.h)};function Se(N){for(var I=N.g.length+1,C=[],k=0;k<I;k++)C[k]=N.i(k)<<1|N.i(k-1)>>>31;return new h(C,N.h)}function Ie(N,I){var C=I>>5;I%=32;for(var k=N.g.length-C,V=[],M=0;M<k;M++)V[M]=0<I?N.i(M+C)>>>I|N.i(M+C+1)<<32-I:N.i(M+C);return new h(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ly=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,yi=h}).apply(typeof Ug<"u"?Ug:typeof self<"u"?self:typeof window<"u"?window:{});var ku=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var by,Na,Fy,zu,Vd,zy,Uy,jy;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,_){return u==Array.prototype||u==Object.prototype||(u[p]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ku=="object"&&ku];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,p){if(p)e:{var _=s;u=u.split(".");for(var E=0;E<u.length-1;E++){var L=u[E];if(!(L in _))break e;_=_[L]}u=u[u.length-1],E=_[u],p=p(E),p!=E&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}function l(u,p){u instanceof String&&(u+="");var _=0,E=!1,L={next:function(){if(!E&&_<u.length){var B=_++;return{value:p(B,u[B]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return l(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function g(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function w(u,p,_){return u.call.apply(u.bind,arguments)}function T(u,p,_){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function A(u,p,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,A.apply(null,arguments)}function x(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function j(u,p){function _(){}_.prototype=p.prototype,u.aa=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(E,L,B){for(var te=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)te[Ue-2]=arguments[Ue];return p.prototype[L].apply(E,te)}}function $(u){const p=u.length;if(0<p){const _=Array(p);for(let E=0;E<p;E++)_[E]=u[E];return _}return[]}function F(u,p){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(g(E)){const L=u.length||0,B=E.length||0;u.length=L+B;for(let te=0;te<B;te++)u[L+te]=E[te]}else u.push(E)}}class Y{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Z(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ce(u){return ce[" "](u),u}ce[" "]=function(){};var Se=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Ie(u,p,_){for(const E in u)p.call(_,u[E],E,u)}function N(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function I(u){const p={};for(const _ in u)p[_]=u[_];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,p){let _,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(_ in E)u[_]=E[_];for(let B=0;B<C.length;B++)_=C[B],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function V(u){var p=1;u=u.split(":");const _=[];for(;0<p&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function M(u){f.setTimeout(()=>{throw u},0)}function R(){var u=pe;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class rt{constructor(){this.h=this.g=null}add(p,_){const E=Dt.get();E.set(p,_),this.h?this.h.next=E:this.g=E,this.h=E}}var Dt=new Y(()=>new Vt,u=>u.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let je,ne=!1,pe=new rt,oe=()=>{const u=f.Promise.resolve(void 0);je=()=>{u.then(O)}};var O=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){M(_)}var p=Dt;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ne=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ae=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,p),f.removeEventListener("test",_,p)}catch{}return u})();function Re(u,p){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(Se){e:{try{ce(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else _=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement);this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}j(Re,fe);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function $e(u,p,_,E,L){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!E,this.ha=L,this.key=++Fe,this.da=this.fa=!1}function yt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ur(u){this.src=u,this.g={},this.h=0}ur.prototype.add=function(u,p,_,E,L){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var te=zr(u,p,E,L);return-1<te?(p=u[te],_||(p.fa=!1)):(p=new $e(p,this.src,B,!!E,L),p.fa=_,u.push(p)),p};function _s(u,p){var _=p.type;if(_ in u.g){var E=u.g[_],L=Array.prototype.indexOf.call(E,p,void 0),B;(B=0<=L)&&Array.prototype.splice.call(E,L,1),B&&(yt(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function zr(u,p,_,E){for(var L=0;L<u.length;++L){var B=u[L];if(!B.da&&B.listener==p&&B.capture==!!_&&B.ha==E)return L}return-1}var Ri="closure_lm_"+(1e6*Math.random()|0),ys={};function Mo(u,p,_,E,L){if(Array.isArray(p)){for(var B=0;B<p.length;B++)Mo(u,p[B],_,E,L);return null}return _=Fo(_),u&&u[be]?u.K(p,_,y(E)?!!E.capture:!1,L):Lo(u,p,_,!1,E,L)}function Lo(u,p,_,E,L,B){if(!p)throw Error("Invalid event type");var te=y(L)?!!L.capture:!!L,Ue=ws(u);if(Ue||(u[Ri]=Ue=new ur(u)),_=Ue.add(p,_,E,te,B),_.proxy)return _;if(E=dl(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)Ae||(L=te),L===void 0&&(L=!1),u.addEventListener(p.toString(),E,L);else if(u.attachEvent)u.attachEvent(hr(p.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function dl(){function u(_){return p.call(u.src,u.listener,_)}const p=bo;return u}function vs(u,p,_,E,L){if(Array.isArray(p))for(var B=0;B<p.length;B++)vs(u,p[B],_,E,L);else E=y(E)?!!E.capture:!!E,_=Fo(_),u&&u[be]?(u=u.i,p=String(p).toString(),p in u.g&&(B=u.g[p],_=zr(B,_,E,L),-1<_&&(yt(B[_]),Array.prototype.splice.call(B,_,1),B.length==0&&(delete u.g[p],u.h--)))):u&&(u=ws(u))&&(p=u.g[p.toString()],u=-1,p&&(u=zr(p,_,E,L)),(_=-1<u?p[u]:null)&&cr(_))}function cr(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[be])_s(p.i,u);else{var _=u.type,E=u.proxy;p.removeEventListener?p.removeEventListener(_,E,u.capture):p.detachEvent?p.detachEvent(hr(_),E):p.addListener&&p.removeListener&&p.removeListener(E),(_=ws(p))?(_s(_,u),_.h==0&&(_.src=null,p[Ri]=null)):yt(u)}}}function hr(u){return u in ys?ys[u]:ys[u]="on"+u}function bo(u,p){if(u.da)u=!0;else{p=new Re(p,this);var _=u.listener,E=u.ha||u.src;u.fa&&cr(u),u=_.call(E,p)}return u}function ws(u){return u=u[Ri],u instanceof ur?u:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fo(u){return typeof u=="function"?u:(u[Es]||(u[Es]=function(p){return u.handleEvent(p)}),u[Es])}function ht(){W.call(this),this.i=new ur(this),this.M=this,this.F=null}j(ht,W),ht.prototype[be]=!0,ht.prototype.removeEventListener=function(u,p,_,E){vs(this,u,p,_,E)};function dt(u,p){var _,E=u.F;if(E)for(_=[];E;E=E.F)_.push(E);if(u=u.M,E=p.type||p,typeof p=="string")p=new fe(p,u);else if(p instanceof fe)p.target=p.target||u;else{var L=p;p=new fe(E,u),k(p,L)}if(L=!0,_)for(var B=_.length-1;0<=B;B--){var te=p.g=_[B];L=dr(te,E,!0,p)&&L}if(te=p.g=u,L=dr(te,E,!0,p)&&L,L=dr(te,E,!1,p)&&L,_)for(B=0;B<_.length;B++)te=p.g=_[B],L=dr(te,E,!1,p)&&L}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var _=u.g[p],E=0;E<_.length;E++)yt(_[E]);delete u.g[p],u.h--}}this.F=null},ht.prototype.K=function(u,p,_,E){return this.i.add(String(u),p,!1,_,E)},ht.prototype.L=function(u,p,_,E){return this.i.add(String(u),p,!0,_,E)};function dr(u,p,_,E){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,B=0;B<p.length;++B){var te=p[B];if(te&&!te.da&&te.capture==_){var Ue=te.listener,ft=te.ha||te.src;te.fa&&_s(u.i,te),L=Ue.call(ft,E)!==!1&&L}}return L&&!E.defaultPrevented}function zo(u,p,_){if(typeof u=="function")_&&(u=A(u,_));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:f.setTimeout(u,p||0)}function Ur(u){u.g=zo(()=>{u.g=null,u.i&&(u.i=!1,Ur(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Pi extends W{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ur(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ki(u){W.call(this),this.h=u,this.g={}}j(ki,W);var Uo=[];function jo(u){Ie(u.g,function(p,_){this.g.hasOwnProperty(_)&&cr(p)},u),u.g={}}ki.prototype.N=function(){ki.aa.N.call(this),jo(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bo=f.JSON.stringify,$o=f.JSON.parse,Go=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function xi(){}xi.prototype.h=null;function Ts(u){return u.h||(u.h=u.i())}function Is(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){fe.call(this,"d")}j(jn,fe);function Ss(){fe.call(this,"c")}j(Ss,fe);var Bn={},Ho=null;function Ni(){return Ho=Ho||new ht}Bn.La="serverreachability";function Wo(u){fe.call(this,Bn.La,u)}j(Wo,fe);function fr(u){const p=Ni();dt(p,new Wo(p))}Bn.STAT_EVENT="statevent";function qo(u,p){fe.call(this,Bn.STAT_EVENT,u),this.stat=p}j(qo,fe);function it(u){const p=Ni();dt(p,new qo(p,u))}Bn.Ma="timingevent";function As(u,p){fe.call(this,Bn.Ma,u),this.size=p}j(As,fe);function Tn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Di(){this.g=!0}Di.prototype.xa=function(){this.g=!1};function Vi(u,p,_,E,L,B){u.info(function(){if(u.g)if(B)for(var te="",Ue=B.split("&"),ft=0;ft<Ue.length;ft++){var Ve=Ue[ft].split("=");if(1<Ve.length){var vt=Ve[0];Ve=Ve[1];var at=vt.split("_");te=2<=at.length&&at[1]=="type"?te+(vt+"="+Ve+"&"):te+(vt+"=redacted&")}}else te=null;else te=B;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+p+`
`+_+`
`+te})}function Cs(u,p,_,E,L,B,te){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+p+`
`+_+`
`+B+" "+te})}function In(u,p,_,E){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Mc(u,_)+(E?" "+E:"")})}function Ko(u,p){u.info(function(){return"TIMEOUT: "+p})}Di.prototype.info=function(){};function Mc(u,p){if(!u.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var E=_[u];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var te=1;te<L.length;te++)L[te]=""}}}}return Bo(_)}catch{return p}}var Rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sn;function Oi(){}j(Oi,xi),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},Sn=new Oi;function An(u,p,_,E){this.j=u,this.i=p,this.l=_,this.R=E||1,this.U=new ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pl}function pl(){this.i=null,this.g="",this.h=!1}var Qo={},Ps={};function ks(u,p,_){u.L=1,u.v=Hr(rn(p)),u.m=_,u.P=!0,Jo(u,null)}function Jo(u,p){u.F=Date.now(),Ge(u),u.A=rn(u.v);var _=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),qr(_.i,"t",E),u.C=0,_=u.j.J,u.h=new pl,u.g=Dl(u.j,_?p:null,!u.m),0<u.O&&(u.M=new Pi(A(u.Y,u,u.g),u.O)),p=u.U,_=u.g,E=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Uo[0]=L.toString()),L=Uo);for(var B=0;B<L.length;B++){var te=Mo(_,L[B],E||p.handleEvent,!1,p.h||p);if(!te)break;p.g[te.key]=te}p=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),fr(),Vi(u.i,u.u,u.A,u.l,u.R,u.m)}An.prototype.ca=function(u){u=u.target;const p=this.M;p&&qt(u)==3?p.j():this.Y(u)},An.prototype.Y=function(u){try{if(u==this.g)e:{const at=qt(this.g);var p=this.g.Ba();const fn=this.g.Z();if(!(3>at)&&(at!=3||this.g&&(this.h.h||this.g.oa()||na(this.g)))){this.J||at!=4||p==7||(p==8||0>=fn?fr(3):fr(2)),Mi(this);var _=this.g.Z();this.X=_;t:if(ml(this)){var E=na(this.g);u="";var L=E.length,B=qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),jr(this);var te="";break t}this.h.i=new f.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(E[p],{stream:!(B&&p==L-1)});E.length=0,this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=_==200,Cs(this.i,this.u,this.A,this.l,this.R,at,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ft=this.g;if((Ue=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ue)){var Ve=Ue;break t}}Ve=null}if(_=Ve)In(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xo(this,_);else{this.o=!1,this.s=3,it(12),hn(this),jr(this);break e}}if(this.P){_=!0;let on;for(;!this.J&&this.C<te.length;)if(on=Lc(this,te),on==Ps){at==4&&(this.s=4,it(14),_=!1),In(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Qo){this.s=4,it(15),In(this.i,this.l,te,"[Invalid Chunk]"),_=!1;break}else In(this.i,this.l,on,null),Xo(this,on);if(ml(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),at!=4||te.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)In(this.i,this.l,te,"[Invalid Chunked Response]"),hn(this),jr(this);else if(0<te.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),ia(vt),vt.M=!0,it(11))}}else In(this.i,this.l,te,null),Xo(this,te);at==4&&hn(this),this.o&&!this.J&&(at==4?Us(this.j,this):(this.o=!1,Ge(this)))}else Ms(this.g),_==400&&0<te.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),hn(this),jr(this)}}}catch{}finally{}};function ml(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Lc(u,p){var _=u.C,E=p.indexOf(`
`,_);return E==-1?Ps:(_=Number(p.substring(_,E)),isNaN(_)?Qo:(E+=1,E+_>p.length?Ps:(p=p.slice(E,E+_),u.C=E+_,p)))}An.prototype.cancel=function(){this.J=!0,hn(this)};function Ge(u){u.S=Date.now()+u.I,gl(u,u.I)}function gl(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Tn(A(u.ba,u),p)}function Mi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}An.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ko(this.i,this.A),this.L!=2&&(fr(),it(17)),hn(this),this.s=2,jr(this)):gl(this,this.S-u)};function jr(u){u.j.G==0||u.J||Us(u.j,u)}function hn(u){Mi(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,jo(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Xo(u,p){try{var _=u.j;if(_.G!=0&&(_.g==u||Bt(_.h,u))){if(!u.K&&Bt(_.h,u)&&_.G==3){try{var E=_.Da.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)zs(_),xn(_);else break e;Fs(_),it(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tn(A(_.Za,_),6e3));if(1>=yl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else yr(_,11)}else if((u.K||_.g==u)&&zs(_),!Z(p))for(L=_.Da.g.parse(p),p=0;p<L.length;p++){let Ve=L[p];if(_.T=Ve[0],Ve=Ve[1],_.G==2)if(Ve[0]=="c"){_.K=Ve[1],_.ia=Ve[2];const vt=Ve[3];vt!=null&&(_.la=vt,_.j.info("VER="+_.la));const at=Ve[4];at!=null&&(_.Aa=at,_.j.info("SVER="+_.Aa));const fn=Ve[5];fn!=null&&typeof fn=="number"&&0<fn&&(E=1.5*fn,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const on=u.g;if(on){const Bi=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var B=E.h;B.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Yo(B,B.h),B.h=null))}if(E.D){const Bs=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Bs&&(E.ya=Bs,Be(E.I,E.D,Bs))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var te=u;if(E.qa=Nl(E,E.J?E.ia:null,E.W),te.K){vl(E.h,te);var Ue=te,ft=E.L;ft&&(Ue.I=ft),Ue.B&&(Mi(Ue),Ge(Ue)),E.g=te}else ji(E);0<_.i.length&&Wn(_)}else Ve[0]!="stop"&&Ve[0]!="close"||yr(_,7);else _.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?yr(_,7):Ct(_):Ve[0]!="noop"&&_.l&&_.l.ta(Ve),_.v=0)}}fr(4)}catch{}}var _l=class{constructor(u,p){this.g=u,this.map=p}};function Li(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yl(u){return u.h?1:u.g?u.g.size:0}function Bt(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Yo(u,p){u.g?u.g.add(p):u.h=p}function vl(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Li.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function wl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.D);return p}return $(u.i)}function xs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var p=[],_=u.length,E=0;E<_;E++)p.push(u[E]);return p}p=[],_=0;for(E in u)p[_++]=u[E];return p}function Ns(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var p=[];u=u.length;for(var _=0;_<u;_++)p.push(_);return p}p=[],_=0;for(const E in u)p[_++]=E;return p}}}function Br(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var _=Ns(u),E=xs(u),L=E.length,B=0;B<L;B++)p.call(void 0,E[B],_&&_[B],u)}var bi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bc(u,p){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var E=u[_].indexOf("="),L=null;if(0<=E){var B=u[_].substring(0,E);L=u[_].substring(E+1)}else B=u[_];p(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pr){this.h=u.h,Fi(this,u.j),this.o=u.o,this.g=u.g,$r(this,u.s),this.l=u.l;var p=u.i,_=new $n;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Gr(this,_),this.m=u.m}else u&&(p=String(u).match(bi))?(this.h=!1,Fi(this,p[1]||"",!0),this.o=Ne(p[2]||""),this.g=Ne(p[3]||"",!0),$r(this,p[4]),this.l=Ne(p[5]||"",!0),Gr(this,p[6]||"",!0),this.m=Ne(p[7]||"")):(this.h=!1,this.i=new $n(null,this.h))}pr.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Wr(p,Ds,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Wr(p,Ds,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Wr(_,_.charAt(0)=="/"?Il:Tl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Wr(_,Zo)),u.join("")};function rn(u){return new pr(u)}function Fi(u,p,_){u.j=_?Ne(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function $r(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Gr(u,p,_){p instanceof $n?(u.i=p,Gn(u.i,u.h)):(_||(p=Wr(p,Sl)),u.i=new $n(p,u.h))}function Be(u,p,_){u.i.set(p,_)}function Hr(u){return Be(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ne(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wr(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,El),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function El(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ds=/[#\/\?@]/g,Tl=/[#\?:]/g,Il=/[#\?]/g,Sl=/[#\?@]/g,Zo=/#/g;function $n(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function At(u){u.g||(u.g=new Map,u.h=0,u.i&&bc(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=$n.prototype,r.add=function(u,p){At(this),this.i=null,u=dn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function Cn(u,p){At(u),p=dn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Rn(u,p){return At(u),p=dn(u,p),u.g.has(p)}r.forEach=function(u,p){At(this),this.g.forEach(function(_,E){_.forEach(function(L){u.call(p,L,E,this)},this)},this)},r.na=function(){At(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let E=0;E<p.length;E++){const L=u[E];for(let B=0;B<L.length;B++)_.push(p[E])}return _},r.V=function(u){At(this);let p=[];if(typeof u=="string")Rn(this,u)&&(p=p.concat(this.g.get(dn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)p=p.concat(u[_])}return p},r.set=function(u,p){return At(this),this.i=null,u=dn(this,u),Rn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function qr(u,p,_){Cn(u,p),0<_.length&&(u.i=null,u.g.set(dn(u,p),$(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var E=p[_];const B=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var L=B;te[E]!==""&&(L+="="+encodeURIComponent(String(te[E]))),u.push(L)}}return this.i=u.join("&")};function dn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Gn(u,p){p&&!u.j&&(At(u),u.i=null,u.g.forEach(function(_,E){var L=E.toLowerCase();E!=L&&(Cn(this,E),qr(this,L,_))},u)),u.j=p}function Fc(u,p){const _=new Di;if(f.Image){const E=new Image;E.onload=x(Wt,_,"TestLoadImage: loaded",!0,p,E),E.onerror=x(Wt,_,"TestLoadImage: error",!1,p,E),E.onabort=x(Wt,_,"TestLoadImage: abort",!1,p,E),E.ontimeout=x(Wt,_,"TestLoadImage: timeout",!1,p,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else p(!1)}function Al(u,p){const _=new Di,E=new AbortController,L=setTimeout(()=>{E.abort(),Wt(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:E.signal}).then(B=>{clearTimeout(L),B.ok?Wt(_,"TestPingServer: ok",!0,p):Wt(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Wt(_,"TestPingServer: error",!1,p)})}function Wt(u,p,_,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(_)}catch{}}function zc(){this.g=new Go}function Cl(u,p,_){const E=_||"";try{Br(u,function(L,B){let te=L;y(L)&&(te=Bo(L)),p.push(E+B+"="+encodeURIComponent(te))})}catch(L){throw p.push(E+"type="+encodeURIComponent("_badmap")),L}}function mr(u){this.l=u.Ub||null,this.j=u.eb||!1}j(mr,xi),mr.prototype.g=function(){return new zi(this.l,this.j)},mr.prototype.i=(function(u){return function(){return u}})({});function zi(u,p){ht.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(zi,ht),r=zi.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||f).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Rl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Pn(this):kn(this),this.readyState==3&&Rl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Pn(this))},r.Qa=function(u){this.g&&(this.response=u,Pn(this))},r.ga=function(){this.g&&Pn(this)};function Pn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,kn(u)}r.setRequestHeader=function(u,p){this.u.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gr(u){let p="";return Ie(u,function(_,E){p+=E,p+=":",p+=_,p+=`\r
`}),p}function Kr(u,p,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=gr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Be(u,p,_))}function Je(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Je,ht);var Uc=/^https?$/i,ea=["POST","PUT"];r=Je.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,p,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sn.g(),this.v=this.o?Ts(this.o):Ts(Sn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(B){Ui(this,B);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)_.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())_.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ea,p,void 0))||E||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of _)this.g.setRequestHeader(B,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Ui(this,B)}};function Ui(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Vs(u),sn(u)}function Vs(u){u.A||(u.A=!0,dt(u,"complete"),dt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,dt(this,"complete"),dt(this,"abort"),sn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sn(this,!0)),Je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},r.bb=function(){ta(this)};function ta(u){if(u.h&&typeof h<"u"&&(!u.v[1]||qt(u)!=4||u.Z()!=2)){if(u.u&&qt(u)==4)zo(u.Ea,0,u);else if(dt(u,"readystatechange"),qt(u)==4){u.h=!1;try{const te=u.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var E;if(E=te===0){var L=String(u.D).match(bi)[1]||null;!L&&f.self&&f.self.location&&(L=f.self.location.protocol.slice(0,-1)),E=!Uc.test(L?L.toLowerCase():"")}_=E}if(_)dt(u,"complete"),dt(u,"success");else{u.m=6;try{var B=2<qt(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Vs(u)}}finally{sn(u)}}}}function sn(u,p){if(u.g){Os(u);const _=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||dt(u,"ready");try{_.onreadystatechange=E}catch{}}}function Os(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function qt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),$o(p)}};function na(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ms(u){const p={};u=(u.g&&2<=qt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(Z(u[E]))continue;var _=V(u[E]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=p[L]||[];p[L]=B,B.push(_)}N(p,function(E){return E.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function ra(u){this.Aa=0,this.i=[],this.j=new Di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hn("baseRetryDelayMs",5e3,u),this.cb=Hn("retryDelaySeedMs",1e4,u),this.Wa=Hn("forwardChannelMaxRetries",2,u),this.wa=Hn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(u&&u.concurrentRequestLimit),this.Da=new zc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ra.prototype,r.la=8,r.G=1,r.connect=function(u,p,_,E){it(0),this.W=u,this.H=p||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=Nl(this,null,this.W),Wn(this)};function Ct(u){if(Ls(u),u.G==3){var p=u.U++,_=rn(u.I);if(Be(_,"SID",u.K),Be(_,"RID",p),Be(_,"TYPE","terminate"),_r(u,_),p=new An(u,u.j,p),p.L=2,p.v=Hr(rn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=p.v,_=!0),_||(p.g=Dl(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Ge(p)}xl(u)}function xn(u){u.g&&(ia(u),u.g.cancel(),u.g=null)}function Ls(u){xn(u),u.u&&(f.clearTimeout(u.u),u.u=null),zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Wn(u){if(!nn(u.h)&&!u.s){u.s=!0;var p=u.Ga;je||oe(),ne||(je(),ne=!0),pe.add(p,u),u.B=0}}function jc(u,p){return yl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Tn(A(u.Ga,u,p),kl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new An(this,this.j,u);let B=this.o;if(this.S&&(B?(B=I(B),k(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Qr(this,L,p),_=rn(this.I),Be(_,"RID",u),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),_r(this,_),B&&(this.O?p="headers="+encodeURIComponent(String(gr(B)))+"&"+p:this.m&&Kr(_,this.m,B)),Yo(this.h,L),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",p),Be(_,"SID","null"),L.T=!0,ks(L,_,null)):ks(L,_,p),this.G=2}}else this.G==3&&(u?bs(this,u):this.i.length==0||nn(this.h)||bs(this))};function bs(u,p){var _;p?_=p.l:_=u.U++;const E=rn(u.I);Be(E,"SID",u.K),Be(E,"RID",_),Be(E,"AID",u.T),_r(u,E),u.m&&u.o&&Kr(E,u.m,u.o),_=new An(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Qr(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Yo(u.h,_),ks(_,E,p)}function _r(u,p){u.H&&Ie(u.H,function(_,E){Be(p,E,_)}),u.l&&Br({},function(_,E){Be(p,E,_)})}function Qr(u,p,_){_=Math.min(u.i.length,_);var E=u.l?A(u.l.Na,u.l,u):null;e:{var L=u.i;let B=-1;for(;;){const te=["count="+_];B==-1?0<_?(B=L[0].g,te.push("ofs="+B)):B=0:te.push("ofs="+B);let Ue=!0;for(let ft=0;ft<_;ft++){let Ve=L[ft].g;const vt=L[ft].map;if(Ve-=B,0>Ve)B=Math.max(0,L[ft].g-100),Ue=!1;else try{Cl(vt,te,"req"+Ve+"_")}catch{E&&E(vt)}}if(Ue){E=te.join("&");break e}}}return u=u.i.splice(0,_),p.D=u,E}function ji(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;je||oe(),ne||(je(),ne=!0),pe.add(p,u),u.v=0}}function Fs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Tn(A(u.Fa,u),kl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Pl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Tn(A(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),xn(this),Pl(this))};function ia(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Pl(u){u.g=new An(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=rn(u.qa);Be(p,"RID","rpc"),Be(p,"SID",u.K),Be(p,"AID",u.T),Be(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Be(p,"TO",u.ja),Be(p,"TYPE","xmlhttp"),_r(u,p),u.m&&u.o&&Kr(p,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Hr(rn(p)),_.m=null,_.P=!0,Jo(_,u)}r.Za=function(){this.C!=null&&(this.C=null,xn(this),Fs(this),it(19))};function zs(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Us(u,p){var _=null;if(u.g==p){zs(u),ia(u),u.g=null;var E=2}else if(Bt(u.h,p))_=p.D,vl(u.h,p),E=1;else return;if(u.G!=0){if(p.o)if(E==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;E=Ni(),dt(E,new As(E,_)),Wn(u)}else ji(u);else if(L=p.s,L==3||L==0&&0<p.X||!(E==1&&jc(u,p)||E==2&&Fs(u)))switch(_&&0<_.length&&(p=u.h,p.i=p.i.concat(_)),L){case 1:yr(u,5);break;case 4:yr(u,10);break;case 3:yr(u,6);break;default:yr(u,2)}}}function kl(u,p){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*p}function yr(u,p){if(u.j.info("Error code "+p),p==2){var _=A(u.fb,u),E=u.Xa;const L=!E;E=new pr(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Fi(E,"https"),Hr(E),L?Fc(E.toString(),_):Al(E.toString(),_)}else it(2);u.G=0,u.l&&u.l.sa(p),xl(u),Ls(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function xl(u){if(u.G=0,u.ka=[],u.l){const p=wl(u.h);(p.length!=0||u.i.length!=0)&&(F(u.ka,p),F(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function Nl(u,p,_){var E=_ instanceof pr?rn(_):new pr(_);if(E.g!="")p&&(E.g=p+"."+E.g),$r(E,E.s);else{var L=f.location;E=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var B=new pr(null);E&&Fi(B,E),p&&(B.g=p),L&&$r(B,L),_&&(B.l=_),E=B}return _=u.D,p=u.ya,_&&p&&Be(E,_,p),Be(E,"VER",u.la),_r(u,E),E}function Dl(u,p,_){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Je(new mr({eb:_})):new Je(u.pa),p.Ha(u.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function sa(){}r=sa.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function js(){}js.prototype.g=function(u,p){return new $t(u,p)};function $t(u,p){ht.call(this),this.g=new ra(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!Z(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!Z(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new qn(this)}j($t,ht),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Ct(this.g)},$t.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Bo(u),u=_);p.i.push(new _l(p.Ya++,u)),p.G==3&&Wn(p)},$t.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,$t.aa.N.call(this)};function Vl(u){jn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}j(Vl,jn);function Ol(){Ss.call(this),this.status=1}j(Ol,Ss);function qn(u){this.g=u}j(qn,sa),qn.prototype.ua=function(){dt(this.g,"a")},qn.prototype.ta=function(u){dt(this.g,new Vl(u))},qn.prototype.sa=function(u){dt(this.g,new Ol)},qn.prototype.ra=function(){dt(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,jy=function(){return new js},Uy=function(){return Ni()},zy=Bn,Vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,zu=Rs,fl.COMPLETE="complete",Fy=fl,Is.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Na=Is,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,by=Je}).apply(typeof ku<"u"?ku:typeof self<"u"?self:typeof window<"u"?window:{});const jg="@firebase/firestore",Bg="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Yd("@firebase/firestore");function uo(){return cs.logLevel}function se(r,...e){if(cs.logLevel<=ke.DEBUG){const t=e.map(pf);cs.debug(`Firestore (${ko}): ${r}`,...t)}}function Or(r,...e){if(cs.logLevel<=ke.ERROR){const t=e.map(pf);cs.error(`Firestore (${ko}): ${r}`,...t)}}function wi(r,...e){if(cs.logLevel<=ke.WARN){const t=e.map(pf);cs.warn(`Firestore (${ko}): ${r}`,...t)}}function pf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,By(r,s,t)}function By(r,e,t){let s=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Or(s),new Error(s)}function ze(r,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,r||By(e,o,s)}function Te(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class P1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zt.UNAUTHENTICATED)))}shutdown(){}}class k1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class x1{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ss,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},f=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((g=>f(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ss)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string",31837,{l:s}),new $y(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class N1{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D1{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new N1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $g{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const s=l=>{l.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,se("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $g(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $g(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=O1(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function Od(r,e){let t=0;for(;t<r.length&&t<e.length;){const s=r.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const l=Gy(),h=M1(l.encode(Gg(r,t)),l.encode(Gg(e,t)));return h!==0?h:Ce(s,o)}}t+=s>65535?2:1}return Ce(r.length,e.length)}function Gg(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function M1(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ce(r[t],e[t]);return Ce(r.length,e.length)}function Eo(r,e,t){return r.length===e.length&&r.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="__name__";class Yn{constructor(e,t,s){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ye(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Yn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yn?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=Yn.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ce(e.length,t.length)}static compareSegments(e,t){const s=Yn.isNumericId(e),o=Yn.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Yn.extractNumericId(e).compare(Yn.extractNumericId(t)):Od(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class Ke extends Yn{construct(e,t,s){return new Ke(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new Ke(t)}static emptyPath(){return new Ke([])}}const L1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Yn{construct(e,t,s){return new xt(e,t,s)}static isValidIdentifier(e){return L1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hg}static keyField(){return new xt([Hg])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new de(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new de(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(t)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Ke.fromString(e))}static fromName(e){return new me(Ke.fromString(e).popFirst(5))}static empty(){return new me(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(r,e,t){if(!t)throw new de(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function b1(r,e,t,s){if(e===!0&&s===!0)throw new de(K.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Wg(r){if(!me.isDocumentKey(r))throw new de(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qg(r){if(me.isDocumentKey(r))throw new de(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Wy(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function gf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ye(12329,{type:typeof r})}function ba(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gf(r);throw new de(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(r,e){const t={typeString:r};return e&&(t.value=e),t}function il(r,e){if(!Wy(r))throw new de(K.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new de(K.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg=-62135596800,Qg=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Qg);return new Qe(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kg)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qg}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(il(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:ct("string",Qe._jsonSchemaVersion),seconds:ct("number"),nanoseconds:ct("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new Qe(0,0))}static max(){return new Ee(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=-1;function F1(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new Qe(t+1,0):new Qe(t,s));return new Ei(o,me.empty(),e)}function z1(r){return new Ei(r.readTime,r.key,Ha)}class Ei{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ei(Ee.min(),me.empty(),Ha)}static max(){return new Ei(Ee.max(),me.empty(),Ha)}}function U1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(r.documentKey,e.documentKey),t!==0?t:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==j1)throw r;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):H.reject(t)}static resolve(e){return new H(((t,s)=>{t(e)}))}static reject(e){return new H(((t,s)=>{s(e)}))}static waitFor(e){return new H(((t,s)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(g=>s(g)))})),h=!0,l===o&&t()}))}static or(e){let t=H.resolve(!1);for(const s of e)t=t.next((o=>o?H.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new H(((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let g=0;g<l;g++){const y=g;t(e[y]).next((w=>{h[y]=w,++f,f===l&&s(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new H(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function $1(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function No(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}vc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=-1;function wc(r){return r==null}function nc(r){return r===0&&1/r==-1/0}function G1(r){return typeof r=="number"&&Number.isInteger(r)&&!nc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="";function H1(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Jg(e)),e=W1(r.get(t),e);return Jg(e)}function W1(r,e){let t=e;const s=r.length;for(let o=0;o<s;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case qy:t+="";break;default:t+=l}}return t}function Jg(r){return r+qy+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ds(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Ky(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,t){this.comparator=e,this.root=t||kt.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??kt.RED,this.left=o??kt.EMPTY,this.right=l??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new kt(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yg(this.data.getIterator())}getIteratorFrom(e){return new Yg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new _t(this.comparator);return t.data=e,t}}class Yg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new zn([])}unionWith(e){let t=new _t(xt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Qy("Invalid base64 string: "+l):l}})(e);return new Nt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Nt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const q1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(r){if(ze(!!r,39018),typeof r=="string"){let e=0;const t=q1.exec(r);if(ze(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(r.seconds),nanos:ot(r.nanos)}}function ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ii(r){return typeof r=="string"?Nt.fromBase64String(r):Nt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="server_timestamp",Xy="__type__",Yy="__previous_value__",Zy="__local_write_time__";function yf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xy])===null||t===void 0?void 0:t.stringValue)===Jy}function Ec(r){const e=r.mapValue.fields[Yy];return yf(e)?Ec(e):e}function Wa(r){const e=Ti(r.mapValue.fields[Zy].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t,s,o,l,h,f,g,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=w}}const rc="(default)";class qa{constructor(e,t){this.projectId=e,this.database=t||rc}static empty(){return new qa("","")}get isDefaultDatabase(){return this.database===rc}isEqual(e){return e instanceof qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="__type__",Q1="__max__",Nu={mapValue:{}},tv="__vector__",ic="value";function Si(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yf(r)?4:X1(r)?9007199254740991:J1(r)?10:11:ye(28295,{value:r})}function sr(r,e){if(r===e)return!0;const t=Si(r);if(t!==Si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Wa(r).isEqual(Wa(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Ti(o.timestampValue),f=Ti(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return Ii(o.bytesValue).isEqual(Ii(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return ot(o.geoPointValue.latitude)===ot(l.geoPointValue.latitude)&&ot(o.geoPointValue.longitude)===ot(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ot(o.integerValue)===ot(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ot(o.doubleValue),f=ot(l.doubleValue);return h===f?nc(h)===nc(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(Xg(h)!==Xg(f))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(f[g]===void 0||!sr(h[g],f[g])))return!1;return!0})(r,e);default:return ye(52216,{left:r})}}function Ka(r,e){return(r.values||[]).find((t=>sr(t,e)))!==void 0}function To(r,e){if(r===e)return 0;const t=Si(r),s=Si(e);if(t!==s)return Ce(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=ot(l.integerValue||l.doubleValue),g=ot(h.integerValue||h.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1})(r,e);case 3:return Zg(r.timestampValue,e.timestampValue);case 4:return Zg(Wa(r),Wa(e));case 5:return Od(r.stringValue,e.stringValue);case 6:return(function(l,h){const f=Ii(l),g=Ii(h);return f.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),g=h.split("/");for(let y=0;y<f.length&&y<g.length;y++){const w=Ce(f[y],g[y]);if(w!==0)return w}return Ce(f.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Ce(ot(l.latitude),ot(h.latitude));return f!==0?f:Ce(ot(l.longitude),ot(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return e_(r.arrayValue,e.arrayValue);case 10:return(function(l,h){var f,g,y,w;const T=l.fields||{},A=h.fields||{},x=(f=T[ic])===null||f===void 0?void 0:f.arrayValue,j=(g=A[ic])===null||g===void 0?void 0:g.arrayValue,$=Ce(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((w=j==null?void 0:j.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:e_(x,j)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Nu.mapValue&&h===Nu.mapValue)return 0;if(l===Nu.mapValue)return 1;if(h===Nu.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),y=h.fields||{},w=Object.keys(y);g.sort(),w.sort();for(let T=0;T<g.length&&T<w.length;++T){const A=Od(g[T],w[T]);if(A!==0)return A;const x=To(f[g[T]],y[w[T]]);if(x!==0)return x}return Ce(g.length,w.length)})(r.mapValue,e.mapValue);default:throw ye(23264,{le:t})}}function Zg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const t=Ti(r),s=Ti(e),o=Ce(t.seconds,s.seconds);return o!==0?o:Ce(t.nanos,s.nanos)}function e_(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=To(t[o],s[o]);if(l)return l}return Ce(t.length,s.length)}function Io(r){return Md(r)}function Md(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const s=Ti(t);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ii(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return me.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Md(l);return s+"]"})(r.arrayValue):"mapValue"in r?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${Md(t.fields[h])}`;return o+"}"})(r.mapValue):ye(61005,{value:r})}function Uu(r){switch(Si(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ec(r);return e?16+Uu(e):16;case 5:return 2*r.stringValue.length;case 6:return Ii(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+Uu(l)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ds(s.fields,((l,h)=>{o+=l.length+Uu(h)})),o})(r.mapValue);default:throw ye(13486,{value:r})}}function Ld(r){return!!r&&"integerValue"in r}function vf(r){return!!r&&"arrayValue"in r}function t_(r){return!!r&&"nullValue"in r}function n_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ju(r){return!!r&&"mapValue"in r}function J1(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[ev])===null||t===void 0?void 0:t.stringValue)===tv}function Fa(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ds(r.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Fa(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fa(r.arrayValue.values[t]);return e}return Object.assign({},r)}function X1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Q1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ju(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fa(t)}setAll(e){let t=xt.emptyPath(),s={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=Fa(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ju(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ju(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ds(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new wn(Fa(this.value))}}function nv(r){const e=[];return ds(r.fields,((t,s)=>{const o=new xt([t]);if(ju(s)){const l=nv(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Ut(e,0,Ee.min(),Ee.min(),Ee.min(),wn.empty(),0)}static newFoundDocument(e,t,s,o){return new Ut(e,1,t,Ee.min(),s,o,0)}static newNoDocument(e,t){return new Ut(e,2,t,Ee.min(),Ee.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new Ut(e,3,t,Ee.min(),Ee.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,t){this.position=e,this.inclusive=t}}function r_(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),t.key):s=To(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function i_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!sr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Y1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{}class gt extends rv{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new eS(e,t,s):t==="array-contains"?new rS(e,s):t==="in"?new iS(e,s):t==="not-in"?new sS(e,s):t==="array-contains-any"?new oS(e,s):new gt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new tS(e,s):new nS(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(To(t,this.value)):t!==null&&Si(this.value)===Si(t)&&this.matchesComparison(To(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class or extends rv{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new or(e,t)}matches(e){return iv(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function iv(r){return r.op==="and"}function sv(r){return Z1(r)&&iv(r)}function Z1(r){for(const e of r.filters)if(e instanceof or)return!1;return!0}function bd(r){if(r instanceof gt)return r.field.canonicalString()+r.op.toString()+Io(r.value);if(sv(r))return r.filters.map((e=>bd(e))).join(",");{const e=r.filters.map((t=>bd(t))).join(",");return`${r.op}(${e})`}}function ov(r,e){return r instanceof gt?(function(s,o){return o instanceof gt&&s.op===o.op&&s.field.isEqual(o.field)&&sr(s.value,o.value)})(r,e):r instanceof or?(function(s,o){return o instanceof or&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,h,f)=>l&&ov(h,o.filters[f])),!0):!1})(r,e):void ye(19439)}function av(r){return r instanceof gt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Io(t.value)}`})(r):r instanceof or?(function(t){return t.op.toString()+" {"+t.getFilters().map(av).join(" ,")+"}"})(r):"Filter"}class eS extends gt{constructor(e,t,s){super(e,t,s),this.key=me.fromName(s.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class tS extends gt{constructor(e,t){super(e,"in",t),this.keys=lv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class nS extends gt{constructor(e,t){super(e,"not-in",t),this.keys=lv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lv(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>me.fromName(s.referenceValue)))}class rS extends gt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vf(t)&&Ka(t.arrayValue,this.value)}}class iS extends gt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ka(this.value.arrayValue,t)}}class sS extends gt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ka(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ka(this.value.arrayValue,t)}}class oS extends gt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ka(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Pe=null}}function s_(r,e=null,t=[],s=[],o=null,l=null,h=null){return new aS(r,e,t,s,o,l,h)}function wf(r){const e=Te(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>bd(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),wc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Io(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Io(s))).join(",")),e.Pe=t}return e.Pe}function Ef(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Y1(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!ov(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!i_(r.startAt,e.startAt)&&i_(r.endAt,e.endAt)}function Fd(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lS(r,e,t,s,o,l,h,f){return new Tc(r,e,t,s,o,l,h,f)}function Tf(r){return new Tc(r)}function o_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function uS(r){return r.collectionGroup!==null}function za(r){const e=Te(r);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new _t(xt.comparator);return h.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new oc(l,s))})),t.has(xt.keyField().canonicalString())||e.Te.push(new oc(xt.keyField(),s))}return e.Te}function er(r){const e=Te(r);return e.Ie||(e.Ie=cS(e,za(r))),e.Ie}function cS(r,e){if(r.limitType==="F")return s_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new oc(o.field,l)}));const t=r.endAt?new sc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sc(r.startAt.position,r.startAt.inclusive):null;return s_(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function zd(r,e,t){return new Tc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ic(r,e){return Ef(er(r),er(e))&&r.limitType===e.limitType}function uv(r){return`${wf(er(r))}|lt:${r.limitType}`}function co(r){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>av(o))).join(", ")}]`),wc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>Io(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>Io(o))).join(",")),`Target(${s})`})(er(r))}; limitType=${r.limitType})`}function Sc(r,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):me.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(r,e)&&(function(s,o){for(const l of za(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,f,g){const y=r_(h,f,g);return h.inclusive?y<=0:y<0})(s.startAt,za(s),o)||s.endAt&&!(function(h,f,g){const y=r_(h,f,g);return h.inclusive?y>=0:y>0})(s.endAt,za(s),o))})(r,e)}function hS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function cv(r){return(e,t)=>{let s=!1;for(const o of za(r)){const l=dS(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function dS(r,e,t){const s=r.field.isKeyField()?me.comparator(e.key,t.key):(function(l,h,f){const g=h.data.field(l),y=f.data.field(l);return g!==null&&y!==null?To(g,y):ye(42886)})(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ye(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return Ky(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=new tt(me.comparator);function Mr(){return fS}const hv=new tt(me.comparator);function Da(...r){let e=hv;for(const t of r)e=e.insert(t.key,t);return e}function dv(r){let e=hv;return r.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function rs(){return Ua()}function fv(){return Ua()}function Ua(){return new fs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const pS=new tt(me.comparator),mS=new _t(me.comparator);function xe(...r){let e=mS;for(const t of r)e=e.add(t);return e}const gS=new _t(Ce);function _S(){return gS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}function pv(r){return{integerValue:""+r}}function yS(r,e){return G1(e)?pv(e):If(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this._=void 0}}function vS(r,e,t){return r instanceof Qa?(function(o,l){const h={fields:{[Xy]:{stringValue:Jy},[Zy]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&yf(l)&&(l=Ec(l)),l&&(h.fields[Yy]=l),{mapValue:h}})(t,e):r instanceof Ja?gv(r,e):r instanceof Xa?_v(r,e):(function(o,l){const h=mv(o,l),f=a_(h)+a_(o.Ee);return Ld(h)&&Ld(o.Ee)?pv(f):If(o.serializer,f)})(r,e)}function wS(r,e,t){return r instanceof Ja?gv(r,e):r instanceof Xa?_v(r,e):t}function mv(r,e){return r instanceof ac?(function(s){return Ld(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Qa extends Ac{}class Ja extends Ac{constructor(e){super(),this.elements=e}}function gv(r,e){const t=yv(e);for(const s of r.elements)t.some((o=>sr(o,s)))||t.push(s);return{arrayValue:{values:t}}}class Xa extends Ac{constructor(e){super(),this.elements=e}}function _v(r,e){let t=yv(e);for(const s of r.elements)t=t.filter((o=>!sr(o,s)));return{arrayValue:{values:t}}}class ac extends Ac{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function a_(r){return ot(r.integerValue||r.doubleValue)}function yv(r){return vf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,t){this.field=e,this.transform=t}}function TS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Ja&&o instanceof Ja||s instanceof Xa&&o instanceof Xa?Eo(s.elements,o.elements,sr):s instanceof ac&&o instanceof ac?sr(s.Ee,o.Ee):s instanceof Qa&&o instanceof Qa})(r.transform,e.transform)}class IS{constructor(e,t){this.version=e,this.transformResults=t}}class xr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Cc{}function vv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ev(r.key,xr.none()):new sl(r.key,r.data,xr.none());{const t=r.data,s=wn.empty();let o=new _t(xt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new ps(r.key,s,new zn(o.toArray()),xr.none())}}function SS(r,e,t){r instanceof sl?(function(o,l,h){const f=o.value.clone(),g=u_(o.fieldTransforms,l,h.transformResults);f.setAll(g),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof ps?(function(o,l,h){if(!Bu(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=u_(o.fieldTransforms,l,h.transformResults),g=l.data;g.setAll(wv(o)),g.setAll(f),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function ja(r,e,t,s){return r instanceof sl?(function(l,h,f,g){if(!Bu(l.precondition,h))return f;const y=l.value.clone(),w=c_(l.fieldTransforms,g,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,t,s):r instanceof ps?(function(l,h,f,g){if(!Bu(l.precondition,h))return f;const y=c_(l.fieldTransforms,g,h),w=h.data;return w.setAll(wv(l)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,s):(function(l,h,f){return Bu(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function AS(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),l=mv(s.transform,o||null);l!=null&&(t===null&&(t=wn.empty()),t.set(s.field,l))}return t||null}function l_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,((l,h)=>TS(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class sl extends Cc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ps extends Cc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function wv(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}})),e}function u_(r,e,t){const s=new Map;ze(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,wS(h,f,t[o]))}return s}function c_(r,e,t){const s=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);s.set(o.field,vS(l,h,e))}return s}class Ev extends Cc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CS extends Cc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&SS(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ja(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ja(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=fv();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const g=vv(h,f);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xe())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((t,s)=>l_(t,s)))&&Eo(this.baseMutations,e.baseMutations,((t,s)=>l_(t,s)))}}class Sf{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){ze(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return pS})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new Sf(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Oe;function xS(r){switch(r){case K.OK:return ye(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ye(15467,{code:r})}}function Tv(r){if(r===void 0)return Or("GRPC error has no .code"),K.UNKNOWN;switch(r){case ut.OK:return K.OK;case ut.CANCELLED:return K.CANCELLED;case ut.UNKNOWN:return K.UNKNOWN;case ut.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ut.INTERNAL:return K.INTERNAL;case ut.UNAVAILABLE:return K.UNAVAILABLE;case ut.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ut.NOT_FOUND:return K.NOT_FOUND;case ut.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ut.ABORTED:return K.ABORTED;case ut.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ut.DATA_LOSS:return K.DATA_LOSS;default:return ye(39323,{code:r})}}(Oe=ut||(ut={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new yi([4294967295,4294967295],0);function h_(r){const e=Gy().encode(r),t=new Ly;return t.update(e),new Uint8Array(t.digest())}function d_(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new yi([t,s],0),new yi([o,l],0)]}class Af{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Va(`Invalid padding: ${t}`);if(s<0)throw new Va(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Va(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Va(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=yi.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(yi.fromNumber(s)));return o.compare(NS)===1&&(o=new yi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=h_(e),[s,o]=d_(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Af(l,o,t);return s.forEach((f=>h.insert(f))),h}insert(e){if(this.fe===0)return;const t=h_(e),[s,o]=d_(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,ol.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Rc(Ee.min(),o,new tt(Ce),Mr(),xe())}}class ol{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new ol(s,t,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class Iv{constructor(e,t){this.targetId=e,this.De=t}}class Sv{constructor(e,t,s=Nt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class f_{constructor(){this.ve=0,this.Ce=p_(),this.Fe=Nt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=xe(),t=xe(),s=xe();return this.Ce.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:ye(38017,{changeType:l})}})),new ol(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=p_()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class DS{constructor(e){this.We=e,this.Ge=new Map,this.ze=Mr(),this.je=Du(),this.Je=Du(),this.He=new tt(Ce)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((s,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const l=o.target;if(Fd(l))if(s===0){const h=new me(l.path);this.Xe(t,h,Ut.newNoDocument(h,Ee.min()))}else ze(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const f=this._t(e),g=f?this.ut(f,e,h):1;if(g!==0){this.rt(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Ii(s).toUint8Array()}catch(g){if(g instanceof Qy)return wi("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Af(h,o,l)}catch(g){return wi(g instanceof Va?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.fe===0?null:f}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const h=this.We.lt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,l,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((l,h)=>{const f=this.st(h);if(f){if(l.current&&Fd(f.target)){const g=new me(f.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,Ut.newNoDocument(g,e))}l.Ne&&(t.set(h,l.Le()),l.ke())}}));let s=xe();this.Je.forEach(((l,h)=>{let f=!0;h.forEachWhile((g=>{const y=this.st(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.ze.forEach(((l,h)=>h.setReadTime(e)));const o=new Rc(e,t,this.He,this.ze,s);return this.ze=Mr(),this.je=Du(),this.Je=Du(),this.He=new tt(Ce),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new f_,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new _t(Ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new _t(Ce),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||se("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new f_),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Du(){return new tt(me.comparator)}function p_(){return new tt(me.comparator)}const VS={asc:"ASCENDING",desc:"DESCENDING"},OS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MS={and:"AND",or:"OR"};class LS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ud(r,e){return r.useProto3Json||wc(e)?e:{value:e}}function lc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Av(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bS(r,e){return lc(r,e.toTimestamp())}function tr(r){return ze(!!r,49232),Ee.fromTimestamp((function(t){const s=Ti(t);return new Qe(s.seconds,s.nanos)})(r))}function Cf(r,e){return jd(r,e).canonicalString()}function jd(r,e){const t=(function(o){return new Ke(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function Cv(r){const e=Ke.fromString(r);return ze(Nv(e),10190,{key:e.toString()}),e}function Bd(r,e){return Cf(r.databaseId,e.path)}function vd(r,e){const t=Cv(e);if(t.get(1)!==r.databaseId.projectId)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new me(Pv(t))}function Rv(r,e){return Cf(r.databaseId,e)}function FS(r){const e=Cv(r);return e.length===4?Ke.emptyPath():Pv(e)}function $d(r){return new Ke(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Pv(r){return ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function m_(r,e,t){return{name:Bd(r,e),fields:t.value.mapValue.fields}}function zS(r,e){let t;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ye(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,w){return y.useProto3Json?(ze(w===void 0||typeof w=="string",58123),Nt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Nt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(y){const w=y.code===void 0?K.UNKNOWN:Tv(y.code);return new de(w,y.message||"")})(h);t=new Sv(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vd(r,s.document.name),l=tr(s.document.updateTime),h=s.document.createTime?tr(s.document.createTime):Ee.min(),f=new wn({mapValue:{fields:s.document.fields}}),g=Ut.newFoundDocument(o,l,h,f),y=s.targetIds||[],w=s.removedTargetIds||[];t=new $u(y,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vd(r,s.document),l=s.readTime?tr(s.readTime):Ee.min(),h=Ut.newNoDocument(o,l),f=s.removedTargetIds||[];t=new $u([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vd(r,s.document),l=s.removedTargetIds||[];t=new $u([],l,o,null)}else{if(!("filter"in e))return ye(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new kS(o,l),f=s.targetId;t=new Iv(f,h)}}return t}function US(r,e){let t;if(e instanceof sl)t={update:m_(r,e.key,e.value)};else if(e instanceof Ev)t={delete:Bd(r,e.key)};else if(e instanceof ps)t={update:m_(r,e.key,e.data),updateMask:QS(e.fieldMask)};else{if(!(e instanceof CS))return ye(16599,{Rt:e.type});t={verify:Bd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,h){const f=h.transform;if(f instanceof Qa)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ja)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Xa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ac)return{fieldPath:h.field.canonicalString(),increment:f.Ee};throw ye(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:bS(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ye(27497)})(r,e.precondition)),t}function jS(r,e){return r&&r.length>0?(ze(e!==void 0,14353),r.map((t=>(function(o,l){let h=o.updateTime?tr(o.updateTime):tr(l);return h.isEqual(Ee.min())&&(h=tr(l)),new IS(h,o.transformResults||[])})(t,e)))):[]}function BS(r,e){return{documents:[Rv(r,e.path)]}}function $S(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Rv(r,o);const l=(function(y){if(y.length!==0)return xv(or.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(y){if(y.length!==0)return y.map((w=>(function(A){return{field:ho(A.field),direction:WS(A.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=Ud(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{Vt:t,parent:o}}function GS(r){let e=FS(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){ze(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(T){const A=kv(T);return A instanceof or&&sv(A)?A.getFilters():[A]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((A=>(function(j){return new oc(fo(j.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(A)))})(t.orderBy));let f=null;t.limit&&(f=(function(T){let A;return A=typeof T=="object"?T.value:T,wc(A)?null:A})(t.limit));let g=null;t.startAt&&(g=(function(T){const A=!!T.before,x=T.values||[];return new sc(x,A)})(t.startAt));let y=null;return t.endAt&&(y=(function(T){const A=!T.before,x=T.values||[];return new sc(x,A)})(t.endAt)),lS(e,o,h,l,f,"F",g,y)}function HS(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kv(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=fo(t.unaryFilter.field);return gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(t.unaryFilter.field);return gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=fo(t.unaryFilter.field);return gt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(t.unaryFilter.field);return gt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(r):r.fieldFilter!==void 0?(function(t){return gt.create(fo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return or.create(t.compositeFilter.filters.map((s=>kv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(t.compositeFilter.op))})(r):ye(30097,{filter:r})}function WS(r){return VS[r]}function qS(r){return OS[r]}function KS(r){return MS[r]}function ho(r){return{fieldPath:r.canonicalString()}}function fo(r){return xt.fromServerFormat(r.fieldPath)}function xv(r){return r instanceof gt?(function(t){if(t.op==="=="){if(n_(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NAN"}};if(t_(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(n_(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NAN"}};if(t_(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(t.field),op:qS(t.op),value:t.value}}})(r):r instanceof or?(function(t){const s=t.getFilters().map((o=>xv(o)));return s.length===1?s[0]:{compositeFilter:{op:KS(t.op),filters:s}}})(r):ye(54877,{filter:r})}function QS(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Nv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t,s,o,l=Ee.min(),h=Ee.min(),f=Nt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new pi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.gt=e}}function XS(r){const e=GS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.Dn=new ZS}addToCollectionParentIndex(e,t){return this.Dn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Ei.min())}updateCollectionGroup(e,t,s){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class ZS{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new _t(Ke.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new _t(Ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Dv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new So(0)}static ur(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="LruGarbageCollector",eA=1048576;function y_([r,e],[t,s]){const o=Ce(r,t);return o===0?Ce(e,s):o}class tA{constructor(e){this.Tr=e,this.buffer=new _t(y_),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();y_(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nA{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){se(__,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){No(t)?se(__,"Ignoring IndexedDB error during garbage collection: ",t):await xo(t)}await this.Rr(3e5)}))}}class rA{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return H.resolve(vc.ue);const s=new tA(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(g_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g_):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,l,h,f,g,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,f=Date.now(),this.removeTargets(e,s,t)))).next((T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),uo()<=ke.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-w}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function iA(r,e){return new rA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.changes=new fs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?H.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&ja(s.mutation,o,zn.empty(),Qe.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,xe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=xe()){const o=rs();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let h=Da();return l.forEach(((f,g)=>{h=h.insert(f,g.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=rs();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,xe())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,s,o){let l=Mr();const h=Ua(),f=(function(){return Ua()})();return t.forEach(((g,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof ps)?l=l.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),ja(w.mutation,y,w.mutation.getFieldMask(),Qe.now())):h.set(y.key,zn.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((y,w)=>h.set(y,w))),t.forEach(((y,w)=>{var T;return f.set(y,new oA(w,(T=h.get(y))!==null&&T!==void 0?T:null))})),f)))}recalculateAndSaveOverlays(e,t){const s=Ua();let o=new tt(((h,f)=>h-f)),l=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((g=>{const y=t.get(g);if(y===null)return;let w=s.get(g)||zn.empty();w=f.applyToLocalView(y,w),s.set(g,w);const T=(o.get(f.batchId)||xe()).add(g);o=o.insert(f.batchId,T)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,w=g.value,T=fv();w.forEach((A=>{if(!l.has(A)){const x=vv(t.get(A),s.get(A));x!==null&&T.set(A,x),l=l.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return H.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):uS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):H.resolve(rs());let f=Ha,g=l;return h.next((y=>H.forEach(y,((w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?H.resolve():this.remoteDocumentCache.getEntry(e,w).next((A=>{g=g.insert(w,A)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,g,y,xe()))).next((w=>({batchId:f,changes:dv(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((s=>{let o=Da();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Da();return this.indexManager.getCollectionParents(e,l).next((f=>H.forEach(f,(g=>{const y=(function(T,A){return new Tc(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((w=>{w.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((h=>{l.forEach(((g,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,Ut.newInvalidDocument(w)))}));let f=Da();return h.forEach(((g,y)=>{const w=l.get(g);w!==void 0&&ja(w.mutation,y,zn.empty(),Qe.now()),Sc(t,y)&&(f=f.insert(g,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return H.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:tr(o.createTime)}})(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:XS(o.bundledQuery),readTime:tr(o.readTime)}})(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(){this.overlays=new tt(me.comparator),this.kr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const s=rs();return H.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.wt(e,t,l)})),H.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.kr.delete(s)),H.resolve()}getOverlaysForCollection(e,t,s){const o=rs(),l=t.length+1,h=new me(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>s&&o.set(g.getKey(),g)}return H.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new tt(((y,w)=>y-w));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let w=l.get(y.largestBatchId);w===null&&(w=rs(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=rs(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,w)=>f.set(y,w))),!(f.size()>=o)););return H.resolve(f)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new PS(t,s));let l=this.kr.get(t);l===void 0&&(l=xe(),this.kr.set(t,l)),this.kr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this.qr=new _t(It.Qr),this.$r=new _t(It.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new It(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new It(e,t))}Gr(e,t){e.forEach((s=>this.removeReference(s,t)))}zr(e){const t=new me(new Ke([])),s=new It(t,e),o=new It(t,e+1),l=[];return this.$r.forEachInRange([s,o],(h=>{this.Wr(h),l.push(h.key)})),l}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new me(new Ke([])),s=new It(t,e),o=new It(t,e+1);let l=xe();return this.$r.forEachInRange([s,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new It(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return me.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new _t(It.Qr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new RS(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.Yr=this.Yr.add(new It(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return H.resolve(h)}lookupMutationBatch(e,t){return H.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),l=o<0?0:o;return H.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?_f:this.er-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new It(t,0),o=new It(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([s,o],(h=>{const f=this.Zr(h.Hr);l.push(f)})),H.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _t(Ce);return t.forEach((o=>{const l=new It(o,0),h=new It(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,h],(f=>{s=s.add(f.Hr)}))})),H.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;me.isDocumentKey(l)||(l=l.child(""));const h=new It(new me(l),0);let f=new _t(Ce);return this.Yr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(f=f.add(g.Hr)),!0)}),h),H.resolve(this.ei(f))}ei(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return H.forEach(t.mutations,(o=>{const l=new It(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,t){const s=new It(t,0),o=this.Yr.firstAfterOrEqual(s);return H.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.ni=e,this.docs=(function(){return new tt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return H.resolve(s?s.document.mutableCopy():Ut.newInvalidDocument(t))}getEntries(e,t){let s=Mr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Ut.newInvalidDocument(o))})),H.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Mr();const h=t.path,f=new me(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:w}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||U1(z1(w),s)<=0||(o.has(w.key)||Sc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return H.resolve(l)}getAllFromCollectionGroup(e,t,s,o){ye(9500)}ri(e,t){return H.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new fA(this)}getSize(e){return H.resolve(this.size)}}class fA extends sA{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),H.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e){this.persistence=e,this.ii=new fs((t=>wf(t)),Ef),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.si=0,this.oi=new Rf,this.targetCount=0,this._i=So.ar()}forEachTarget(e,t){return this.ii.forEach(((s,o)=>t(o))),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),H.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new So(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.hr(t),H.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ii.forEach(((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.ii.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),H.waitFor(l).next((()=>o))}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return H.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),H.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),H.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return H.resolve(s)}containsKey(e,t){return H.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,t){this.ai={},this.overlays={},this.ui=new vc(0),this.ci=!1,this.ci=!0,this.li=new cA,this.referenceDelegate=e(this),this.hi=new pA(this),this.indexManager=new YS,this.remoteDocumentCache=(function(o){return new dA(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new JS(t),this.Ti=new lA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new hA(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){se("MemoryPersistence","Starting transaction:",e);const o=new mA(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return H.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,t))))}}class mA extends B1{constructor(e){super(),this.currentSequenceNumber=e}}class Pf{constructor(e){this.persistence=e,this.Ai=new Rf,this.Ri=null}static Vi(e){return new Pf(e)}get mi(){if(this.Ri)return this.Ri;throw ye(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),H.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.mi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.mi,(s=>{const o=me.fromPath(s);return this.fi(e,o).next((l=>{l||t.removeEntry(o,Ee.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return H.or([()=>H.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class uc{constructor(e,t){this.persistence=e,this.gi=new fs((s=>H1(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=iA(this,t)}static Vi(e,t){return new uc(e,t)}Ii(){}di(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}yr(e){let t=0;return this.gr(e,(s=>{t++})).next((()=>t))}gr(e,t){return H.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((l=>l?H.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,(h=>this.Sr(e,h,t).next((f=>{f||(s++,l.removeEntry(h,Ee.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),H.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),H.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uu(e.data.value)),t}Sr(e,t,s){return H.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return H.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=xe(),o=xe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new kf(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return aE()?8:$1(jt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ps(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ys(e,t,o,s).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new gA;return this.ws(e,t,h).next((f=>{if(l.result=f,this.Rs)return this.Ss(e,t,h,f.size)}))})).next((()=>l.result))}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(uo()<=ke.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(uo()<=ke.DEBUG&&se("QueryEngine","Query:",co(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(uo()<=ke.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(t))):H.resolve())}ps(e,t){if(o_(t))return H.resolve(null);let s=er(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=zd(t,null,"F"),s=er(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const h=xe(...l);return this.gs.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.bs(t,f);return this.Ds(t,y,h,g.readTime)?this.ps(e,zd(t,null,"F")):this.vs(e,y,t,g)}))))})))))}ys(e,t,s,o){return o_(t)||o.isEqual(Ee.min())?H.resolve(null):this.gs.getDocuments(e,s).next((l=>{const h=this.bs(t,l);return this.Ds(t,h,s,o)?H.resolve(null):(uo()<=ke.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(t)),this.vs(e,h,t,F1(o,Ha)).next((f=>f)))}))}bs(e,t){let s=new _t(cv(e));return t.forEach(((o,l)=>{Sc(e,l)&&(s=s.add(l))})),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,s){return uo()<=ke.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",co(t)),this.gs.getDocumentsMatchingQuery(e,t,Ei.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="LocalStore",yA=3e8;class vA{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new tt(Ce),this.Ms=new fs((l=>wf(l)),Ef),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aA(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function wA(r,e,t,s){return new vA(r,e,t,s)}async function Ov(r,e){const t=Te(r);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const h=[],f=[];let g=xe();for(const y of o){h.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}for(const y of l){f.push(y.batchId);for(const w of y.mutations)g=g.add(w.key)}return t.localDocuments.getDocuments(s,g).next((y=>({Bs:y,removedBatchIds:h,addedBatchIds:f})))}))}))}function EA(r,e){const t=Te(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return(function(f,g,y,w){const T=y.batch,A=T.keys();let x=H.resolve();return A.forEach((j=>{x=x.next((()=>w.getEntry(g,j))).next(($=>{const F=y.docVersions.get(j);ze(F!==null,48541),$.version.compareTo(F)<0&&(T.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),w.addEntry($)))}))})),x.next((()=>f.mutationQueue.removeMutationBatch(g,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let g=xe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function Mv(r){const e=Te(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function TA(r,e){const t=Te(r),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const f=[];e.targetChanges.forEach(((w,T)=>{const A=o.get(T);if(!A)return;f.push(t.hi.removeMatchingKeys(l,w.removedDocuments,T).next((()=>t.hi.addMatchingKeys(l,w.addedDocuments,T))));let x=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(Nt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(w.resumeToken,s)),o=o.insert(T,x),(function($,F,Y){return $.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=yA?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(A,x,w)&&f.push(t.hi.updateTargetData(l,x))}));let g=Mr(),y=xe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(IA(l,h,e.documentUpdates).next((w=>{g=w.Ls,y=w.ks}))),!s.isEqual(Ee.min())){const w=t.hi.getLastRemoteSnapshotVersion(l).next((T=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(w)}return H.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,y))).next((()=>g))})).then((l=>(t.Fs=o,l)))}function IA(r,e,t){let s=xe(),o=xe();return t.forEach((l=>s=s.add(l))),e.getEntries(r,s).next((l=>{let h=Mr();return t.forEach(((f,g)=>{const y=l.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(f,g.readTime),h=h.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(f,g)):se(xf,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)})),{Ls:h,ks:o}}))}function SA(r,e){const t=Te(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=_f),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function AA(r,e){const t=Te(r);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.hi.getTargetData(s,e).next((l=>l?(o=l,H.resolve(o)):t.hi.allocateTargetId(s).next((h=>(o=new pi(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s}))}async function Gd(r,e,t){const s=Te(r),o=s.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!No(h))throw h;se(xf,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function v_(r,e,t){const s=Te(r);let o=Ee.min(),l=xe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(g,y,w){const T=Te(g),A=T.Ms.get(w);return A!==void 0?H.resolve(T.Fs.get(A)):T.hi.getTargetData(y,w)})(s,h,er(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,f.targetId).next((g=>{l=g}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:Ee.min(),t?l:xe()))).next((f=>(CA(s,hS(e),f),{documents:f,qs:l})))))}function CA(r,e,t){let s=r.xs.get(e)||Ee.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),r.xs.set(e,s)}class w_{constructor(){this.activeTargetIds=_S()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RA{constructor(){this.Fo=new w_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new w_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="ConnectivityMonitor";class T_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){se(E_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){se(E_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu=null;function Hd(){return Vu===null?Vu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vu++,"0x"+Vu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",kA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xA{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===rc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,l){const h=Hd(),f=this.Go(e,t.toUriEncodedString());se(wd,`Sending RPC '${e}' ${h}:`,f,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,l);const{host:y}=new URL(f),w=Co(y);return this.jo(e,f,g,s,w).then((T=>(se(wd,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw wi(wd,`RPC '${e}' ${h} failed with error: `,T,"url: ",f,"request:",s),T}))}Jo(e,t,s,o,l,h){return this.Wo(e,t,s,o,l)}zo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}Go(e,t){const s=kA[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class DA extends xA{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,l){const h=Hd();return new Promise(((f,g)=>{const y=new by;y.setWithCredentials(!0),y.listenOnce(Fy.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zu.NO_ERROR:const T=y.getResponseJson();se(Ft,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),f(T);break;case zu.TIMEOUT:se(Ft,`RPC '${e}' ${h} timed out`),g(new de(K.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const A=y.getStatus();if(se(Ft,`RPC '${e}' ${h} failed with status:`,A,"response text:",y.getResponseText()),A>0){let x=y.getResponseJson();Array.isArray(x)&&(x=x[0]);const j=x==null?void 0:x.error;if(j&&j.status&&j.message){const $=(function(Y){const Z=Y.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Z)>=0?Z:K.UNKNOWN})(j.status);g(new de($,j.message))}else g(new de(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new de(K.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{c_:e,streamId:h,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{se(Ft,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);se(Ft,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",w,s,15)}))}P_(e,t,s){const o=Hd(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=jy(),f=Uy(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const w=l.join("");se(Ft,`Creating RPC '${e}' stream ${o}: ${w}`,g);const T=h.createWebChannel(w,g);this.T_(T);let A=!1,x=!1;const j=new NA({Ho:F=>{x?se(Ft,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(A||(se(Ft,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),se(Ft,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Yo:()=>T.close()}),$=(F,Y,Z)=>{F.listen(Y,(J=>{try{Z(J)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return $(T,Na.EventType.OPEN,(()=>{x||(se(Ft,`RPC '${e}' stream ${o} transport opened.`),j.s_())})),$(T,Na.EventType.CLOSE,(()=>{x||(x=!0,se(Ft,`RPC '${e}' stream ${o} transport closed`),j.__(),this.I_(T))})),$(T,Na.EventType.ERROR,(F=>{x||(x=!0,wi(Ft,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),j.__(new de(K.UNAVAILABLE,"The operation could not be completed")))})),$(T,Na.EventType.MESSAGE,(F=>{var Y;if(!x){const Z=F.data[0];ze(!!Z,16349);const J=Z,ce=(J==null?void 0:J.error)||((Y=J[0])===null||Y===void 0?void 0:Y.error);if(ce){se(Ft,`RPC '${e}' stream ${o} received error:`,ce);const Se=ce.status;let Ie=(function(C){const k=ut[C];if(k!==void 0)return Tv(k)})(Se),N=ce.message;Ie===void 0&&(Ie=K.INTERNAL,N="Unknown error status: "+Se+" with message "+ce.message),x=!0,j.__(new de(Ie,N)),T.close()}else se(Ft,`RPC '${e}' stream ${o} received:`,Z),j.a_(Z)}})),$(f,zy.STAT_EVENT,(F=>{F.stat===Vd.PROXY?se(Ft,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Vd.NOPROXY&&se(Ft,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{j.o_()}),0),j}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(r){return new LS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&se("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="PersistentStream";class bv{constructor(e,t,s,o,l,h,f,g){this.Fi=e,this.w_=s,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Lv(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===t&&this.W_(s,o)}),(s=>{e((()=>{const o=new de(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return se(I_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(se(I_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VA extends bv{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=zS(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ee.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?tr(h.readTime):Ee.min()})(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=$d(this.serializer),t.addTarget=(function(l,h){let f;const g=h.target;if(f=Fd(g)?{documents:BS(l,g)}:{query:$S(l,g).Vt},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Av(l,h.resumeToken);const y=Ud(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ee.min())>0){f.readTime=lc(l,h.snapshotVersion.toTimestamp());const y=Ud(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const s=HS(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=$d(this.serializer),t.removeTarget=e,this.k_(t)}}class OA extends bv{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=jS(e.writeResults,e.commitTime),s=tr(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=$d(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>US(this.serializer,s)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{}class LA extends MA{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Wo(e,jd(t,s),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(K.UNKNOWN,l.toString())}))}Jo(e,t,s,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Jo(e,jd(t,s),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(K.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class bA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Or(t),this._a=!1):se("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="RemoteStore";class FA{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo((h=>{s.enqueueAndForget((async()=>{ms(this)&&(se(hs,"Restarting streams for network reachability change."),await(async function(g){const y=Te(g);y.Ia.add(4),await al(y),y.Aa.set("Unknown"),y.Ia.delete(4),await kc(y)})(this))}))})),this.Aa=new bA(s,o)}}async function kc(r){if(ms(r))for(const e of r.da)await e(!0)}async function al(r){for(const e of r.da)await e(!1)}function Fv(r,e){const t=Te(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Of(t)?Vf(t):Do(t).x_()&&Df(t,e))}function Nf(r,e){const t=Te(r),s=Do(t);t.Ta.delete(e),s.x_()&&zv(t,e),t.Ta.size===0&&(s.x_()?s.B_():ms(t)&&t.Aa.set("Unknown"))}function Df(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Do(r).H_(e)}function zv(r,e){r.Ra.$e(e),Do(r).Y_(e)}function Vf(r){r.Ra=new DS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.Aa.aa()}function Of(r){return ms(r)&&!Do(r).M_()&&r.Ta.size>0}function ms(r){return Te(r).Ia.size===0}function Uv(r){r.Ra=void 0}async function zA(r){r.Aa.set("Online")}async function UA(r){r.Ta.forEach(((e,t)=>{Df(r,e)}))}async function jA(r,e){Uv(r),Of(r)?(r.Aa.la(e),Vf(r)):r.Aa.set("Unknown")}async function BA(r,e,t){if(r.Aa.set("Online"),e instanceof Sv&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ta.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ta.delete(f),o.Ra.removeTarget(f))})(r,e)}catch(s){se(hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cc(r,s)}else if(e instanceof $u?r.Ra.Ye(e):e instanceof Iv?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Ee.min()))try{const s=await Mv(r.localStore);t.compareTo(s)>=0&&await(function(l,h){const f=l.Ra.Pt(h);return f.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const w=l.Ta.get(y);w&&l.Ta.set(y,w.withResumeToken(g.resumeToken,h))}})),f.targetMismatches.forEach(((g,y)=>{const w=l.Ta.get(g);if(!w)return;l.Ta.set(g,w.withResumeToken(Nt.EMPTY_BYTE_STRING,w.snapshotVersion)),zv(l,g);const T=new pi(w.target,g,y,w.sequenceNumber);Df(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(s){se(hs,"Failed to raise snapshot:",s),await cc(r,s)}}async function cc(r,e,t){if(!No(e))throw e;r.Ia.add(1),await al(r),r.Aa.set("Offline"),t||(t=()=>Mv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{se(hs,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await kc(r)}))}function jv(r,e){return e().catch((t=>cc(r,t,e)))}async function xc(r){const e=Te(r),t=Ai(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:_f;for(;$A(e);)try{const o=await SA(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,GA(e,o)}catch(o){await cc(e,o)}Bv(e)&&$v(e)}function $A(r){return ms(r)&&r.Pa.length<10}function GA(r,e){r.Pa.push(e);const t=Ai(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function Bv(r){return ms(r)&&!Ai(r).M_()&&r.Pa.length>0}function $v(r){Ai(r).start()}async function HA(r){Ai(r).na()}async function WA(r){const e=Ai(r);for(const t of r.Pa)e.X_(t.mutations)}async function qA(r,e,t){const s=r.Pa.shift(),o=Sf.from(s,e,t);await jv(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await xc(r)}async function KA(r,e){e&&Ai(r).Z_&&await(async function(s,o){if((function(h){return xS(h)&&h!==K.ABORTED})(o.code)){const l=s.Pa.shift();Ai(s).N_(),await jv(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await xc(s)}})(r,e),Bv(r)&&$v(r)}async function S_(r,e){const t=Te(r);t.asyncQueue.verifyOperationInProgress(),se(hs,"RemoteStore received new credentials");const s=ms(t);t.Ia.add(3),await al(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await kc(t)}async function QA(r,e){const t=Te(r);e?(t.Ia.delete(2),await kc(t)):e||(t.Ia.add(2),await al(t),t.Aa.set("Unknown"))}function Do(r){return r.Va||(r.Va=(function(t,s,o){const l=Te(t);return l.ia(),new VA(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Zo:zA.bind(null,r),e_:UA.bind(null,r),n_:jA.bind(null,r),J_:BA.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),Of(r)?Vf(r):r.Aa.set("Unknown")):(await r.Va.stop(),Uv(r))}))),r.Va}function Ai(r){return r.ma||(r.ma=(function(t,s,o){const l=Te(t);return l.ia(),new OA(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:HA.bind(null,r),n_:KA.bind(null,r),ea:WA.bind(null,r),ta:qA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await xc(r)):(await r.ma.stop(),r.Pa.length>0&&(se(hs,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new Mf(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lf(r,e){if(Or("AsyncQueue",`${e}: ${r}`),No(r))return new de(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||me.comparator(t.key,s.key):(t,s)=>me.comparator(t.key,s.key),this.keyedMap=Da(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new _o;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.fa=new tt(me.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ye(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Ao{constructor(e,t,s,o,l,h,f,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new Ao(e,t,_o.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ic(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class XA{constructor(){this.queries=C_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Te(t),l=o.queries;o.queries=C_(),l.forEach(((h,f)=>{for(const g of f.wa)g.onError(s)}))})(this,new de(K.ABORTED,"Firestore shutting down"))}}function C_(){return new fs((r=>uv(r)),Ic)}async function YA(r,e){const t=Te(r);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(s=2):(l=new JA,s=e.ba()?0:1);try{switch(s){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=Lf(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&bf(t)}async function ZA(r,e){const t=Te(r),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.wa.indexOf(e);h>=0&&(l.wa.splice(h,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function eC(r,e){const t=Te(r);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.wa)f.Ca(o)&&(s=!0);h.ya=o}}s&&bf(t)}function tC(r,e,t){const s=Te(r),o=s.queries.get(e);if(o)for(const l of o.wa)l.onError(t);s.queries.delete(e)}function bf(r){r.Da.forEach((e=>{e.next()}))}var Wd,R_;(R_=Wd||(Wd={})).Fa="default",R_.Cache="cache";class nC{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this.key=e}}class Hv{constructor(e){this.key=e}}class rC{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xe(),this.mutatedKeys=xe(),this.Xa=cv(e),this.eu=new _o(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new A_,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const A=o.get(w),x=Sc(this.query,T)?T:null,j=!!A&&this.mutatedKeys.has(A.key),$=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let F=!1;A&&x?A.data.isEqual(x.data)?j!==$&&(s.track({type:3,doc:x}),F=!0):this.iu(A,x)||(s.track({type:2,doc:x}),F=!0,(g&&this.Xa(x,g)>0||y&&this.Xa(x,y)<0)&&(f=!0)):!A&&x?(s.track({type:0,doc:x}),F=!0):A&&!x&&(s.track({type:1,doc:A}),F=!0,(g||y)&&(f=!0)),F&&(x?(h=h.add(x),l=$?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{eu:h,ru:s,Ds:f,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort(((w,T)=>(function(x,j){const $=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{At:F})}};return $(x)-$(j)})(w.type,T.type)||this.Xa(w.doc,T.doc))),this.su(s),o=o!=null&&o;const f=t&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,y=g!==this.Ya;return this.Ya=g,h.length!==0||y?{snapshot:new Ao(this.query,e.eu,l,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new A_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=xe(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const t=[];return e.forEach((s=>{this.Za.has(s)||t.push(new Hv(s))})),this.Za.forEach((s=>{e.has(s)||t.push(new Gv(s))})),t}uu(e){this.Ha=e.qs,this.Za=xe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ao.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Ff="SyncEngine";class iC{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class sC{constructor(e){this.key=e,this.lu=!1}}class oC{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new fs((f=>uv(f)),Ic),this.Tu=new Map,this.Iu=new Set,this.du=new tt(me.comparator),this.Eu=new Map,this.Au=new Rf,this.Ru={},this.Vu=new Map,this.mu=So.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function aC(r,e,t=!0){const s=Xv(r);let o;const l=s.Pu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await Wv(s,e,t,!0),o}async function lC(r,e){const t=Xv(r);await Wv(t,e,!0,!1)}async function Wv(r,e,t,s){const o=await AA(r.localStore,er(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await uC(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&Fv(r.remoteStore,o),f}async function uC(r,e,t,s,o){r.gu=(T,A,x)=>(async function($,F,Y,Z){let J=F.view.nu(Y);J.Ds&&(J=await v_($.localStore,F.query,!1).then((({documents:N})=>F.view.nu(N,J))));const ce=Z&&Z.targetChanges.get(F.targetId),Se=Z&&Z.targetMismatches.get(F.targetId)!=null,Ie=F.view.applyChanges(J,$.isPrimaryClient,ce,Se);return k_($,F.targetId,Ie._u),Ie.snapshot})(r,T,A,x);const l=await v_(r.localStore,e,!0),h=new rC(e,l.qs),f=h.nu(l.documents),g=ol.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,g);k_(r,t,y._u);const w=new iC(e,t,h);return r.Pu.set(e,w),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),y.snapshot}async function cC(r,e,t){const s=Te(r),o=s.Pu.get(e),l=s.Tu.get(o.targetId);if(l.length>1)return s.Tu.set(o.targetId,l.filter((h=>!Ic(h,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Gd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Nf(s.remoteStore,o.targetId),qd(s,o.targetId)})).catch(xo)):(qd(s,o.targetId),await Gd(s.localStore,o.targetId,!0))}async function hC(r,e){const t=Te(r),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Nf(t.remoteStore,s.targetId))}async function dC(r,e,t){const s=vC(r);try{const o=await(function(h,f){const g=Te(h),y=Qe.now(),w=f.reduce(((x,j)=>x.add(j.key)),xe());let T,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let j=Mr(),$=xe();return g.Os.getEntries(x,w).next((F=>{j=F,j.forEach(((Y,Z)=>{Z.isValidDocument()||($=$.add(Y))}))})).next((()=>g.localDocuments.getOverlayedDocuments(x,j))).next((F=>{T=F;const Y=[];for(const Z of f){const J=AS(Z,T.get(Z.key).overlayedDocument);J!=null&&Y.push(new ps(Z.key,J,nv(J.value.mapValue),xr.exists(!0)))}return g.mutationQueue.addMutationBatch(x,y,Y,f)})).next((F=>{A=F;const Y=F.applyToLocalDocumentSet(T,$);return g.documentOverlayCache.saveOverlays(x,F.batchId,Y)}))})).then((()=>({batchId:A.batchId,changes:dv(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,f,g){let y=h.Ru[h.currentUser.toKey()];y||(y=new tt(Ce)),y=y.insert(f,g),h.Ru[h.currentUser.toKey()]=y})(s,o.batchId,t),await ll(s,o.changes),await xc(s.remoteStore)}catch(o){const l=Lf(o,"Failed to persist write");t.reject(l)}}async function qv(r,e){const t=Te(r);try{const s=await TA(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Eu.get(l);h&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?ze(h.lu,14607):o.removedDocuments.size>0&&(ze(h.lu,42227),h.lu=!1))})),await ll(t,s,e)}catch(s){await xo(s)}}function P_(r,e,t){const s=Te(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const g=Te(h);g.onlineState=f;let y=!1;g.queries.forEach(((w,T)=>{for(const A of T.wa)A.va(f)&&(y=!0)})),y&&bf(g)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fC(r,e,t){const s=Te(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),l=o&&o.key;if(l){let h=new tt(me.comparator);h=h.insert(l,Ut.newNoDocument(l,Ee.min()));const f=xe().add(l),g=new Rc(Ee.min(),new Map,new tt(Ce),h,f);await qv(s,g),s.du=s.du.remove(l),s.Eu.delete(e),zf(s)}else await Gd(s.localStore,e,!1).then((()=>qd(s,e,t))).catch(xo)}async function pC(r,e){const t=Te(r),s=e.batch.batchId;try{const o=await EA(t.localStore,e);Qv(t,s,null),Kv(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ll(t,o)}catch(o){await xo(o)}}async function mC(r,e,t){const s=Te(r);try{const o=await(function(h,f){const g=Te(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return g.mutationQueue.lookupMutationBatch(y,f).next((T=>(ze(T!==null,37113),w=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,w,f))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>g.localDocuments.getDocuments(y,w)))}))})(s.localStore,e);Qv(s,e,t),Kv(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ll(s,o)}catch(o){await xo(o)}}function Kv(r,e){(r.Vu.get(e)||[]).forEach((t=>{t.resolve()})),r.Vu.delete(e)}function Qv(r,e,t){const s=Te(r);let o=s.Ru[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function qd(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),t&&r.hu.pu(s,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((s=>{r.Au.containsKey(s)||Jv(r,s)}))}function Jv(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Nf(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),zf(r))}function k_(r,e,t){for(const s of t)s instanceof Gv?(r.Au.addReference(s.key,e),gC(r,s)):s instanceof Hv?(se(Ff,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||Jv(r,s.key)):ye(19791,{yu:s})}function gC(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Iu.has(s)||(se(Ff,"New document in limbo: "+t),r.Iu.add(s),zf(r))}function zf(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new me(Ke.fromString(e)),s=r.mu.next();r.Eu.set(s,new sC(t)),r.du=r.du.insert(t,s),Fv(r.remoteStore,new pi(er(Tf(t.path)),s,"TargetPurposeLimboResolution",vc.ue))}}async function ll(r,e,t){const s=Te(r),o=[],l=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach(((f,g)=>{h.push(s.gu(g,e,t).then((y=>{var w;if((y||t)&&s.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=kf.Es(g.targetId,y);l.push(T)}})))})),await Promise.all(h),s.hu.J_(o),await(async function(g,y){const w=Te(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>H.forEach(y,(A=>H.forEach(A.Is,(x=>w.persistence.referenceDelegate.addReference(T,A.targetId,x))).next((()=>H.forEach(A.ds,(x=>w.persistence.referenceDelegate.removeReference(T,A.targetId,x)))))))))}catch(T){if(!No(T))throw T;se(xf,"Failed to update sequence numbers: "+T)}for(const T of y){const A=T.targetId;if(!T.fromCache){const x=w.Fs.get(A),j=x.snapshotVersion,$=x.withLastLimboFreeSnapshotVersion(j);w.Fs=w.Fs.insert(A,$)}}})(s.localStore,l))}async function _C(r,e){const t=Te(r);if(!t.currentUser.isEqual(e)){se(Ff,"User change. New user:",e.toKey());const s=await Ov(t.localStore,e);t.currentUser=e,(function(l,h){l.Vu.forEach((f=>{f.forEach((g=>{g.reject(new de(K.CANCELLED,h))}))})),l.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ll(t,s.Bs)}}function yC(r,e){const t=Te(r),s=t.Eu.get(e);if(s&&s.lu)return xe().add(s.key);{let o=xe();const l=t.Tu.get(e);if(!l)return o;for(const h of l){const f=t.Pu.get(h);o=o.unionWith(f.view.tu)}return o}}function Xv(r){const e=Te(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=qv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fC.bind(null,e),e.hu.J_=eC.bind(null,e.eventManager),e.hu.pu=tC.bind(null,e.eventManager),e}function vC(r){const e=Te(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mC.bind(null,e),e}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return wA(this.persistence,new _A,e.initialUser,this.serializer)}Du(e){return new Vv(Pf.Vi,this.serializer)}bu(e){return new RA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class wC extends hc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ze(this.persistence.referenceDelegate instanceof uc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nA(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Vv((s=>uc.Vi(s,t)),this.serializer)}}class Kd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>P_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_C.bind(null,this.syncEngine),await QA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new XA})()}createDatastore(e){const t=Pc(e.databaseInfo.databaseId),s=(function(l){return new DA(l)})(e.databaseInfo);return(function(l,h,f,g){return new LA(l,h,f,g)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,h,f){return new FA(s,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>P_(this.syncEngine,t,0)),(function(){return T_.C()?new T_:new PA})())}createSyncEngine(e,t){return(function(o,l,h,f,g,y,w){const T=new oC(o,l,h,f,g,y);return w&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Te(o);se(hs,"RemoteStore shutting down."),l.Ia.add(5),await al(l),l.Ea.shutdown(),l.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Kd.provider={build:()=>new Kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class TC{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=mf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async h=>{se(Ci,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(se(Ci,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Lf(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Td(r,e){r.asyncQueue.verifyOperationInProgress(),se(Ci,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Ov(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{wi("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{se("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{wi("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function x_(r,e){r.asyncQueue.verifyOperationInProgress();const t=await IC(r);se(Ci,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((s=>S_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>S_(e.remoteStore,o))),r._onlineComponents=e}async function IC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){se(Ci,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;wi("Error using user provided cache. Falling back to memory cache: "+t),await Td(r,new hc)}}else se(Ci,"Using default OfflineComponentProvider"),await Td(r,new wC(void 0));return r._offlineComponents}async function Yv(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(se(Ci,"Using user provided OnlineComponentProvider"),await x_(r,r._uninitializedComponentsProvider._online)):(se(Ci,"Using default OnlineComponentProvider"),await x_(r,new Kd))),r._onlineComponents}function SC(r){return Yv(r).then((e=>e.syncEngine))}async function N_(r){const e=await Yv(r),t=e.eventManager;return t.onListen=aC.bind(null,e.syncEngine),t.onUnlisten=cC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hC.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="firestore.googleapis.com",V_=!0;class O_{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=e0,this.ssl=V_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:V_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Dv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eA)throw new de(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}b1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zv((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new P1;switch(s.type){case"firstParty":return new D1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=D_.get(t);s&&(se("ComponentProvider","Removing Datastore"),D_.delete(t),s.terminate())})(this),Promise.resolve()}}function AC(r,e,t,s={}){var o;r=ba(r,Nc);const l=Co(e),h=r._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${t}`;l&&(Z_(`https://${g}`),ey("Firestore",!0)),h.host!==e0&&h.host!==g&&wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:l,emulatorOptions:s});if(!as(y,f)&&(r._setSettings(y),s.mockUserToken)){let w,T;if(typeof s.mockUserToken=="string")w=s.mockUserToken,T=zt.MOCK_USER;else{w=Yw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new de(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new zt(A)}r._authCredentials=new k1(new $y(w,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dc(this.firestore,e,this._query)}}class St{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(il(t,St._jsonSchema))return new St(e,s||null,new me(Ke.fromString(t.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:ct("string",St._jsonSchemaVersion),referencePath:ct("string")};class vi extends Dc{constructor(e,t,s){super(e,t,Tf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new me(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function M_(r,e,...t){if(r=tn(r),Hy("collection","path",e),r instanceof Nc){const s=Ke.fromString(e,...t);return qg(s),new vi(r,null,s)}{if(!(r instanceof St||r instanceof vi))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ke.fromString(e,...t));return qg(s),new vi(r.firestore,null,s)}}function CC(r,e,...t){if(r=tn(r),arguments.length===1&&(e=mf.newId()),Hy("doc","path",e),r instanceof Nc){const s=Ke.fromString(e,...t);return Wg(s),new St(r,null,new me(s))}{if(!(r instanceof St||r instanceof vi))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ke.fromString(e,...t));return Wg(s),new St(r.firestore,r instanceof vi?r.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="AsyncQueue";class b_{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Lv(this,"async_queue_retry"),this.oc=()=>{const s=Ed();s&&se(L_,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Ed();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Ed();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new ss;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!No(e))throw e;se(L_,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Or("INTERNAL UNHANDLED ERROR: ",F_(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Mf.createAndSchedule(this,e,t,s,(l=>this.lc(l)));return this.ec.push(o),o}ac(){this.tc&&ye(47125,{hc:F_(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function F_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class dc extends Nc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new b_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b_(e),this._firestoreClient=void 0,await e}}}function RC(r,e){const t=typeof r=="object"?r:ry(),s=typeof r=="string"?r:rc,o=ef(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=Jw("firestore");l&&AC(o,...l)}return o}function t0(r){if(r._terminated)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||PC(r),r._firestoreClient}function PC(r){var e,t,s;const o=r._freezeSettings(),l=(function(f,g,y,w){return new K1(f,g,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Zv(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new TC(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(Nt.fromBase64String(e))}catch(t){throw new de(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new En(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(il(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:ct("string",En._jsonSchemaVersion),bytes:ct("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(il(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:ct("string",nr._jsonSchemaVersion),latitude:ct("number"),longitude:ct("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(il(e,rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new rr(e.vectorValues);throw new de(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}rr._jsonSchemaVersion="firestore/vectorValue/1.0",rr._jsonSchema={type:ct("string",rr._jsonSchemaVersion),vectorValues:ct("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=/^__.*__$/;class xC{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new sl(e,this.data,t,this.fieldTransforms)}}function n0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ec:r})}}class Bf{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return fc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(n0(this.Ec)&&kC.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class NC{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Pc(e)}Dc(e,t,s,o=!1){return new Bf({Ec:e,methodName:t,bc:s,path:xt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DC(r){const e=r._freezeSettings(),t=Pc(r._databaseId);return new NC(r._databaseId,!!e.ignoreUndefinedProperties,t)}function VC(r,e,t,s,o,l={}){const h=r.Dc(l.merge||l.mergeFields?2:0,e,t,o);o0("Data must be an object, but it was:",h,s);const f=i0(s,h);let g,y;if(l.merge)g=new zn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const A=OC(e,T,t);if(!h.contains(A))throw new de(K.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);LC(w,A)||w.push(A)}g=new zn(w),y=h.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=h.fieldTransforms;return new xC(new wn(f),g,y)}class $f extends jf{_toFieldTransform(e){return new ES(e.path,new Qa)}isEqual(e){return e instanceof $f}}function r0(r,e){if(s0(r=tn(r)))return o0("Unsupported field value:",e,r),i0(r,e);if(r instanceof jf)return(function(s,o){if(!n0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const l=[];let h=0;for(const f of s){let g=r0(f,o.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}})(r,e)}return(function(s,o){if((s=tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Qe.fromDate(s);return{timestampValue:lc(o.serializer,l)}}if(s instanceof Qe){const l=new Qe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lc(o.serializer,l)}}if(s instanceof nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof En)return{bytesValue:Av(o.serializer,s._byteString)};if(s instanceof St){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cf(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof rr)return(function(h,f){return{mapValue:{fields:{[ev]:{stringValue:tv},[ic]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw f.wc("VectorValues must only contain numeric values.");return If(f.serializer,y)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${gf(s)}`)})(r,e)}function i0(r,e){const t={};return Ky(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(r,((s,o)=>{const l=r0(o,e.Vc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function s0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qe||r instanceof nr||r instanceof En||r instanceof St||r instanceof jf||r instanceof rr)}function o0(r,e,t){if(!s0(t)||!Wy(t)){const s=gf(t);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function OC(r,e,t){if((e=tn(e))instanceof Uf)return e._internalPath;if(typeof e=="string")return a0(r,e);throw fc("Field path arguments must be of type string or ",r,!1,void 0,t)}const MC=new RegExp("[~\\*/\\[\\]]");function a0(r,e,t){if(e.search(MC)>=0)throw fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Uf(...e.split("."))._internalPath}catch{throw fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function fc(r,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new de(K.INVALID_ARGUMENT,f+r+g)}function LC(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(u0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class bC extends l0{data(){return super.data()}}function u0(r,e){return typeof e=="string"?a0(r,e):e instanceof Uf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zC{convertValue(e,t="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ds(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[ic].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>ot(h.doubleValue)));return new rr(l)}convertGeoPoint(e){return new nr(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Ec(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Wa(e));default:return null}}convertTimestamp(e){const t=Ti(e);return new Qe(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ke.fromString(e);ze(Nv(s),9688,{name:e});const o=new qa(s.get(1),s.get(3)),l=new me(s.popFirst(5));return o.isEqual(t)||Or(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(r,e,t){let s;return s=r?r.toFirestore(e):e,s}class Oa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class os extends l0{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(u0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=os._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}os._jsonSchemaVersion="firestore/documentSnapshot/1.0",os._jsonSchema={type:ct("string",os._jsonSchemaVersion),bundleSource:ct("string","DocumentSnapshot"),bundleName:ct("string"),bundle:ct("string")};class Gu extends os{data(e={}){return super.data(e)}}class yo{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Oa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Gu(this._firestore,this._userDataWriter,s.key,s,new Oa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const g=new Gu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Oa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const g=new Gu(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Oa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:jC(f.type),doc:g,oldIndex:y,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:r})}}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:ct("string",yo._jsonSchemaVersion),bundleSource:ct("string","QuerySnapshot"),bundleName:ct("string"),bundle:ct("string")};class c0 extends zC{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}}function BC(r,e){const t=ba(r.firestore,dc),s=CC(r),o=UC(r.converter,e);return GC(t,[VC(DC(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,xr.exists(!1))]).then((()=>s))}function $C(r,...e){var t,s,o;r=tn(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||z_(e[h])||(l=e[h++]);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(z_(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let g,y,w;if(r instanceof St)y=ba(r.firestore,dc),w=Tf(r._key.path),g={next:T=>{e[h]&&e[h](HC(y,r,T))},error:e[h+1],complete:e[h+2]};else{const T=ba(r,Dc);y=ba(T.firestore,dc),w=T._query;const A=new c0(y);g={next:x=>{e[h]&&e[h](new yo(y,A,T,x))},error:e[h+1],complete:e[h+2]},FC(r._query)}return(function(A,x,j,$){const F=new EC($),Y=new nC(x,F,j);return A.asyncQueue.enqueueAndForget((async()=>YA(await N_(A),Y))),()=>{F.Ou(),A.asyncQueue.enqueueAndForget((async()=>ZA(await N_(A),Y)))}})(t0(y),w,f,g)}function GC(r,e){return(function(s,o){const l=new ss;return s.asyncQueue.enqueueAndForget((async()=>dC(await SC(s),o,l))),l.promise})(t0(r),e)}function HC(r,e,t){const s=t.docs.get(e._key),o=new c0(r);return new os(r,o,e._key,s,new Oa(t.hasPendingWrites,t.fromCache),e.converter)}function WC(){return new $f("serverTimestamp")}(function(e,t=!0){(function(o){ko=o})(Ro),vo(new ls("firestore",((s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new dc(new x1(s.getProvider("auth-internal")),new V1(h,s.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qa(y.options.projectId,w)})(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),_i(jg,Bg,e),_i(jg,Bg,"esm2017")})();const h0={apiKey:"AIzaSyDy4ACpSpaykbz9zP9zVMHQ1r-jASN7hMs",authDomain:"chat-app-d4aea.firebaseapp.com",projectId:"chat-app-d4aea",storageBucket:"chat-app-d4aea.firebasestorage.app",messagingSenderId:"1033938101724",appId:"1:1033938101724:web:9790b298efe26313819b19"},qC=tf(h0),U_=RC(qC),KC=tf(h0),Gf=C1(KC),QC=new Rr,Hf=()=>{const[r,e]=G.useState(null);return G.useEffect(()=>{const t=pI(Gf,s=>{e(s)});return()=>t()}),{user:r}},JC=async()=>{try{return(await MI(Gf,QC)).user}catch(r){return console.error("Google",r),null}},XC=async()=>{try{await mI(Gf)}catch(r){console.error("",r)}},YC=()=>{const{user:r}=Hf(),e=async()=>{await JC()},t=async()=>{await XC()};return re.jsx("div",{children:r?re.jsxs("div",{children:[re.jsxs("p",{children:["",r==null?void 0:r.displayName," "]}),re.jsx("img",{src:(r==null?void 0:r.photoURL)??void 0,alt:"profile",width:50,height:50}),re.jsx("div",{}),re.jsx("button",{onClick:t,children:""})]}):re.jsx("button",{onClick:e,children:"Google"})})},ZC=()=>{const[r,e]=G.useState([]);G.useEffect(()=>{const f=M_(U_,"chats"),g=$C(f,y=>{const T=y.docs.map(A=>({id:A.id,text:A.data().text,senderId:A.data().senderId,timestamp:A.data().timestamp,displayName:A.data().displayName})).sort((A,x)=>A.timestamp-x.timestamp);e(T)});return()=>g()},[]);const{user:t}=Hf(),[s,o]=G.useState(""),l=async()=>{s.trim()===""||!t||(await BC(M_(U_,"chats"),{text:s,senderId:t.uid,displayName:t.displayName,timestamp:WC()}),o(""))},h=f=>{if(!f)return;const g=f.toDate();return`${g.getMonth()+1}/${g.getDay()} ${g.getUTCHours()+8}:${g.getMinutes()}`};return re.jsxs("div",{className:"chat-containner",children:[re.jsx("h2",{children:""}),re.jsx("div",{className:"messages",children:r.map(f=>re.jsxs("div",{className:`message ${f.senderId===(t==null?void 0:t.uid)?"sent":"received"}`,children:[re.jsx("p",{className:"sender-name",children:f.displayName||""}),re.jsxs("p",{className:"text",children:[" ",f.text]}),h(f.timestamp)]},f.id))}),re.jsxs("div",{className:"input-area",children:[re.jsx("input",{type:"text",value:s,onChange:f=>o(f.target.value),placeholder:""}),re.jsx("button",{onClick:l,children:""})]})]})},eR=JSON.parse('[{"id":1202,"name":"","name_en":"Shrimp Salad","name_zh":"","price":319,"price_with_tax":350,"calorie":192,"salt":1.5,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"SA02","is_east":true,"is_west":true},{"id":1205,"name":"","name_en":"Seaweed Salad","name_zh":"","price":319,"price_with_tax":350,"calorie":174,"salt":2.9,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"SA05","is_east":true,"is_west":true},{"id":1207,"name":"","name_en":"Green Salad with Buffalo Mozzarella Cheese","name_zh":"","price":364,"price_with_tax":400,"calorie":243,"salt":0.6,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"SA07","is_east":false,"is_west":false},{"id":1208,"name":"","name_en":"Green Salad","name_zh":"","price":319,"price_with_tax":350,"calorie":166,"salt":0.7,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"SA08","is_east":false,"is_west":false},{"id":1209,"name":"","name_en":"Chicken Salad","name_zh":"","price":319,"price_with_tax":350,"calorie":224,"salt":1.3,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"SA03","is_east":true,"is_west":true},{"id":1301,"name":"","name_en":"Creamy Corn Soup","name_zh":"","price":137,"price_with_tax":150,"calorie":154,"salt":1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"SU01","is_east":true,"is_west":true},{"id":1305,"name":"","name_en":"Country-style Minestrone","name_zh":"","price":273,"price_with_tax":300,"calorie":227,"salt":3,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"SU05","is_east":true,"is_west":true},{"id":1307,"name":"","name_en":"Onion soup, Zuppa","name_zh":"","price":273,"price_with_tax":300,"calorie":228,"salt":2,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"SU07","is_east":true,"is_west":true},{"id":1401,"name":"","name_en":"Spicy Grilled Chicken","name_zh":"","price":273,"price_with_tax":300,"calorie":295,"salt":1.8,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA01","is_east":true,"is_west":true},{"id":1402,"name":"","name_en":"Arrosticini (Lamb skewers)","name_zh":"","price":364,"price_with_tax":400,"calorie":224,"salt":0.6,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA02","is_east":true,"is_west":true},{"id":1403,"name":"","name_en":"Sauteed SpinachSalt Oil Sauce","name_zh":"","price":182,"price_with_tax":200,"calorie":223,"salt":1.2,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA03","is_east":true,"is_west":true},{"id":1404,"name":"","name_en":"Popcorn Shrimp","name_zh":"","price":273,"price_with_tax":300,"calorie":234,"salt":1.2,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA04","is_east":true,"is_west":true},{"id":1405,"name":"","name_en":"Grilled Escargots","name_zh":"","price":364,"price_with_tax":400,"calorie":220,"salt":1.3,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA05","is_east":true,"is_west":true},{"id":1406,"name":"","name_en":"Shrimp with \\"SAIZERIYA\\" Dressing","name_zh":"SAIZERIYA","price":255,"price_with_tax":280,"calorie":126,"salt":2.3,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA06","is_east":true,"is_west":true},{"id":1407,"name":"","name_en":"Grilled Spicy Sausages","name_zh":"","price":364,"price_with_tax":400,"calorie":425,"salt":2.9,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA07","is_east":true,"is_west":true},{"id":1408,"name":"","name_en":"Chicken with Flavored Vegetable SauceLimited to some stores","name_zh":"","price":255,"price_with_tax":280,"calorie":192,"salt":2.4,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA08","is_east":true,"is_west":true},{"id":1410,"name":"","name_en":"Grilled Mussels with Vegetable Salsa","name_zh":"","price":364,"price_with_tax":400,"calorie":170,"salt":1.4,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA10","is_east":true,"is_west":true},{"id":1411,"name":"","name_en":"Asparagus with  Cheese ","name_zh":"","price":273,"price_with_tax":300,"calorie":80,"salt":0.7,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA09","is_east":false,"is_west":false},{"id":1413,"name":"","name_en":"Refreshing Carrot Salad","name_zh":"","price":182,"price_with_tax":200,"calorie":93,"salt":0.9,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA13","is_east":true,"is_west":true},{"id":1414,"name":"","name_en":"Buffalo Mozzarella Cheese &  Tomato","name_zh":"","price":391,"price_with_tax":430,"calorie":255,"salt":0.2,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA14","is_east":false,"is_west":false},{"id":1415,"name":"","name_en":"Crispy Potatoes","name_zh":"","price":255,"price_with_tax":280,"calorie":389,"salt":2.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA15","is_east":false,"is_west":true},{"id":1416,"name":"","name_en":"Hashed Potato","name_zh":"","price":273,"price_with_tax":300,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":false},{"id":1417,"name":"","name_en":"Buffalo Mozzarella Cheese &  Tomato","name_zh":"","price":391,"price_with_tax":430,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":1422,"name":"","name_en":"Jamon Serrano","name_zh":"","price":291,"price_with_tax":320,"calorie":39,"salt":0.9,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA22","is_east":true,"is_west":true},{"id":1423,"name":"","name_en":"Jamon Serrano &  Buffalo Mozzarella Cheese","name_zh":"","price":455,"price_with_tax":500,"calorie":146,"salt":1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":1425,"name":"","name_en":"Green Peas with  Cheese & Egg","name_zh":"","price":182,"price_with_tax":200,"calorie":216,"salt":1.4,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA06","is_east":true,"is_west":true},{"id":1435,"name":"","name_en":"Sweet Corn","name_zh":"","price":182,"price_with_tax":200,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":1452,"name":"(W)","name_en":"Arrosticini (Lamb skewers)","name_zh":"","price":728,"price_with_tax":800,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"AA52","is_east":true,"is_west":true},{"id":2101,"name":"","name_en":"Meat Sauce Doria","name_zh":"","price":273,"price_with_tax":300,"calorie":521,"salt":2.5,"category":"","category_en":"Grand Menu","category_zh":"","genre":"&","is_alcohol":false,"icon":"","pre_id":"DG01","is_east":true,"is_west":true},{"id":2103,"name":"","name_en":"Meat Sauce & Coddled Egg Doria","name_zh":"","price":319,"price_with_tax":350,"calorie":604,"salt":2.7,"category":"","category_en":"Grand Menu","category_zh":"","genre":"&","is_alcohol":false,"icon":"","pre_id":"DG03","is_east":true,"is_west":true},{"id":2106,"name":"","name_en":"Doria with TARAKOSauce & Shrimp","name_zh":"","price":364,"price_with_tax":400,"calorie":578,"salt":2.8,"category":"","category_en":"Grand Menu","category_zh":"","genre":"&","is_alcohol":false,"icon":"","pre_id":"DG06","is_east":false,"is_west":true},{"id":2108,"name":" ","name_en":"Doria with Meat Sauce & Cheese","name_zh":"","price":319,"price_with_tax":350,"calorie":652,"salt":2.9,"category":"","category_en":"Grand Menu","category_zh":"","genre":"&","is_alcohol":false,"icon":"","pre_id":"DG08","is_east":true,"is_west":true},{"id":2109,"name":"","name_en":"Gratin with TARAKOSauce & Shrimp","name_zh":"TARAKO","price":391,"price_with_tax":400,"calorie":481,"salt":2.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"&","is_alcohol":false,"icon":"","pre_id":"","is_east":false,"is_west":true},{"id":2110,"name":"","name_en":"","name_zh":"","price":364,"price_with_tax":400,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"&","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":false},{"id":2115,"name":"","name_en":"","name_zh":"","price":391,"price_with_tax":430,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"&","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":false},{"id":2203,"name":"","name_en":"Pizza with  Buffalo Mozzarella Cheese","name_zh":"","price":364,"price_with_tax":400,"calorie":544,"salt":2.4,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PZ02","is_east":true,"is_west":true},{"id":2204,"name":"","name_en":"Pizza with Mushrooms & Vegetable Salsa","name_zh":"","price":364,"price_with_tax":400,"calorie":593,"salt":3.2,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PZ04","is_east":true,"is_west":true},{"id":2206,"name":"","name_en":"Corn Pizza","name_zh":"","price":364,"price_with_tax":400,"calorie":624,"salt":2.6,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PZ06","is_east":true,"is_west":true},{"id":2208,"name":"","name_en":"Sausage Pizza","name_zh":"","price":364,"price_with_tax":400,"calorie":710,"salt":4.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PZ08","is_east":true,"is_west":true},{"id":2301,"name":"","name_en":"","name_zh":"","price":364,"price_with_tax":400,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":2303,"name":"","name_en":"Spaghetti Peperoncino","name_zh":"","price":273,"price_with_tax":300,"calorie":582,"salt":1.9,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PA03","is_east":true,"is_west":true},{"id":2304,"name":"","name_en":"Spaghetti with tomatopancetta","name_zh":"","price":364,"price_with_tax":400,"calorie":753,"salt":3.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PA04","is_east":true,"is_west":true},{"id":2305,"name":"","name_en":"Spaghetti Carbonara","name_zh":"","price":455,"price_with_tax":500,"calorie":799,"salt":3.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PA05","is_east":true,"is_west":true},{"id":2306,"name":"","name_en":"Spaghetti Meat Sauce","name_zh":"","price":364,"price_with_tax":400,"calorie":604,"salt":3.6,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PA02","is_east":true,"is_west":true},{"id":2310,"name":"","name_en":"Spaghetti\\"VONGOLE\\"","name_zh":"VONGOLE","price":455,"price_with_tax":500,"calorie":872,"salt":2.5,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PA10","is_east":true,"is_west":true},{"id":2316,"name":"","name_en":"Spaghetti Meat Sauce with Coddled Egg","name_zh":"","price":410,"price_with_tax":450,"calorie":673,"salt":3.8,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PA12","is_east":true,"is_west":true},{"id":2317,"name":"","name_en":"Spaghetti Peperoncino with soft-boiled egg","name_zh":"","price":319,"price_with_tax":350,"calorie":665,"salt":2.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PA17","is_east":true,"is_west":true},{"id":2320,"name":"","name_en":"Spaghetti TARAKO Sauce with Shrimp","name_zh":"TARAKO","price":491,"price_with_tax":540,"calorie":594,"salt":2.8,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PA20","is_east":true,"is_west":true},{"id":2321,"name":"","name_en":"Spaghetti with spinach and mushroom cream","name_zh":"","price":546,"price_with_tax":600,"calorie":856,"salt":3.7,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":2325,"name":"","name_en":"Whole wheat penne arrabbiata","name_zh":"","price":391,"price_with_tax":400,"calorie":444,"salt":2.8,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"PA25","is_east":true,"is_west":true},{"id":2328,"name":"","name_en":"Spaghetti al Nero di Seppia","name_zh":"","price":455,"price_with_tax":500,"calorie":603,"salt":1.8,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":2402,"name":"","name_en":"Grilled Chicken with Chopped Vegetable Sauce","name_zh":"","price":455,"price_with_tax":500,"calorie":673,"salt":2.8,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"MT02","is_east":true,"is_west":true},{"id":2403,"name":"","name_en":"Italian Hamburg Steak","name_zh":"","price":455,"price_with_tax":500,"calorie":670,"salt":3,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"MT03","is_east":true,"is_west":true},{"id":2404,"name":"","name_en":"Grilled Chicken with Cheese","name_zh":"","price":455,"price_with_tax":500,"calorie":725,"salt":2.8,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"MT04","is_east":true,"is_west":true},{"id":2406,"name":"","name_en":"Hamburg Steak(Demi-Glace Sauce)","name_zh":"()","price":364,"price_with_tax":400,"calorie":571,"salt":2.5,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"MT01","is_east":true,"is_west":true},{"id":2407,"name":"","name_en":"Hamburg Steak with Chopped Vegetable Sauce","name_zh":"","price":455,"price_with_tax":500,"calorie":618,"salt":3.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"MT07","is_east":true,"is_west":true},{"id":2413,"name":"","name_en":"Grilled Lamb  Vegetables","name_zh":"","price":791,"price_with_tax":870,"calorie":371,"salt":2.4,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"MT13","is_east":true,"is_west":true},{"id":2418,"name":"","name_en":"Mixed Grill","name_zh":"","price":591,"price_with_tax":650,"calorie":779,"salt":3.6,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":3101,"name":"","name_en":"Rice","name_zh":"","price":137,"price_with_tax":150,"calorie":303,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"RP01","is_east":true,"is_west":true},{"id":3102,"name":"","name_en":"Large Rice","name_zh":"","price":182,"price_with_tax":200,"calorie":303,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"RP02","is_east":true,"is_west":true},{"id":3103,"name":"","name_en":"Small Rice","name_zh":"","price":91,"price_with_tax":100,"calorie":303,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"RP03","is_east":true,"is_west":true},{"id":3104,"name":"","name_en":"Petit Focaccia with Cinnamon Sugar","name_zh":"","price":182,"price_with_tax":200,"calorie":246,"salt":0.8,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"RP04","is_east":false,"is_west":false},{"id":3106,"name":"","name_en":"Petit Focaccias","name_zh":"","price":137,"price_with_tax":150,"calorie":214,"salt":0.8,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"RP06","is_east":false,"is_west":false},{"id":3108,"name":"","name_en":"Mini Ficelle","name_zh":"","price":137,"price_with_tax":150,"calorie":189,"salt":1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"RP08","is_east":false,"is_west":false},{"id":3109,"name":"","name_en":"Garlic Toast","name_zh":"","price":182,"price_with_tax":200,"calorie":245,"salt":1.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"RP09","is_east":false,"is_west":false},{"id":3110,"name":"","name_en":"","name_zh":"","price":137,"price_with_tax":150,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":3111,"name":"","name_en":"","name_zh":"","price":182,"price_with_tax":200,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":3112,"name":"","name_en":"","name_zh":"","price":182,"price_with_tax":200,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":3201,"name":"","name_en":"Tiramisu","name_zh":"","price":273,"price_with_tax":300,"calorie":229,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE01","is_east":true,"is_west":true},{"id":3204,"name":"","name_en":"Petit Focaccias with Cinamon Sugar & Italian Gelato","name_zh":"","price":410,"price_with_tax":450,"calorie":372,"salt":0.9,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE04","is_east":false,"is_west":false},{"id":3205,"name":"","name_en":"Italian Gelato","name_zh":"","price":228,"price_with_tax":250,"calorie":121,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE05","is_east":true,"is_west":true},{"id":3206,"name":"","name_en":"Italian Cream Caramel","name_zh":"","price":228,"price_with_tax":250,"calorie":216,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE06","is_east":true,"is_west":true},{"id":3207,"name":"","name_en":"Chocolate Cake","name_zh":"","price":273,"price_with_tax":300,"calorie":166,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE07","is_east":true,"is_west":true},{"id":3212,"name":"","name_en":"Tiramisu & Italian Cream Caramel","name_zh":"","price":455,"price_with_tax":500,"calorie":445,"salt":0.2,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE12","is_east":true,"is_west":true},{"id":3213,"name":"","name_en":"Ice Cream Truffle","name_zh":"","price":319,"price_with_tax":350,"calorie":164,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE13","is_east":true,"is_west":true},{"id":3214,"name":"","name_en":"","name_zh":"","price":410,"price_with_tax":450,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":3215,"name":"","name_en":"Coffee Jelly with Italian Gelato","name_zh":"","price":319,"price_with_tax":350,"calorie":165,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE15","is_east":true,"is_west":true},{"id":3301,"name":" ","name_en":"","name_zh":"","price":364,"price_with_tax":400,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"BR01","is_east":true,"is_west":true},{"id":3302,"name":" ","name_en":"","name_zh":"","price":273,"price_with_tax":300,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"BR02","is_east":true,"is_west":true},{"id":3303,"name":" ","name_en":"","name_zh":"","price":228,"price_with_tax":250,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":3304,"name":" ","name_en":"","name_zh":"","price":319,"price_with_tax":350,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"BR04","is_east":true,"is_west":true},{"id":3306,"name":" (30ml)","name_en":"","name_zh":"","price":273,"price_with_tax":300,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":3401,"name":" (120ml)","name_en":"","name_zh":"","price":91,"price_with_tax":100,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN01","is_east":true,"is_west":true},{"id":3402,"name":" (120ml)","name_en":"","name_zh":"","price":91,"price_with_tax":100,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN02","is_east":true,"is_west":true},{"id":3403,"name":" (250ml)","name_en":"","name_zh":"","price":182,"price_with_tax":200,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN03","is_east":true,"is_west":true},{"id":3404,"name":" (250ml)","name_en":"","name_zh":"","price":182,"price_with_tax":200,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN04","is_east":true,"is_west":true},{"id":3405,"name":" (500ml)","name_en":"","name_zh":"","price":364,"price_with_tax":400,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN05","is_east":true,"is_west":true},{"id":3406,"name":" (500ml)","name_en":"","name_zh":"","price":364,"price_with_tax":400,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN06","is_east":true,"is_west":true},{"id":3407,"name":" (1500ml)","name_en":"","name_zh":"","price":1000,"price_with_tax":1100,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN07","is_east":true,"is_west":true},{"id":3408,"name":" (1500ml)","name_en":"","name_zh":"","price":1000,"price_with_tax":1100,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN08","is_east":true,"is_west":true},{"id":3412,"name":"()","name_en":"","name_zh":"","price":1000,"price_with_tax":1100,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN12","is_east":true,"is_west":true},{"id":3413,"name":"()","name_en":"","name_zh":"","price":1000,"price_with_tax":1100,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN13","is_east":true,"is_west":true},{"id":3414,"name":"()","name_en":"","name_zh":"","price":1000,"price_with_tax":1100,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN14","is_east":true,"is_west":true},{"id":3415,"name":"()","name_en":"","name_zh":"","price":1000,"price_with_tax":1100,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN15","is_east":true,"is_west":true},{"id":3416,"name":"()","name_en":"","name_zh":"","price":1000,"price_with_tax":1100,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN16","is_east":true,"is_west":true},{"id":3419,"name":"  ()","name_en":"","name_zh":"","price":2000,"price_with_tax":2200,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":true,"icon":"","pre_id":"WN19","is_east":true,"is_west":true},{"id":3901,"name":"","name_en":"Tiramisu","name_zh":"","price":273,"price_with_tax":300,"calorie":229,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE01","is_east":true,"is_west":true},{"id":3904,"name":"","name_en":"Petit Focaccias with Cinamon Sugar & Italian Gelato","name_zh":"","price":410,"price_with_tax":450,"calorie":372,"salt":0.9,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE04","is_east":false,"is_west":false},{"id":3905,"name":"","name_en":"Italian Gelato","name_zh":"","price":228,"price_with_tax":250,"calorie":121,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE05","is_east":true,"is_west":true},{"id":3906,"name":"","name_en":"Italian Cream Caramel","name_zh":"","price":228,"price_with_tax":250,"calorie":216,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE06","is_east":true,"is_west":true},{"id":3907,"name":"","name_en":"Chocolate Cake","name_zh":"","price":273,"price_with_tax":300,"calorie":166,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE07","is_east":true,"is_west":true},{"id":3912,"name":"","name_en":"Tiramisu & Italian Cream Caramel","name_zh":"","price":455,"price_with_tax":500,"calorie":445,"salt":0.2,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE12","is_east":true,"is_west":true},{"id":3913,"name":"","name_en":"Ice Cream Truffle","name_zh":"","price":319,"price_with_tax":350,"calorie":164,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE13","is_east":true,"is_west":true},{"id":3914,"name":"","name_en":"","name_zh":"","price":410,"price_with_tax":450,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":3915,"name":"","name_en":"Coffee Jelly with Italian Gelato","name_zh":"","price":319,"price_with_tax":350,"calorie":165,"salt":0.1,"category":"","category_en":"Grand Menu","category_zh":"","genre":" ()","is_alcohol":false,"icon":"","pre_id":"DE15","is_east":true,"is_west":true},{"id":4301,"name":"","name_en":"Coddled Egg for Topping","name_zh":"","price":46,"price_with_tax":50,"calorie":83,"salt":0.2,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"TP01","is_east":true,"is_west":true},{"id":4304,"name":"","name_en":"Vegetable Paste","name_zh":"","price":91,"price_with_tax":100,"calorie":72,"salt":0.3,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"TP04","is_east":true,"is_west":true},{"id":4307,"name":"","name_en":"Table Cheese","name_zh":"","price":91,"price_with_tax":100,"calorie":91,"salt":0.6,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"TP07","is_east":true,"is_west":true},{"id":5101,"name":"","name_en":"Drink Bar (When Ordered with Food)","name_zh":"","price":182,"price_with_tax":200,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"DB01","is_east":true,"is_west":true},{"id":5102,"name":"","name_en":"Drink Bar (Kids)","name_zh":"","price":91,"price_with_tax":100,"calorie":0,"salt":0,"category":"","category_en":"Kids","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"DB02","is_east":true,"is_west":true},{"id":5103,"name":"","name_en":"Drink Bar (Only)","name_zh":"","price":273,"price_with_tax":300,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"DB03","is_east":true,"is_west":true},{"id":5305,"name":" (500ml)","name_en":"","name_zh":"","price":463,"price_with_tax":500,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true},{"id":5306,"name":" (500ml)","name_en":"","name_zh":"","price":1112,"price_with_tax":1200,"calorie":0,"salt":0,"category":"","category_en":"Grand Menu","category_zh":"","genre":"","is_alcohol":false,"icon":"","pre_id":"","is_east":true,"is_west":true}]'),j_={menus:eR},tR=r=>r=="japanese"?" ":"Saizeriya Menu",nR=({language:r})=>re.jsx("header",{className:"page-title",children:re.jsx("h1",{children:tR(r)})}),rR=({genreList:r,setter:e})=>{const[t,s]=G.useState(!1),o=(h,f)=>{t&&s(!1),e(h,f)},l=h=>{s(h),r.forEach(f=>{e(f,h)}),r.forEach(f=>{const g=document.getElementById(f);g&&(g.checked=h)})};return re.jsxs("div",{style:{marginTop:"20px",marginBottom:"20px"},children:[re.jsx("h2",{children:"Select and Check Types"}),re.jsxs("div",{className:"checkbox",children:[re.jsx("input",{type:"checkbox",checked:t,onChange:h=>l(h.target.checked)}),re.jsx("label",{children:"All Genres"})]}),re.jsx("div",{children:r.map(h=>re.jsxs("div",{className:"checkbox",children:[re.jsx("input",{type:"checkbox",value:h,onChange:f=>o(h,f.target.checked),id:h}),re.jsx("label",{children:h})]},h))})]})},iR=({onGacha:r})=>{const[e,t]=Mw.useState(0),s=o=>{t(o)};return re.jsxs("div",{style:{marginTop:"20px",marginBottom:"20px"},children:[re.jsx("ul",{children:re.jsxs("li",{style:{marginBottom:"10px"},children:[" :",re.jsx("input",{type:"number",onChange:o=>s(Number(o.target.value))})]})}),re.jsx("button",{onClick:()=>r(Number(e)||0),children:""})]})},sR=()=>{const r=j_.menus,[e,t]=G.useState(r),[s,o]=G.useState("japanese"),l=Array.from(new Set(j_.menus.map(x=>x.genre))),[h,f]=G.useState([]),g=(x,j)=>{f($=>x==="all"?j?l.filter(F=>F!=="all"):[]:j?$.includes(x)?$:[...$,x]:$.filter(F=>F!==x))};G.useEffect(()=>{t(r.filter(x=>h.includes(x.genre)))},[h]);const y=(x,j)=>j=="japanese"?x.name?x.name:"()":j=="english"?x.name_en?x.name_en:"(no title)":j=="chinese"?x.name_zh?x.name_zh:"()":x.name,w=x=>x=="japanese"?"":x=="chinese"?"":"yen",[,T]=G.useState(null),A=x=>{if(T(x),x===null)return;let $=r.filter(Z=>h.includes(Z.genre)).filter(Z=>Z.price<=x),F=x;const Y=[];for(;;){const Z=$.filter(Se=>Se.price<=F);if(Z.length===0)break;const J=Math.floor(Math.random()*Z.length),ce=Z[J];Y.push(ce),F-=ce.price,$=$.filter(Se=>Se.id!==ce.id)}t(Y)};return re.jsxs("div",{children:[re.jsx(nR,{language:s}),re.jsx(rR,{genreList:l,setter:g}),re.jsx(iR,{onGacha:A}),re.jsxs("select",{name:"language-select",value:s,onChange:x=>o(x.target.value),children:[re.jsx("option",{value:"japanese",children:""}),re.jsx("option",{value:"english",children:"English"}),re.jsx("option",{value:"chinese",children:""})]}),re.jsxs("ul",{children:[e.map(x=>re.jsx("div",{children:re.jsx("li",{children:re.jsx("div",{children:re.jsxs("h3",{children:[re.jsx("span",{children:x.icon}),y(x,s)," : ",x.price," ",w(s)]})},x.id)})})),e.length!==0&&re.jsxs("div",{children:[re.jsxs("p",{children:[": ",e.reduce((x,j)=>x+j.price,0)," ",w(s)]}),re.jsxs("p",{children:[": ",e.reduce((x,j)=>x+(j.calorie?j.calorie:0),0)," kcal"]}),": ",e.reduce((x,j)=>x+(j.salt?j.salt:0),0).toFixed(2)," g"]})]}),re.jsxs("div",{style:{bottom:0,right:0,fontSize:"12px"},children:[": ",re.jsx("a",{href:"https://github.com/ryohidaka/saizeriya-menus",target:"_blank",children:"https://github.com/ryohidaka/saizeriya-menus"})]})]})};/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B_="popstate";function oR(r={}){function e(s,o){let{pathname:l,search:h,hash:f}=s.location;return Qd("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Ya(o)}return lR(e,t,null,r)}function et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ar(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aR(){return Math.random().toString(36).substring(2,10)}function $_(r,e){return{usr:r.state,key:r.key,idx:e}}function Qd(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Vo(e):e,state:t,key:e&&e.key||s||aR()}}function Ya({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Vo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function lR(r,e,t,s={}){let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,f="POP",g=null,y=w();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function w(){return(h.state||{idx:null}).idx}function T(){f="POP";let F=w(),Y=F==null?null:F-y;y=F,g&&g({action:f,location:$.location,delta:Y})}function A(F,Y){f="PUSH";let Z=Qd($.location,F,Y);y=w()+1;let J=$_(Z,y),ce=$.createHref(Z);try{h.pushState(J,"",ce)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(ce)}l&&g&&g({action:f,location:$.location,delta:1})}function x(F,Y){f="REPLACE";let Z=Qd($.location,F,Y);y=w();let J=$_(Z,y),ce=$.createHref(Z);h.replaceState(J,"",ce),l&&g&&g({action:f,location:$.location,delta:0})}function j(F){return uR(F)}let $={get action(){return f},get location(){return r(o,h)},listen(F){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(B_,T),g=F,()=>{o.removeEventListener(B_,T),g=null}},createHref(F){return e(o,F)},createURL:j,encodeLocation(F){let Y=j(F);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:x,go(F){return h.go(F)}};return $}function uR(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),et(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Ya(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function d0(r,e,t="/"){return cR(r,e,t,!1)}function cR(r,e,t,s){let o=typeof e=="string"?Vo(e):e,l=Lr(o.pathname||"/",t);if(l==null)return null;let h=f0(r);hR(h);let f=null;for(let g=0;f==null&&g<h.length;++g){let y=TR(l);f=wR(h[g],y,s)}return f}function f0(r,e=[],t=[],s="",o=!1){let l=(h,f,g=o,y)=>{let w={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:f,route:h};if(w.relativePath.startsWith("/")){if(!w.relativePath.startsWith(s)&&g)return;et(w.relativePath.startsWith(s),`Absolute route path "${w.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(s.length)}let T=Nr([s,w.relativePath]),A=t.concat(w);h.children&&h.children.length>0&&(et(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),f0(h.children,e,A,T,g)),!(h.path==null&&!h.index)&&e.push({path:T,score:yR(T,h.index),routesMeta:A})};return r.forEach((h,f)=>{var g;if(h.path===""||!((g=h.path)!=null&&g.includes("?")))l(h,f);else for(let y of p0(h.path))l(h,f,!0,y)}),e}function p0(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=p0(s.join("/")),f=[];return f.push(...h.map(g=>g===""?l:[l,g].join("/"))),o&&f.push(...h),f.map(g=>r.startsWith("/")&&g===""?"/":g)}function hR(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:vR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var dR=/^:[\w-]+$/,fR=3,pR=2,mR=1,gR=10,_R=-2,G_=r=>r==="*";function yR(r,e){let t=r.split("/"),s=t.length;return t.some(G_)&&(s+=_R),e&&(s+=pR),t.filter(o=>!G_(o)).reduce((o,l)=>o+(dR.test(l)?fR:l===""?mR:gR),s)}function vR(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function wR(r,e,t=!1){let{routesMeta:s}=r,o={},l="/",h=[];for(let f=0;f<s.length;++f){let g=s[f],y=f===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=pc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},w),A=g.route;if(!T&&y&&t&&!s[s.length-1].route.index&&(T=pc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Nr([l,T.pathname]),pathnameBase:CR(Nr([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=Nr([l,T.pathnameBase]))}return h}function pc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=ER(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((y,{paramName:w,isOptional:T},A)=>{if(w==="*"){let j=f[A]||"";h=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const x=f[A];return T&&!x?y[w]=void 0:y[w]=(x||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function ER(r,e=!1,t=!0){ar(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,g)=>(s.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function TR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ar(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Lr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function IR(r,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Vo(r):r;return{pathname:t?t.startsWith("/")?t:SR(t,e):e,search:RR(s),hash:PR(o)}}function SR(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Id(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AR(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function m0(r){let e=AR(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function g0(r,e,t,s=!1){let o;typeof r=="string"?o=Vo(r):(o={...r},et(!o.pathname||!o.pathname.includes("?"),Id("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Id("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Id("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}f=T>=0?e[T]:"/"}let g=IR(o,f),y=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||w)&&(g.pathname+="/"),g}var Nr=r=>r.join("/").replace(/\/\/+/g,"/"),CR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),RR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,PR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function kR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var _0=["POST","PUT","PATCH","DELETE"];new Set(_0);var xR=["GET",..._0];new Set(xR);var Oo=G.createContext(null);Oo.displayName="DataRouter";var Vc=G.createContext(null);Vc.displayName="DataRouterState";G.createContext(!1);var y0=G.createContext({isTransitioning:!1});y0.displayName="ViewTransition";var NR=G.createContext(new Map);NR.displayName="Fetchers";var DR=G.createContext(null);DR.displayName="Await";var lr=G.createContext(null);lr.displayName="Navigation";var ul=G.createContext(null);ul.displayName="Location";var Fr=G.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var Wf=G.createContext(null);Wf.displayName="RouteError";function VR(r,{relative:e}={}){et(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=G.useContext(lr),{hash:o,pathname:l,search:h}=hl(r,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Nr([t,l])),s.createHref({pathname:f,search:h,hash:o})}function cl(){return G.useContext(ul)!=null}function gs(){return et(cl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(ul).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w0(r){G.useContext(lr).static||G.useLayoutEffect(r)}function OR(){let{isDataRoute:r}=G.useContext(Fr);return r?qR():MR()}function MR(){et(cl(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Oo),{basename:e,navigator:t}=G.useContext(lr),{matches:s}=G.useContext(Fr),{pathname:o}=gs(),l=JSON.stringify(m0(s)),h=G.useRef(!1);return w0(()=>{h.current=!0}),G.useCallback((g,y={})=>{if(ar(h.current,v0),!h.current)return;if(typeof g=="number"){t.go(g);return}let w=g0(g,JSON.parse(l),o,y.relative==="path");r==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Nr([e,w.pathname])),(y.replace?t.replace:t.push)(w,y.state,y)},[e,t,l,o,r])}G.createContext(null);function hl(r,{relative:e}={}){let{matches:t}=G.useContext(Fr),{pathname:s}=gs(),o=JSON.stringify(m0(t));return G.useMemo(()=>g0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function LR(r,e){return E0(r,e)}function E0(r,e,t,s,o){var Z;et(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=G.useContext(lr),{matches:h}=G.useContext(Fr),f=h[h.length-1],g=f?f.params:{},y=f?f.pathname:"/",w=f?f.pathnameBase:"/",T=f&&f.route;{let J=T&&T.path||"";T0(y,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let A=gs(),x;if(e){let J=typeof e=="string"?Vo(e):e;et(w==="/"||((Z=J.pathname)==null?void 0:Z.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${J.pathname}" was given in the \`location\` prop.`),x=J}else x=A;let j=x.pathname||"/",$=j;if(w!=="/"){let J=w.replace(/^\//,"").split("/");$="/"+j.replace(/^\//,"").split("/").slice(J.length).join("/")}let F=d0(r,{pathname:$});ar(T||F!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ar(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=jR(F&&F.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:Nr([w,l.encodeLocation?l.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?w:Nr([w,l.encodeLocation?l.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,t,s,o);return e&&Y?G.createElement(ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},Y):Y}function bR(){let r=WR(),e=kR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,h)}var FR=G.createElement(bR,null),zR=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?G.createElement(Fr.Provider,{value:this.props.routeContext},G.createElement(Wf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UR({routeContext:r,match:e,children:t}){let s=G.useContext(Oo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Fr.Provider,{value:r},t)}function jR(r,e=[],t=null,s=null,o=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,h=t==null?void 0:t.errors;if(h!=null){let y=l.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);et(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,g=-1;if(t)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=y),w.route.id){let{loaderData:T,errors:A}=t,x=w.route.loader&&!T.hasOwnProperty(w.route.id)&&(!A||A[w.route.id]===void 0);if(w.route.lazy||x){f=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((y,w,T)=>{let A,x=!1,j=null,$=null;t&&(A=h&&w.route.id?h[w.route.id]:void 0,j=w.route.errorElement||FR,f&&(g<0&&T===0?(T0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,$=null):g===T&&(x=!0,$=w.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,T+1)),Y=()=>{let Z;return A?Z=j:x?Z=$:w.route.Component?Z=G.createElement(w.route.Component,null):w.route.element?Z=w.route.element:Z=y,G.createElement(UR,{match:w,routeContext:{outlet:y,matches:F,isDataRoute:t!=null},children:Z})};return t&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?G.createElement(zR,{location:t.location,revalidation:t.revalidation,component:j,error:A,children:Y(),routeContext:{outlet:null,matches:F,isDataRoute:!0},unstable_onError:s}):Y()},null)}function qf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BR(r){let e=G.useContext(Oo);return et(e,qf(r)),e}function $R(r){let e=G.useContext(Vc);return et(e,qf(r)),e}function GR(r){let e=G.useContext(Fr);return et(e,qf(r)),e}function Kf(r){let e=GR(r),t=e.matches[e.matches.length-1];return et(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function HR(){return Kf("useRouteId")}function WR(){var s;let r=G.useContext(Wf),e=$R("useRouteError"),t=Kf("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[t]}function qR(){let{router:r}=BR("useNavigate"),e=Kf("useNavigate"),t=G.useRef(!1);return w0(()=>{t.current=!0}),G.useCallback(async(o,l={})=>{ar(t.current,v0),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var H_={};function T0(r,e,t){!e&&!H_[r]&&(H_[r]=!0,ar(!1,t))}G.memo(KR);function KR({routes:r,future:e,state:t,unstable_onError:s}){return E0(r,void 0,t,s,e)}function Hu(r){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QR({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:l=!1}){et(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=G.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Vo(t));let{pathname:g="/",search:y="",hash:w="",state:T=null,key:A="default"}=t,x=G.useMemo(()=>{let j=Lr(g,h);return j==null?null:{location:{pathname:j,search:y,hash:w,state:T,key:A},navigationType:s}},[h,g,y,w,T,A,s]);return ar(x!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:G.createElement(lr.Provider,{value:f},G.createElement(ul.Provider,{children:e,value:x}))}function JR({children:r,location:e}){return LR(Jd(r),e)}function Jd(r,e=[]){let t=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let l=[...e,o];if(s.type===G.Fragment){t.push.apply(t,Jd(s.props.children,l));return}et(s.type===Hu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Jd(s.props.children,l)),t.push(h)}),t}var Wu="get",qu="application/x-www-form-urlencoded";function Oc(r){return r!=null&&typeof r.tagName=="string"}function XR(r){return Oc(r)&&r.tagName.toLowerCase()==="button"}function YR(r){return Oc(r)&&r.tagName.toLowerCase()==="form"}function ZR(r){return Oc(r)&&r.tagName.toLowerCase()==="input"}function eP(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function tP(r,e){return r.button===0&&(!e||e==="_self")&&!eP(r)}var Ou=null;function nP(){if(Ou===null)try{new FormData(document.createElement("form"),0),Ou=!1}catch{Ou=!0}return Ou}var rP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sd(r){return r!=null&&!rP.has(r)?(ar(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qu}"`),null):r}function iP(r,e){let t,s,o,l,h;if(YR(r)){let f=r.getAttribute("action");s=f?Lr(f,e):null,t=r.getAttribute("method")||Wu,o=Sd(r.getAttribute("enctype"))||qu,l=new FormData(r)}else if(XR(r)||ZR(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||f.getAttribute("action");if(s=g?Lr(g,e):null,t=r.getAttribute("formmethod")||f.getAttribute("method")||Wu,o=Sd(r.getAttribute("formenctype"))||Sd(f.getAttribute("enctype"))||qu,l=new FormData(f,r),!nP()){let{name:y,type:w,value:T}=r;if(w==="image"){let A=y?`${y}.`:"";l.append(`${A}x`,"0"),l.append(`${A}y`,"0")}else y&&l.append(y,T)}}else{if(Oc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wu,s=null,o=qu,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:l,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function sP(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Lr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function oP(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aP(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function lP(r,e,t){let s=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await oP(l,t);return h.links?h.links():[]}return[]}));return dP(s.flat(1).filter(aP).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W_(r,e,t,s,o,l){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,f=(g,y)=>{var w;return t[y].pathname!==g.pathname||((w=t[y].route.path)==null?void 0:w.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return l==="assets"?e.filter((g,y)=>h(g,y)||f(g,y)):l==="data"?e.filter((g,y)=>{var T;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,y)||f(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function uP(r,e,{includeHydrateFallback:t}={}){return cP(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function cP(r){return[...new Set(r)]}function hP(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function dP(r,e){let t=new Set;return new Set(e),r.reduce((s,o)=>{let l=JSON.stringify(hP(o));return t.has(l)||(t.add(l),s.push({key:l,link:o})),s},[])}function I0(){let r=G.useContext(Oo);return Qf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function fP(){let r=G.useContext(Vc);return Qf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Jf=G.createContext(void 0);Jf.displayName="FrameworkContext";function S0(){let r=G.useContext(Jf);return Qf(r,"You must render this element inside a <HydratedRouter> element"),r}function pP(r,e){let t=G.useContext(Jf),[s,o]=G.useState(!1),[l,h]=G.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:y,onMouseLeave:w,onTouchStart:T}=e,A=G.useRef(null);G.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let $=Y=>{Y.forEach(Z=>{h(Z.isIntersecting)})},F=new IntersectionObserver($,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[r]),G.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let x=()=>{o(!0)},j=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,A,{}]:[l,A,{onFocus:xa(f,x),onBlur:xa(g,j),onMouseEnter:xa(y,x),onMouseLeave:xa(w,j),onTouchStart:xa(T,x)}]:[!1,A,{}]}function xa(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function mP({page:r,...e}){let{router:t}=I0(),s=G.useMemo(()=>d0(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?G.createElement(_P,{page:r,matches:s,...e}):null}function gP(r){let{manifest:e,routeModules:t}=S0(),[s,o]=G.useState([]);return G.useEffect(()=>{let l=!1;return lP(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),s}function _P({page:r,matches:e,...t}){let s=gs(),{manifest:o,routeModules:l}=S0(),{basename:h}=I0(),{loaderData:f,matches:g}=fP(),y=G.useMemo(()=>W_(r,e,g,o,s,"data"),[r,e,g,o,s]),w=G.useMemo(()=>W_(r,e,g,o,s,"assets"),[r,e,g,o,s]),T=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,$=!1;if(e.forEach(Y=>{var J;let Z=o.routes[Y.route.id];!Z||!Z.hasLoader||(!y.some(ce=>ce.route.id===Y.route.id)&&Y.route.id in f&&((J=l[Y.route.id])!=null&&J.shouldRevalidate)||Z.hasClientLoader?$=!0:j.add(Y.route.id))}),j.size===0)return[];let F=sP(r,h,"data");return $&&j.size>0&&F.searchParams.set("_routes",e.filter(Y=>j.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[F.pathname+F.search]},[h,f,s,o,y,e,r,l]),A=G.useMemo(()=>uP(w,o),[w,o]),x=gP(w);return G.createElement(G.Fragment,null,T.map(j=>G.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...t})),A.map(j=>G.createElement("link",{key:j,rel:"modulepreload",href:j,...t})),x.map(({key:j,link:$})=>G.createElement("link",{key:j,nonce:t.nonce,...$})))}function yP(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var A0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A0&&(window.__reactRouterVersion="7.8.2")}catch{}function vP({basename:r,children:e,window:t}){let s=G.useRef();s.current==null&&(s.current=oR({window:t,v5Compat:!0}));let o=s.current,[l,h]=G.useState({action:o.action,location:o.location}),f=G.useCallback(g=>{G.startTransition(()=>h(g))},[h]);return G.useLayoutEffect(()=>o.listen(f),[o,f]),G.createElement(QR,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:o})}var C0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ba=G.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:l,replace:h,state:f,target:g,to:y,preventScrollReset:w,viewTransition:T,...A},x){let{basename:j}=G.useContext(lr),$=typeof y=="string"&&C0.test(y),F,Y=!1;if(typeof y=="string"&&$&&(F=y,A0))try{let C=new URL(window.location.href),k=y.startsWith("//")?new URL(C.protocol+y):new URL(y),V=Lr(k.pathname,j);k.origin===C.origin&&V!=null?y=V+k.search+k.hash:Y=!0}catch{ar(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=VR(y,{relative:o}),[J,ce,Se]=pP(s,A),Ie=IP(y,{replace:h,state:f,target:g,preventScrollReset:w,relative:o,viewTransition:T});function N(C){e&&e(C),C.defaultPrevented||Ie(C)}let I=G.createElement("a",{...A,...Se,href:F||Z,onClick:Y||l?e:N,ref:yP(x,ce),target:g,"data-discover":!$&&t==="render"?"true":void 0});return J&&!$?G.createElement(G.Fragment,null,I,G.createElement(mP,{page:Z})):I});Ba.displayName="Link";var wP=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:l,to:h,viewTransition:f,children:g,...y},w){let T=hl(h,{relative:y.relative}),A=gs(),x=G.useContext(Vc),{navigator:j,basename:$}=G.useContext(lr),F=x!=null&&PP(T)&&f===!0,Y=j.encodeLocation?j.encodeLocation(T).pathname:T.pathname,Z=A.pathname,J=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),J=J?J.toLowerCase():null,Y=Y.toLowerCase()),J&&$&&(J=Lr(J,$)||J);const ce=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let Se=Z===Y||!o&&Z.startsWith(Y)&&Z.charAt(ce)==="/",Ie=J!=null&&(J===Y||!o&&J.startsWith(Y)&&J.charAt(Y.length)==="/"),N={isActive:Se,isPending:Ie,isTransitioning:F},I=Se?e:void 0,C;typeof s=="function"?C=s(N):C=[s,Se?"active":null,Ie?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(N):l;return G.createElement(Ba,{...y,"aria-current":I,className:C,ref:w,style:k,to:h,viewTransition:f},typeof g=="function"?g(N):g)});wP.displayName="NavLink";var EP=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:l,method:h=Wu,action:f,onSubmit:g,relative:y,preventScrollReset:w,viewTransition:T,...A},x)=>{let j=CP(),$=RP(f,{relative:y}),F=h.toLowerCase()==="get"?"get":"post",Y=typeof f=="string"&&C0.test(f),Z=J=>{if(g&&g(J),J.defaultPrevented)return;J.preventDefault();let ce=J.nativeEvent.submitter,Se=(ce==null?void 0:ce.getAttribute("formmethod"))||h;j(ce||J.currentTarget,{fetcherKey:e,method:Se,navigate:t,replace:o,state:l,relative:y,preventScrollReset:w,viewTransition:T})};return G.createElement("form",{ref:x,method:F,action:$,onSubmit:s?g:Z,...A,"data-discover":!Y&&r==="render"?"true":void 0})});EP.displayName="Form";function TP(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R0(r){let e=G.useContext(Oo);return et(e,TP(r)),e}function IP(r,{target:e,replace:t,state:s,preventScrollReset:o,relative:l,viewTransition:h}={}){let f=OR(),g=gs(),y=hl(r,{relative:l});return G.useCallback(w=>{if(tP(w,e)){w.preventDefault();let T=t!==void 0?t:Ya(g)===Ya(y);f(r,{replace:T,state:s,preventScrollReset:o,relative:l,viewTransition:h})}},[g,f,y,t,s,e,r,o,l,h])}var SP=0,AP=()=>`__${String(++SP)}__`;function CP(){let{router:r}=R0("useSubmit"),{basename:e}=G.useContext(lr),t=HR();return G.useCallback(async(s,o={})=>{let{action:l,method:h,encType:f,formData:g,body:y}=iP(s,e);if(o.navigate===!1){let w=o.fetcherKey||AP();await r.fetch(w,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function RP(r,{relative:e}={}){let{basename:t}=G.useContext(lr),s=G.useContext(Fr);et(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),l={...hl(r||".",{relative:e})},h=gs();if(r==null){l.search=h.search;let f=new URLSearchParams(l.search),g=f.getAll("index");if(g.some(w=>w==="")){f.delete("index"),g.filter(T=>T).forEach(T=>f.append("index",T));let w=f.toString();l.search=w?`?${w}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Nr([t,l.pathname])),Ya(l)}function PP(r,{relative:e}={}){let t=G.useContext(y0);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=R0("useViewTransitionState"),o=hl(r,{relative:e});if(!t.isTransitioning)return!1;let l=Lr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Lr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return pc(o.pathname,h)!=null||pc(o.pathname,l)!=null}function kP(){const{user:r}=Hf();return re.jsxs(re.Fragment,{children:[re.jsx("header",{style:{position:"fixed",top:0,width:"100%",left:0}}),re.jsxs(vP,{children:[re.jsx("nav",{children:re.jsxs("ul",{style:{position:"absolute",top:"3%",left:"1%"},children:[re.jsx("li",{children:re.jsx(Ba,{to:"/page",children:"test page"})}),re.jsx("li",{children:re.jsx(Ba,{to:"/chat",children:"go to chat"})}),re.jsx("li",{children:re.jsx(Ba,{to:"/login",children:"log in"})})]})}),re.jsxs(JR,{children:[re.jsx(Hu,{path:"/page",element:re.jsx(sR,{})}),re.jsx(Hu,{path:"/login",element:re.jsx(YC,{})}),re.jsx(Hu,{path:"/chat",element:r?re.jsx(ZC,{}):null})]})]})]})}jw.createRoot(document.getElementById("root")).render(re.jsx(G.StrictMode,{children:re.jsx(kP,{})}));
